"use strict";
(self.webpackJsonp = self.webpackJsonp || []).push([
  [158],
  {
    306: function (e, t, s) {
      var r = s(1);
      s(13),
        (t.a = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M5.218 8.924a13.465 13.465 0 005.858 5.858l1.955-1.955c.24-.24.596-.32.907-.214a10.14 10.14 0 003.173.507c.489 0 .889.4.889.889v3.102c0 .489-.4.889-.889.889C8.764 18 2 11.236 2 2.889 2 2.4 2.4 2 2.889 2H6c.489 0 .889.4.889.889 0 1.111.178 2.178.507 3.173a.892.892 0 01-.223.907L5.218 8.924z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M10.905 8.846a.53.53 0 01-.75-.002.535.535 0 01-.002-.752l4.928-5.021h-2.876a.535.535 0 010-1.071h4.297c.275 0 .498.223.498.498V6.9a.527.527 0 11-1.054 0V3.83l-5.04 5.016z",
              }),
            ],
            4,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    336: function (e, t, s) {
      var r = s(1);
      s(13),
        (t.a = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M5.218 8.924a13.465 13.465 0 005.858 5.858l1.955-1.955c.24-.24.596-.32.907-.214a10.14 10.14 0 003.173.507c.489 0 .889.4.889.889v3.102c0 .489-.4.889-.889.889C8.764 18 2 11.236 2 2.889 2 2.4 2.4 2 2.889 2H6c.489 0 .889.4.889.889 0 1.111.178 2.178.507 3.173a.892.892 0 01-.223.907L5.218 8.924z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M16.095 2.154a.53.53 0 01.75.002.535.535 0 01.002.752L11.919 7.93h2.876a.535.535 0 010 1.071h-4.297A.498.498 0 0110 8.502V4.1a.527.527 0 111.054 0v3.07l5.04-5.016z",
              }),
            ],
            4,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    473: function (e, t, s) {
      s.d(t, "i", function () {
        return m;
      }),
        s.d(t, "h", function () {
          return S;
        }),
        s.d(t, "g", function () {
          return y;
        }),
        s.d(t, "a", function () {
          return k;
        }),
        s.d(t, "e", function () {
          return w;
        }),
        s.d(t, "b", function () {
          return L;
        }),
        s.d(t, "c", function () {
          return _;
        }),
        s.d(t, "f", function () {
          return O;
        }),
        s.d(t, "d", function () {
          return T;
        });
      var r = s(1),
        n = s(13),
        a = s(76),
        i = s(70),
        o = s(475),
        l = s(147),
        c = s(149);
      function d(e) {
        return e ? { blob: e, uri: (0, c.a)(e) } : { blob: null, uri: null };
      }
      function h(e) {
        e.uri && (0, c.b)(e.uri);
      }
      var u = class extends n.a {
          static getDerivedStateFromProps(e, t) {
            return (function (e, t) {
              return t.blob !== e ? (h(t), d(e)) : null;
            })(e.blob, t);
          }
          constructor(e) {
            super(e), (this.state = d(e.blob));
          }
          componentWillUnmount() {
            h(this.state);
          }
          render() {
            var e = this.props,
              t = e.className,
              s = e.children,
              a = e.style,
              i = Object.assign(
                {
                  backgroundImage: this.state.uri
                    ? `url('${this.state.uri}')`
                    : null,
                },
                a
              );
            return (0, r.f)(1, "div", t, s, 0, { style: n.h(i) });
          }
        },
        p = s(22),
        v = s.n(p),
        f = s(352),
        g = s(501),
        b = s(331);
      function m(e, t) {
        var s = e / t;
        return s >= 6.4 ? 8 : s >= 3.2 ? 4 : s >= 1.6 ? 2 : 1;
      }
      function S(e, t, s) {
        var r;
        return (
          null != s && (r = e && t ? (s * t) / e || 1 : s),
          null != r ? r + "px" : void 0
        );
      }
      function y(e) {
        var t = { height: S(e.width, e.height, e.parentWidth) };
        return (
          e.isReady || (t.filter = "blur(5px)"),
          e.bgColor && (t.backgroundColor = e.bgColor),
          null == e.width &&
            null != e.parentWidth &&
            (t.width = e.parentWidth + "px"),
          (0, r.f)(
            1,
            "div",
            (0, v.a)("HH", "visible" === e.overflow && "HI", e.className),
            (0, r.b)(2, k, {
              previewId: e.previewId,
              style: t,
              children: e.children,
            }),
            2,
            { style: n.h(e.style) }
          )
        );
      }
      function k(e) {
        return (0, r.b)(2, l.a, {
          props: e,
          promise: (0, b.c)(e.previewId),
          fallback: C,
          render: C,
        });
      }
      function C(e, t) {
        return (0, r.b)(2, u, {
          blob: t,
          className: "HJ",
          style: e.style,
          children: e.children,
        });
      }
      function w(e) {
        var t = e.content,
          s = e.parentWidth,
          n = e.className,
          a = e.style,
          i = t.width && s ? m(t.width, s) : void 0;
        return (0, r.b)(2, y, {
          previewId: t.preview,
          isReady: "ready" === t.mediaStatus.type,
          width: t.width,
          height: t.height,
          parentWidth: s,
          className: n,
          style: a,
          bgColor: t.bg,
          children: (0, r.b)(2, N, { content: t, sampleSize: i }),
        });
      }
      var x = class extends n.a {
        constructor() {
          var e;
          return (e = super(...arguments)), (this.videoLock = null), e;
        }
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.contentRef !== e.contentRef ||
              s.parentWidth !== e.parentWidth ||
              s.parentHeight !== e.parentHeight ||
              s.rotation !== e.rotation)
          );
        }
        componentDidMount() {
          this.videoLock = (0, o.lockVideoProcessing)();
        }
        componentWillUnmount() {
          this.videoLock && this.videoLock.resolve();
        }
        render() {
          var e = this.props,
            t = e.contentRef,
            s = e.parentWidth,
            n = e.parentHeight,
            a = e.rotation,
            i = (function (e, t, s) {
              var r = e,
                n = t;
              return (
                (90 !== s && 270 !== s) || ((r = t), (n = e)),
                { width: r + "px", height: n + "px" }
              );
            })(s, n, a),
            o = (function (e) {
              switch (e) {
                case 90:
                  return "HM";
                case 180:
                  return "HN";
                case 270:
                  return "HO";
              }
              return null;
            })(a);
          return (0, r.b)(2, l.a, {
            props: {
              className: o,
              style: i,
              autoPlay: !0,
              loop: !0,
              muted: !0,
            },
            promise: (0, b.a)(t),
            render: I,
          });
        }
      };
      function I(e, t) {
        return t
          ? (0, r.b)(2, g.a, {
              blob: t,
              className: e.className,
              style: e.style,
              autoPlay: e.autoPlay,
              loop: e.loop,
              muted: e.muted,
            })
          : null;
      }
      var L = 500,
        _ = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { playing: !1 }),
              (this.play = new i.a(() => {
                this.setState({ playing: !0 });
              })),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.autoplay !== e.autoplay || s.content !== e.content)) ||
              (r !== t && r.playing !== t.playing)
            );
          }
          componentDidMount() {
            this.props.autoplay && this.play.debounce(L);
          }
          componentDidUpdate(e) {
            this.props.autoplay
              ? this.props.autoplay && !e.autoplay && this.play.debounce(L)
              : (this.play.cancel(),
                this.state.playing && this.setState({ playing: !1 }));
          }
          componentWillUnmount() {
            this.play.cancel();
          }
          render() {
            var e,
              t = this.props.content,
              s = this.state.playing,
              n = (function (e) {
                var t = a.i,
                  s = a.g;
                if (e.width && e.height) {
                  var r = e.height / e.width;
                  r > a.h
                    ? ((s = a.g), (t = a.g / r))
                    : ((t = a.i), (s = a.i * r));
                }
                var n = { width: t + "px", height: s + "px" };
                return (
                  s < a.j && (n.marginTop = (a.j - s) / 2 + "px"),
                  { width: t, height: s, style: n }
                );
              })(t);
            if (s && "ready" === t.mediaStatus.type)
              e = (0, r.b)(2, x, {
                contentRef: t.mediaStatus.ref,
                rotation: t.rotation,
                parentWidth: n.width,
                parentHeight: n.height,
              });
            else if (t.highResPreview) {
              var i = t.width && n.width ? m(t.width, n.width) : void 0;
              e = (0, r.b)(2, N, { content: t, sampleSize: i });
            }
            return (0, r.b)(2, y, {
              previewId: t.preview,
              isReady: "ready" === t.mediaStatus.type,
              width: t.width,
              height: t.height,
              parentWidth: n.width,
              className: "HL",
              style: n.style,
              bgColor: t.bg,
              children: e,
            });
          }
        };
      function N(e) {
        return "ready" !== e.content.mediaStatus.type
          ? null
          : (0, r.b)(2, l.a, {
              props: { sampleSize: e.sampleSize },
              promise: (0, b.b)(e.content.highResPreview),
              render: M,
            });
      }
      function M(e, t) {
        return t
          ? (0, r.b)(2, f.b, {
              blob: t,
              sampleSize: e.sampleSize,
              className: "HK",
            })
          : null;
      }
      var O = class extends n.a {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.previewId !== e.previewId ||
              s.className !== e.className ||
              s.bgColor !== e.bgColor)
          );
        }
        render() {
          return (0, r.b)(2, y, {
            previewId: this.props.previewId,
            isReady: !0,
            className: this.props.className,
            bgColor: this.props.bgColor,
          });
        }
      };
      function T(e) {
        var t = e.width,
          s = e.parentWidth,
          n = e.src;
        n && t && s && (n = `${n}#-moz-samplesize=${m(t, s)}`);
        var a =
          null == n ? null : (0, r.f)(1, "img", "HK", null, 1, { src: n });
        return (0, r.b)(2, y, {
          previewId: e.previewId,
          isReady: e.isReady || null != a,
          width: t,
          height: e.height,
          parentWidth: s,
          className: e.className,
          style: e.style,
          bgColor: e.bgColor,
          children: a,
        });
      }
    },
    477: function (e, t, s) {
      s.d(t, "a", function () {
        return a;
      });
      var r = s(1),
        n = (s(13), s(164));
      function a() {
        return (0, r.f)(1, "div", "KY", (0, r.b)(2, n.a), 2);
      }
    },
    481: function (e, t, s) {
      s.d(t, "d", function () {
        return u;
      }),
        s.d(t, "c", function () {
          return p;
        }),
        s.d(t, "b", function () {
          return v;
        });
      var r = s(1),
        n = (s(13), s(76)),
        a = s(20),
        i = s(522),
        o = s(473),
        l = s(14),
        c = s(56),
        d = s(276),
        h = class extends c.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Sq = !1),
              (this.state = { imgSrcUrl: null }),
              (this.Sr = (e, t) => {
                p(e, t, n.i, n.g).then((s) => {
                  this.Sq &&
                    this.setState((r) =>
                      this.props.content.lat !== e ||
                      this.props.content.lng !== t
                        ? null
                        : { imgSrcUrl: s }
                    );
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.previewHeight !== e.previewHeight ||
                  s.content !== e.content ||
                  s.children !== e.children)) ||
              (r !== t && r.imgSrcUrl !== t.imgSrcUrl)
            );
          }
          componentDidMount() {
            this.Sq = !0;
            var e = this.props.content,
              t = e.lat,
              s = e.lng;
            this.Sr(t, s), super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            var s = e.content,
              r = this.props.content,
              n = r.lat,
              a = r.lng;
            (s.lat === n && s.lng === a) || this.Sr(n, a),
              super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            (this.Sq = !1), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.props.content;
            e.setCenterLabel(833, () => {
              (0, d.a)(t, u(s));
            });
          }
          render() {
            return (0, r.b)(2, o.d, {
              previewId: this.props.content.preview,
              src: this.state.imgSrcUrl,
              style: { height: this.props.previewHeight || n.g + "px" },
            });
          }
        };
      function u(e) {
        var t,
          s = e.lat,
          r = e.lng,
          n = e.name,
          a = e.address;
        return (t = a ? (n ? `${n}, ${a}` : a) : n)
          ? `${l.l}${encodeURIComponent(t)}/@${s},${r}`
          : `${l.k}${s},${r}`;
      }
      function p(e, t, s, r, n) {
        var o = Math.round(s / 2),
          l = Math.round(r / 2) + 50;
        return (0, i.c)(
          (0, i.b)("https://maps.googleapis.com/maps/api/staticmap", {
            zoom: null != n ? n : 14,
            size: o + "x" + l,
            scale: 2,
            language: (0, a.d)().lg,
            client: i.a,
            markers: "color:red|size:tiny|" + e + ", " + t,
          })
        );
      }
      function v(e, t) {
        return (0, i.c)(
          (0, i.b)("https://maps.googleapis.com/maps/api/geocode/json", {
            latlng: `${e},${t}`,
            result_type: "street_address",
            location_type: "ROOFTOP",
            language: (0, a.d)().lg,
            client: i.a,
          })
        );
      }
      t.a = h;
    },
    484: function (e, t, s) {
      s.d(t, "b", function () {
        return r;
      }),
        s.d(t, "a", function () {
          return n;
        });
      var r = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"],
        n = {
          OPEN_24H: "open_24h",
          SPECIFIC_HOURS: "specific_hours",
          APPOINTMENT_ONLY: "appointment_only",
          CLOSED: "closed",
        };
    },
    489: function (e, t, s) {
      var r = s(13),
        n = s(48),
        a = class extends r.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.caption !== e.caption || s.formatting !== e.formatting)
            );
          }
          render() {
            var e = this.props,
              t = e.caption,
              s = e.formatting;
            return (0, n.d)(t, s);
          }
        };
      t.a = a;
    },
    490: function (e, t, s) {
      function r(e, t) {
        e.openScreen("IDENTITY_VERIFICATION_SCREEN", { jid: t });
      }
      function n(e, t, s) {
        e.openScreen("IDENTITY_VERIFICATION_SCAN_CODE_SCREEN", {
          jid: t,
          identityVerificationData: s,
        });
      }
      s.d(t, "b", function () {
        return r;
      }),
        s.d(t, "a", function () {
          return n;
        });
    },
    491: function (e, t, s) {
      var r = s(1);
      s(13),
        (t.a = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M16.9 10.4h-4.5V2.2c0-.7-.5-1.2-1.2-1.2H8.9c-.7 0-1.2.5-1.2 1.2v8.2H3.2c-.9 0-1.3 1.1-.7 1.7l6.7 6.7c.5.5 1.2.5 1.7 0l6.7-6.7c.6-.7.2-1.7-.7-1.7z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        });
    },
    492: function (e, t, s) {
      s.d(t, "b", function () {
        return a;
      }),
        s.d(t, "a", function () {
          return o;
        });
      var r = s(35),
        n = new RegExp("^[a-zA-Z0-9_-]{11,50}$");
      function a(e) {
        return n.test(e);
      }
      var i = new RegExp("^/([a-zA-Z0-9_-]{11,50})$");
      function o(e) {
        var t = (0, r.i)(e);
        if (!t) return null;
        var s = t.hostname,
          n = t.searchParams,
          o = t.pathname,
          l = s.toLowerCase();
        if ("www.youtube.com" === l) {
          var c = n.get("v");
          return c && a(c) ? c : null;
        }
        if ("youtu.be" === l) {
          var d = o.match(i);
          if (d) return d[1];
        }
        return null;
      }
    },
    501: function (e, t, s) {
      var r = s(1),
        n = s(13),
        a = s(149);
      function i(e) {
        return e ? { blob: e, uri: (0, a.a)(e) } : { blob: null, uri: null };
      }
      function o(e) {
        e.uri && (0, a.b)(e.uri);
      }
      var l = class extends n.a {
        static getDerivedStateFromProps(e, t) {
          return (function (e, t) {
            return t.blob !== e ? (o(t), i(e)) : null;
          })(e.blob, t);
        }
        constructor(e) {
          super(e), (this.state = i(e.blob));
        }
        componentWillUnmount() {
          o(this.state);
        }
        render() {
          var e = this.props,
            t = e.className,
            s = e.style,
            a = e.autoPlay,
            i = e.loop,
            o = e.muted;
          return (0, r.f)(1, "video", t, null, 1, {
            src: this.state.uri,
            style: n.h(s),
            autoPlay: a,
            loop: i,
            muted: o,
          });
        }
      };
      t.a = l;
    },
    505: function (e, t, s) {
      var r = s(1);
      s(13),
        (t.a = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M8.926 20.115a1.72 1.72 0 001.716 1.716h6.863a1.72 1.72 0 001.716-1.716V9.819H8.926zm11.153-12.87h-3.003l-.858-.858h-4.29l-.857.858H8.068v1.716h12.011z",
            }),
            2,
            { viewBox: "0 0 28 28" }
          );
        });
    },
    507: function (e, t, s) {
      var r = s(1),
        n = s(13),
        a = s(528),
        i = s.n(a),
        o = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Hj = n.e()),
              (this.Hk = n.e()),
              (this.state = {}),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e && (s.className !== e.className || s.data !== e.data)) ||
              (r !== t && r.loaded !== t.loaded)
            );
          }
          componentDidMount() {
            this.Hk.current && this.setState({ loaded: !0 });
          }
          componentDidUpdate() {
            var e = this.Hj.current;
            if (e) {
              var t = e.width,
                s = e.height,
                r = this.props.data,
                n = (0, i.a)(r, { errorCorrectLevel: 1 }).modules;
              if (null == n)
                return (
                  __LOG__(4)`Failed to obtain QR code cells`,
                  void SEND_LOGS("qrcode-failed")
                );
              var a = n.length,
                o = e.getContext("2d");
              o.clearRect(0, 0, e.width, e.height);
              var l = Math.floor((0.8 * Math.min(t, s)) / a),
                c = Math.round((t - l * a) / 2),
                d = Math.round((s - l * a) / 2);
              o.fillStyle = "#000";
              for (var h = 0; h < a; h++)
                for (var u = -1, p = 0; p < a; p++)
                  n[h][p] && u < 0 && (u = p),
                    (n[h][p] && p !== a - 1) ||
                      (u > -1 &&
                        (o.fillRect(
                          c + u * l,
                          d + h * l,
                          l * (p - u + (n[h][p] ? 1 : 0)),
                          l
                        ),
                        (u = -1)));
            }
          }
          render() {
            var e = this.Hk.current,
              t = null;
            if (e) {
              var s = e.clientWidth,
                n = e.clientHeight;
              t = (0, r.f)(
                1,
                "canvas",
                null,
                null,
                1,
                { width: s, height: n },
                null,
                this.Hj
              );
            }
            return (0, r.f)(
              1,
              "div",
              this.props.className,
              t,
              0,
              null,
              null,
              this.Hk
            );
          }
        };
      t.a = o;
    },
    508: function (e, t) {
      e.exports = {
        MODE_NUMBER: 1,
        MODE_ALPHA_NUM: 2,
        MODE_8BIT_BYTE: 4,
        MODE_KANJI: 8,
      };
    },
    509: function (e, t) {
      e.exports = { L: 1, M: 0, Q: 3, H: 2 };
    },
    510: function (e, t, s) {
      var r = s(511);
      function n(e, t) {
        if (null == e.length) throw new Error(e.length + "/" + t);
        for (var s = 0; s < e.length && 0 == e[s]; ) s++;
        this.num = new Array(e.length - s + t);
        for (var r = 0; r < e.length - s; r++) this.num[r] = e[r + s];
      }
      (n.prototype = {
        get: function (e) {
          return this.num[e];
        },
        getLength: function () {
          return this.num.length;
        },
        multiply: function (e) {
          for (
            var t = new Array(this.getLength() + e.getLength() - 1), s = 0;
            s < this.getLength();
            s++
          )
            for (var a = 0; a < e.getLength(); a++)
              t[s + a] ^= r.gexp(r.glog(this.get(s)) + r.glog(e.get(a)));
          return new n(t, 0);
        },
        mod: function (e) {
          if (this.getLength() - e.getLength() < 0) return this;
          for (
            var t = r.glog(this.get(0)) - r.glog(e.get(0)),
              s = new Array(this.getLength()),
              a = 0;
            a < this.getLength();
            a++
          )
            s[a] = this.get(a);
          for (a = 0; a < e.getLength(); a++)
            s[a] ^= r.gexp(r.glog(e.get(a)) + t);
          return new n(s, 0).mod(e);
        },
      }),
        (e.exports = n);
    },
    511: function (e, t) {
      for (
        var s = {
            glog: function (e) {
              if (e < 1) throw new Error("glog(" + e + ")");
              return s.LOG_TABLE[e];
            },
            gexp: function (e) {
              for (; e < 0; ) e += 255;
              for (; e >= 256; ) e -= 255;
              return s.EXP_TABLE[e];
            },
            EXP_TABLE: new Array(256),
            LOG_TABLE: new Array(256),
          },
          r = 0;
        r < 8;
        r++
      )
        s.EXP_TABLE[r] = 1 << r;
      for (r = 8; r < 256; r++)
        s.EXP_TABLE[r] =
          s.EXP_TABLE[r - 4] ^
          s.EXP_TABLE[r - 5] ^
          s.EXP_TABLE[r - 6] ^
          s.EXP_TABLE[r - 8];
      for (r = 0; r < 255; r++) s.LOG_TABLE[s.EXP_TABLE[r]] = r;
      e.exports = s;
    },
    516: function (e, t, s) {
      s.d(t, "a", function () {
        return _;
      });
      var r = s(9),
        n = s.n(r),
        a = s(1),
        i = (s(13), s(272)),
        o = s(54),
        l = s(18),
        c = s(481),
        d = [6e3, 1e4, 2e4, 33e4];
      function h(e) {
        __LOG__(
          2
        )`getCurrentLocationWithRetries(), enableHighAccuracy = ${e}: start`;
        for (
          var t = u({ timeout: d[0], enableHighAccuracy: e }),
            s = function (s) {
              t = t.then((t) => {
                if ("error" === t.type && 1 !== t.errCode) {
                  var r = d[s];
                  return (
                    __LOG__(
                      2
                    )`getCurrentLocationWithRetries(), enableHighAccuracy = ${e}, attempting to retrieve location with timeout ${r}`,
                    u({ timeout: r, enableHighAccuracy: e })
                  );
                }
                return (
                  __LOG__(
                    2
                  )`getCurrentLocationWithRetries(), enableHighAccuracy = ${e}, returning result ${t}`,
                  t
                );
              });
            },
            r = 1;
          r < d.length;
          ++r
        )
          s(r);
        return t;
      }
      function u(e) {
        return (
          __LOG__(2)`Retrieving current location of user device`,
          new Promise((t, s) =>
            navigator.geolocation.getCurrentPosition(
              (s) => {
                var r = s.coords,
                  n = r.latitude,
                  a = r.longitude;
                __LOG__(2)`Successfully retrieved location, Options=${e}`,
                  t({ type: "success", location: { lat: n, lng: a } });
              },
              (e) => {
                var s;
                switch (
                  (__LOG__(
                    4
                  )`Error retrieving current location (${e.code}): ${e.message}`,
                  e.code)
                ) {
                  case 1:
                    s = 480;
                    break;
                  case 2:
                    s = 484;
                    break;
                  case 3:
                    s = 483;
                    break;
                  default:
                    s = 228;
                }
                t({
                  type: "error",
                  errText: s,
                  errMsg: e.message,
                  errCode: e.code,
                });
              },
              e
            )
          )
        );
      }
      var p = s(475),
        v = s(479),
        f = s(56),
        g = s(127),
        b = s(476),
        m = s(181),
        S = s(19),
        y = s(477),
        k = s(122),
        C = s(345),
        w = s(70),
        x = s(35),
        I = 3e-4,
        L = { success: 0, error: 1, cancel: 2 },
        _ = { success: 0, error: 1, cancel: 2 },
        N = { success: 1, error: 6, cancel: 2 },
        M = class extends f.a {
          constructor(e, t) {
            super(e, t),
              O.call(this),
              (this.PL = !1),
              (this.PM = !1),
              (this.PN = !1),
              (this.PO = !1),
              (this.PP = null),
              (this.PQ = null),
              (this.PR = null),
              (this.PU = null),
              (this.PV = !1),
              (this.state = {
                lowAccuracyLocation: {
                  mapImgUrl: null,
                  lat: null,
                  lng: null,
                  preview: null,
                },
                highAccuracyLocation: {
                  mapImgUrl: null,
                  lat: null,
                  lng: null,
                  preview: null,
                },
                zoom: 14,
                address: "â€¦",
              });
          }
          componentDidMount() {
            (this.PL = !0),
              (this.PP = Date.now()),
              h(!0).then((e) => {
                if (this.PL)
                  if ("success" === e.type) {
                    if (
                      (this.PW({ result: "success", isHighAccuracy: !0 }),
                      this.PO)
                    )
                      return;
                    this.PN = !0;
                    var t = e.location,
                      s = t.lat,
                      r = t.lng;
                    this.setState((e) => ({
                      highAccuracyLocation: Object.assign(
                        {},
                        e.highAccuracyLocation,
                        { lat: s, lng: r }
                      ),
                    })),
                      this.PX(s, r, !0),
                      this.PT(s, r);
                  } else {
                    var n = e.errText,
                      a = e.errMsg;
                    this.PW({ result: "error", isHighAccuracy: !0, errMsg: a }),
                      __LOG__(3)`High accuracy geolocation fails: ${n}`;
                  }
              }),
              h(!1).then((e) => {
                if (this.PL)
                  if ("success" === e.type) {
                    if (
                      (this.PW({ result: "success", isHighAccuracy: !1 }),
                      this.PN)
                    )
                      return;
                    var t = e.location,
                      s = t.lat,
                      r = t.lng;
                    this.setState((e) => ({
                      lowAccuracyLocation: Object.assign(
                        {},
                        e.lowAccuracyLocation,
                        { lat: s, lng: r }
                      ),
                    })),
                      this.PX(s, r, !1),
                      this.PY(s, r);
                  } else {
                    var a = e.errText,
                      i = e.errMsg,
                      o = e.errCode;
                    if (
                      (this.PW({
                        result: "error",
                        isHighAccuracy: !1,
                        errMsg: i,
                      }),
                      this.PN)
                    )
                      return;
                    this.PO = !0;
                    var l = this.props.backend;
                    1 === o
                      ? (0, S.g)({
                          title: 229,
                          text: a,
                          onBack: () => {
                            (0, b.a)(l);
                          },
                          left: 758,
                          onSoftLeft: () => {
                            (0, b.a)(l);
                          },
                          center: 750,
                          onSoftCenter: () => {
                            (0, b.a)(l),
                              (function (e) {
                                var t = Promise.all([
                                  (0, g.g)(),
                                  (0, g.b)(),
                                ]).then((t) => {
                                  var s = n()(t, 2),
                                    r = s[0],
                                    a = s[1];
                                  return () => {
                                    e.openScreen("GEOLOCATION_SETTINGS", {
                                      locationEnabled: r,
                                      whatsappLocationEnabled: "allow" === a,
                                    });
                                  };
                                });
                                e.spinUntilReady(t, 747);
                              })(l);
                          },
                        })
                      : (0, S.e)({
                          title: 229,
                          text: a,
                          onClose: () => {
                            (0, b.a)(l);
                          },
                        });
                  }
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.PV || this.PZ({ result: "success" }),
              (this.PL = !1),
              this.state.lowAccuracyLocation.mapImgUrl &&
                URL.revokeObjectURL(this.state.lowAccuracyLocation.mapImgUrl),
              this.state.highAccuracyLocation.mapImgUrl &&
                URL.revokeObjectURL(this.state.highAccuracyLocation.mapImgUrl),
              this.PS.cancel(),
              super.componentWillUnmount();
          }
          Pa(e) {
            if (!this.PL) throw new v.d();
            if ((!e && this.PN) || this.PO) throw new v.b();
          }
          PX(e, t, s, r) {
            var a = self.innerWidth,
              i = self.innerHeight,
              o = Math.max(i, a);
            s ? (this.PR = Date.now()) : (this.PQ = Date.now()),
              this.PU ? this.PU++ : (this.PU = 1),
              (0, c.c)(e, t, o, o, r)
                .then((e) => (this.Pa(s), (0, x.k)(e)))
                .then((e) => {
                  if ((this.Pa(s), !e.ok))
                    throw new Error("fetch blob failed: status " + e.status);
                  return e.blob();
                })
                .then(
                  (e) => (
                    this.Pa(s),
                    Promise.all([(0, p.cropAndResizeSquareBlob)(e, 100), e])
                  )
                )
                .then((e) => {
                  var t = n()(e, 2),
                    r = t[0],
                    a = t[1];
                  this.Pa(s),
                    s
                      ? this.setState((e) => ({
                          highAccuracyLocation: Object.assign(
                            {},
                            e.highAccuracyLocation,
                            { mapImgUrl: URL.createObjectURL(a), preview: r }
                          ),
                        }))
                      : this.setState((e) => ({
                          lowAccuracyLocation: Object.assign(
                            {},
                            e.lowAccuracyLocation,
                            { mapImgUrl: URL.createObjectURL(a), preview: r }
                          ),
                        })),
                    this.Pb({ result: "success", isHighAccuracy: s });
                })
                .catch((0, k.a)(v.d, () => {}))
                .catch((0, k.a)(v.b, () => {}))
                .catch((e) => {
                  if (this.PL && !this.PO) {
                    this.Pb({
                      result: "error",
                      isHighAccuracy: s,
                      errMsg: String(e),
                    }),
                      this.PZ({ result: "error" }),
                      (this.PV = !0),
                      __LOG__(4)`Unable to fetch location preview: ${e}`;
                    var t = this.props.backend;
                    (0, S.e)({
                      title: 229,
                      text: 483,
                      onClose: () => {
                        (0, b.a)(t);
                      },
                    });
                  }
                });
          }
          PY(e, t) {
            this.setState({ address: null }, () => {
              this.PS.debounce(1500, { lat: e, lng: t });
            });
          }
          PT(e, t) {
            (0, c.b)(e, t)
              .then(x.k)
              .then((e) => {
                if (!e.ok)
                  throw new Error("fetch address failed: status " + e.status);
                return e.json();
              })
              .then((e) => {
                if (this.PL) {
                  var t = e.results,
                    s = e.status;
                  if ("OK" !== s)
                    throw new Error(
                      "fetch reverse geocode reponse failed: status " + s
                    );
                  if (t && t.length) {
                    var r = t[0].formatted_address;
                    this.setState({ address: null !== r ? r : "" });
                  }
                }
              })
              .catch((e) => {
                __LOG__(4)`${e}`;
              });
          }
          PW(e) {
            var t = e.result,
              s = e.isHighAccuracy,
              r = e.errMsg,
              n = Date.now();
            this.PP &&
              WAM.log("regular", 1758, void 0, [
                1,
                0,
                L[t],
                2,
                0,
                Math.floor(n - this.PP),
                4,
                0,
                s ? 1 : 0,
                3,
                2,
                r || null,
              ]);
          }
          Pb(e) {
            var t = e.result,
              s = e.isHighAccuracy,
              r = e.errMsg,
              n = Date.now(),
              a = s && this.PR ? n - this.PR : this.PQ ? n - this.PQ : null;
            WAM.log("regular", 1760, void 0, [
              1,
              0,
              _[t],
              2,
              0,
              a,
              4,
              0,
              s ? 1 : 0,
              3,
              2,
              r || null,
            ]);
          }
          PZ(e) {
            var t = e.result,
              s = Date.now();
            this.PP &&
              WAM.log("regular", 482, void 0, [
                4,
                0,
                N[t],
                13,
                0,
                1,
                12,
                0,
                Math.floor(s - this.PP),
                9,
                3,
                this.PU,
              ]);
          }
          Pe() {
            var e = this.state,
              t = e.lowAccuracyLocation,
              s = e.highAccuracyLocation,
              r = null !== s.lat ? s : t;
            return { lat: r.lat, lng: r.lng };
          }
          addSoftKeys(e) {
            var t = this.state,
              s = t.lowAccuracyLocation,
              r = t.highAccuracyLocation;
            if (!s.mapImgUrl && !r.mapImgUrl)
              return e.setBack(this.Pc), void e.setFull(667);
            var n = this.props,
              a = n.jid,
              i = n.actionAfterSending;
            e.addCancel();
            var o = null != r.lat ? r : s,
              l = o.lat,
              c = o.lng,
              d = r.preview || s.preview;
            l &&
              c &&
              d &&
              (e.setCenterLabel(823, (e) => {
                this.PM ||
                  (e.sendLocationMsg({ jid: a, lat: l, lng: c, preview: d }),
                  (0, m.a)(e, i),
                  (this.PM = !0));
              }),
              e.setUpDownArrows(
                () => this.Pd("UP"),
                () => this.Pd("DOWN")
              ),
              e.setLeftRightArrows(
                () => this.Pd("LEFT"),
                () => this.Pd("RIGHT")
              ));
          }
          Ph() {
            var e = this.state,
              t = e.lowAccuracyLocation,
              s = e.highAccuracyLocation,
              r = e.address,
              n = s.mapImgUrl || t.mapImgUrl;
            return n
              ? (0, a.f)(
                  1,
                  "div",
                  "Ks",
                  [
                    null != r
                      ? (0, a.f)(
                          1,
                          "div",
                          "Kv",
                          (0, a.f)(1, "div", "Kw", [(0, a.e)(" "), r], 0),
                          2
                        )
                      : null,
                    (0, a.f)(1, "img", "Kt", null, 1, { src: n }),
                    (0, a.b)(2, C.a, { className: "Ku", onKeyDown: this.Pg }),
                  ],
                  0
                )
              : (0, a.b)(2, y.a);
          }
          render() {
            return (0, a.b)(2, i.a, {
              title: (0, a.b)(2, l.b, { l10n: 695 }),
              children: this.Ph(),
            });
          }
        },
        O = function () {
          (this.PS = new w.a((e) => {
            this.PT(e.lat, e.lng);
          })),
            (this.Pc = () => {
              var e = this.state,
                t = e.lowAccuracyLocation,
                s = e.highAccuracyLocation;
              t.lat && t.lng
                ? t.mapImgUrl ||
                  (this.Pb({ result: "cancel", isHighAccuracy: !1 }),
                  this.PZ({ result: "cancel" }))
                : this.PW({ result: "cancel", isHighAccuracy: !1 }),
                s.lat && s.lng
                  ? s.mapImgUrl ||
                    (this.Pb({ result: "cancel", isHighAccuracy: !0 }),
                    this.PZ({ result: "cancel" }))
                  : this.PW({ result: "cancel", isHighAccuracy: !0 }),
                (0, b.a)(this.props.backend);
            }),
            (this.Pd = (e) => {
              var t = this.Pe(),
                s = t.lat,
                r = t.lng;
              if (s && r)
                switch (e) {
                  case "UP":
                    this.Pf(s + I, r);
                    break;
                  case "DOWN":
                    this.Pf(s - I, r);
                    break;
                  case "LEFT":
                    this.Pf(s, r - I);
                    break;
                  case "RIGHT":
                    this.Pf(s, r + I);
                }
            }),
            (this.Pf = (e, t) => {
              var s = this.state,
                r = s.highAccuracyLocation,
                n = s.zoom;
              null !== r.lat
                ? this.setState(
                    (s) => ({
                      highAccuracyLocation: Object.assign(
                        {},
                        s.highAccuracyLocation,
                        { lat: e, lng: t }
                      ),
                    }),
                    (() => {
                      this.PX(e, t, !0, n), this.PY(e, t);
                    })()
                  )
                : this.setState(
                    (s) => ({
                      lowAccuracyLocation: Object.assign(
                        {},
                        s.lowAccuracyLocation,
                        { lat: e, lng: t }
                      ),
                    }),
                    (() => {
                      this.PX(e, t, !0, n), this.PY(e, t);
                    })()
                  );
            }),
            (this.Pg = (e) => {
              var t = this.Pe(),
                s = t.lat,
                r = t.lng,
                n = this.state.zoom;
              if (s && r) {
                switch (e.key) {
                  case "1":
                    n = 13;
                    break;
                  case "2":
                    n = 14;
                    break;
                  case "3":
                    n = 15;
                    break;
                  default:
                    return;
                }
                this.setState({ zoom: n }, () => {
                  this.PX(s, r, !0, n);
                });
              }
            });
        };
      t.b = (0, o.j)((0, f.e)(M));
    },
    522: function (e, t, s) {
      s.d(t, "a", function () {
        return i;
      }),
        s.d(t, "b", function () {
          return o;
        }),
        s.d(t, "c", function () {
          return l;
        });
      var r = s(43),
        n = s(25),
        a = { name: "HMAC", hash: { name: "SHA-1" } },
        i = "gme-whatsappinc";
      function o(e, t) {
        var s = new URL(e);
        return (
          t &&
            Object.keys(t).forEach((e) => {
              var r = t[e];
              r && s.searchParams.append(e, r.toString());
            }),
          s
        );
      }
      function l(e) {
        var t = "LM4NgcjF-X_EedaZ6MwPVSH0Sac="
            .replace(/-/g, "+")
            .replace(/_/g, "/"),
          s = (0, r.b)(t),
          i = e.pathname + e.search,
          o = n.a.build(i).readByteArray();
        return Promise.resolve()
          .then(() => {
            return (
              (e = s),
              self.crypto.subtle
                .importKey(
                  "raw",
                  (function (e) {
                    return "string" == typeof e
                      ? new Uint8Array((0, r.b)(e))
                      : e instanceof ArrayBuffer
                      ? new Uint8Array(e)
                      : e;
                  })(e),
                  a,
                  !1,
                  ["sign"]
                )
                .then((e) => e)
            );
            var e;
          })
          .then((e) => {
            return (t = e), (s = o), self.crypto.subtle.sign(a, t, s);
            var t, s;
          })
          .then(
            (t) => (
              e.searchParams.append("signature", (0, r.e)(t)), e.toString()
            )
          );
      }
    },
    525: function (e, t, s) {
      s.r(t),
        s.d(t, "DATA", function () {
          return r;
        });
      var r = [
        65,
        26,
        32,
        26,
        73,
        1,
        11,
        1,
        5,
        1,
        6,
        23,
        24,
        31,
        32,
        449,
        451,
        7,
        21,
        2,
        16,
        5,
        14,
        1,
        130,
        4,
        6,
        2,
        4,
        4,
        5,
        1,
        7,
        1,
        2,
        3,
        4,
        1,
        2,
        20,
        21,
        83,
        84,
        140,
        147,
        166,
        167,
        38,
        40,
        49,
        55,
        -1,
        46,
        -1,
        2,
        -1,
        3,
        -1,
        3,
        -1,
        2,
        -56,
        64,
        -1,
        3,
        -1,
        2,
        -1,
        14,
        -48,
        82,
        -3,
        4,
        -101,
        116,
        -2,
        9,
        -2,
        12,
        -23,
        24,
        -30,
        57,
        -91,
        102,
        -58,
        67,
        -2,
        6,
        -3,
        4,
        -24,
        28,
        -1,
        10,
        -1,
        4,
        -1,
        6,
        -43,
        46,
        -119,
        167,
        55,
        56,
        1,
        2,
        4,
        12,
        4,
        5,
        3,
        10,
        10,
        12,
        29,
        30,
        2,
        3,
        8,
        10,
        2,
        4,
        22,
        23,
        7,
        8,
        1,
        4,
        4,
        7,
        4,
        10,
        2,
        4,
        2,
        3,
        1,
        9,
        1,
        5,
        2,
        3,
        3,
        7,
        12,
        14,
        7,
        8,
        2,
        7,
        1,
        2,
        6,
        10,
        2,
        4,
        22,
        23,
        7,
        8,
        2,
        3,
        2,
        3,
        2,
        6,
        3,
        27,
        4,
        5,
        1,
        8,
        10,
        12,
        3,
        4,
        1,
        13,
        1,
        2,
        9,
        10,
        3,
        4,
        22,
        23,
        7,
        8,
        2,
        3,
        5,
        8,
        4,
        12,
        1,
        2,
        2,
        5,
        1,
        16,
        2,
        6,
        11,
        19,
        1,
        9,
        2,
        3,
        8,
        10,
        2,
        4,
        22,
        23,
        7,
        8,
        2,
        3,
        5,
        8,
        2,
        3,
        1,
        7,
        2,
        4,
        2,
        12,
        1,
        5,
        2,
        3,
        3,
        7,
        18,
        29,
        1,
        2,
        6,
        9,
        3,
        4,
        4,
        7,
        2,
        3,
        1,
        2,
        2,
        5,
        2,
        5,
        3,
        6,
        12,
        16,
        2,
        3,
        2,
        5,
        3,
        4,
        3,
        6,
        1,
        7,
        1,
        15,
        13,
        27,
        3,
        4,
        8,
        9,
        3,
        4,
        23,
        24,
        16,
        19,
        1,
        4,
        4,
        23,
        3,
        8,
        2,
        6,
        10,
        17,
        1,
        8,
        2,
        3,
        11,
        12,
        3,
        4,
        23,
        24,
        10,
        11,
        5,
        8,
        8,
        9,
        3,
        4,
        2,
        11,
        2,
        9,
        1,
        2,
        2,
        6,
        10,
        11,
        2,
        17,
        11,
        12,
        3,
        4,
        41,
        43,
        4,
        9,
        3,
        4,
        3,
        4,
        2,
        6,
        14,
        18,
        26,
        28,
        2,
        3,
        18,
        21,
        24,
        25,
        9,
        10,
        1,
        3,
        7,
        15,
        3,
        9,
        8,
        14,
        10,
        12,
        3,
        15,
        48,
        49,
        2,
        14,
        7,
        15,
        13,
        50,
        2,
        3,
        1,
        2,
        5,
        6,
        24,
        25,
        1,
        2,
        10,
        11,
        2,
        11,
        1,
        3,
        5,
        6,
        1,
        10,
        10,
        12,
        4,
        36,
        24,
        26,
        27,
        28,
        1,
        2,
        1,
        6,
        10,
        11,
        36,
        54,
        1,
        6,
        1,
        3,
        5,
        54,
        8,
        9,
        6,
        7,
        13,
        50,
        45,
        49,
        1,
        7,
        1,
        3,
        2,
        4,
        25,
        27,
        4,
        7,
        16,
        20,
        13,
        14,
        2,
        4,
        6,
        7,
        15,
        16,
        40,
        41,
        1,
        6,
        1,
        3,
        377,
        378,
        4,
        6,
        7,
        8,
        1,
        2,
        4,
        6,
        41,
        42,
        4,
        6,
        33,
        34,
        4,
        6,
        7,
        8,
        1,
        2,
        4,
        6,
        15,
        16,
        57,
        58,
        4,
        6,
        67,
        72,
        29,
        32,
        16,
        32,
        86,
        88,
        6,
        9,
        639,
        640,
        26,
        31,
        89,
        96,
        13,
        14,
        4,
        18,
        18,
        21,
        2,
        11,
        18,
        32,
        13,
        14,
        3,
        18,
        52,
        54,
        1,
        8,
        8,
        9,
        2,
        13,
        7,
        8,
        1,
        4,
        10,
        48,
        10,
        16,
        89,
        96,
        5,
        7,
        34,
        35,
        1,
        6,
        70,
        80,
        31,
        35,
        4,
        6,
        3,
        7,
        2,
        3,
        6,
        19,
        40,
        42,
        5,
        16,
        44,
        48,
        26,
        32,
        11,
        48,
        23,
        25,
        2,
        5,
        56,
        57,
        1,
        10,
        1,
        2,
        2,
        10,
        6,
        19,
        10,
        16,
        10,
        16,
        14,
        100,
        48,
        49,
        1,
        6,
        1,
        2,
        5,
        6,
        9,
        13,
        27,
        36,
        9,
        14,
        32,
        36,
        2,
        4,
        1,
        4,
        56,
        57,
        1,
        3,
        3,
        4,
        1,
        4,
        2,
        10,
        48,
        56,
        2,
        7,
        15,
        18,
        60,
        67,
        43,
        45,
        11,
        22,
        1,
        14,
        1,
        8,
        4,
        5,
        6,
        7,
        3,
        5,
        1,
        6,
        192,
        256,
        278,
        280,
        6,
        8,
        38,
        40,
        6,
        8,
        8,
        9,
        1,
        2,
        1,
        2,
        1,
        2,
        31,
        33,
        53,
        54,
        7,
        8,
        1,
        4,
        3,
        4,
        7,
        10,
        4,
        6,
        6,
        10,
        13,
        18,
        3,
        4,
        7,
        24,
        1,
        1,
        -1,
        98,
        1,
        14,
        1,
        17,
        13,
        114,
        1,
        5,
        1,
        3,
        10,
        11,
        1,
        4,
        5,
        11,
        1,
        2,
        1,
        2,
        1,
        2,
        4,
        5,
        11,
        13,
        4,
        9,
        5,
        9,
        2,
        18,
        41,
        470,
        69,
        95,
        1,
        263,
        78,
        528,
        1,
        340,
        256,
        1024,
        47,
        48,
        47,
        48,
        133,
        139,
        4,
        7,
        2,
        14,
        38,
        39,
        1,
        6,
        1,
        3,
        56,
        63,
        2,
        17,
        23,
        32,
        7,
        8,
        7,
        8,
        7,
        8,
        7,
        8,
        7,
        8,
        7,
        8,
        7,
        8,
        7,
        557,
        3,
        28,
        9,
        13,
        2,
        3,
        5,
        7,
        5,
        9,
        86,
        92,
        3,
        4,
        90,
        91,
        4,
        9,
        43,
        44,
        94,
        95,
        48,
        96,
        45,
        48,
        48,
        64,
        28,
        31,
        50,
        65,
        12,
        16,
        167,
        171,
        99,
        101,
        31,
        32,
        6592,
        6656,
        20989,
        20992,
        1165,
        1232,
        317,
        320,
        28,
        48,
        47,
        64,
        30,
        32,
        80,
        82,
        6,
        48,
        102,
        103,
        55,
        57,
        9,
        51,
        13,
        14,
        3,
        4,
        4,
        5,
        25,
        27,
        1,
        9,
        8,
        16,
        52,
        64,
        68,
        78,
        12,
        36,
        13,
        14,
        38,
        46,
        25,
        36,
        2,
        13,
        30,
        36,
        48,
        49,
        2,
        6,
        2,
        4,
        16,
        17,
        11,
        15,
        7,
        8,
        25,
        26,
        41,
        47,
        2,
        4,
        2,
        13,
        3,
        4,
        8,
        9,
        1,
        3,
        10,
        12,
        32,
        33,
        51,
        52,
        1,
        4,
        2,
        4,
        5,
        7,
        1,
        2,
        1,
        25,
        17,
        19,
        8,
        19,
        6,
        8,
        6,
        8,
        6,
        15,
        7,
        8,
        7,
        8,
        58,
        64,
        117,
        118,
        2,
        3,
        4,
        7,
        10,
        16,
        11172,
        11184,
        23,
        27,
        49,
        2101,
        6766,
        6768,
        106,
        144,
        7,
        19,
        5,
        10,
        -1,
        2,
        -10,
        11,
        -532,
        534,
        -144,
        176,
        -13,
        14,
        -2,
        114,
        -143,
        177,
        26,
        32,
        26,
        37,
        89,
        92,
        6,
        8,
        6,
        8,
        6,
        8,
        3,
        38,
        12,
        13,
        26,
        27,
        19,
        20,
        2,
        3,
        15,
        17,
        14,
        48,
        123,
        128,
        1,
        2,
        1,
        5,
        45,
        48,
        9,
        86,
        2,
        67,
        45,
        176,
        29,
        32,
        49,
        96,
        36,
        45,
        30,
        35,
        38,
        48,
        30,
        31,
        37,
        41,
        14,
        56,
        158,
        160,
        10,
        16,
        36,
        40,
        36,
        40,
        40,
        48,
        52,
        63,
        1,
        145,
        311,
        320,
        22,
        32,
        8,
        160,
        -287,
        288,
        -225,
        228,
        -1,
        3,
        -5,
        9,
        -40,
        43,
        -4,
        5,
        -165,
        167,
        -82,
        89,
        -484,
        488,
        -8,
        18,
        -294,
        325,
        -44,
        46,
        -153,
        164,
        -175,
        175,
        1,
        2,
        54,
        69,
        7,
        31,
        10,
        28,
        49,
        53,
        2,
        4,
        7,
        18,
        1,
        3,
        25,
        32,
        10,
        19,
        36,
        41,
        1,
        10,
        18,
        26,
        35,
        36,
        3,
        14,
        52,
        61,
        10,
        14,
        2,
        3,
        16,
        17,
        20,
        31,
        18,
        19,
        28,
        31,
        2,
        3,
        1,
        3,
        6,
        72,
        7,
        8,
        1,
        2,
        4,
        5,
        15,
        16,
        11,
        17,
        47,
        48,
        3,
        16,
        10,
        18,
        2,
        3,
        8,
        10,
        2,
        4,
        22,
        23,
        7,
        8,
        2,
        3,
        5,
        8,
        3,
        4,
        4,
        6,
        2,
        4,
        3,
        5,
        1,
        7,
        1,
        6,
        7,
        163,
        56,
        64,
        2,
        5,
        1,
        2,
        21,
        22,
        1,
        2,
        3,
        33,
        51,
        57,
        1,
        2,
        4,
        6,
        1,
        3,
        4,
        12,
        10,
        176,
        50,
        56,
        4,
        6,
        1,
        3,
        27,
        63,
        51,
        59,
        2,
        3,
        1,
        3,
        4,
        15,
        10,
        48,
        43,
        44,
        1,
        2,
        2,
        8,
        1,
        2,
        1,
        8,
        10,
        64,
        27,
        32,
        2,
        6,
        1,
        10,
        16,
        208,
        47,
        56,
        1,
        3,
        1,
        101,
        83,
        95,
        8,
        10,
        1,
        3,
        8,
        9,
        2,
        3,
        30,
        31,
        2,
        6,
        1,
        2,
        4,
        5,
        3,
        12,
        10,
        80,
        8,
        10,
        42,
        50,
        4,
        5,
        4,
        31,
        1,
        7,
        2,
        4,
        40,
        46,
        2,
        6,
        8,
        17,
        1,
        7,
        2,
        5,
        46,
        59,
        1,
        3,
        9,
        38,
        57,
        320,
        9,
        10,
        38,
        52,
        8,
        18,
        29,
        32,
        32,
        57,
        1,
        8,
        1,
        3,
        1,
        76,
        7,
        8,
        2,
        3,
        38,
        59,
        1,
        10,
        10,
        16,
        6,
        7,
        2,
        3,
        37,
        41,
        2,
        3,
        1,
        2,
        1,
        8,
        10,
        320,
        19,
        21,
        4,
        187,
        1,
        16,
        21,
        63,
        923,
        1025,
        111,
        112,
        5,
        16,
        196,
        2944,
        1071,
        1072,
        9,
        4048,
        583,
        9216,
        569,
        576,
        31,
        32,
        10,
        14,
        2,
        98,
        30,
        37,
        1,
        11,
        48,
        55,
        15,
        25,
        10,
        11,
        7,
        8,
        21,
        26,
        19,
        707,
        91,
        192,
        75,
        80,
        56,
        67,
        13,
        77,
        2,
        3,
        1,
        13,
        2,
        16,
        6136,
        6144,
        1238,
        1280,
        9,
        8960,
        287,
        336,
        3,
        20,
        4,
        12,
        396,
        2704,
        107,
        112,
        13,
        16,
        9,
        16,
        10,
        12,
        1,
        3,
        1,
        4961,
        246,
        256,
        39,
        41,
        62,
        65,
        9,
        25,
        2,
        9,
        30,
        34,
        59,
        306,
        20,
        128,
        25,
        160,
        85,
        86,
        71,
        72,
        2,
        4,
        1,
        3,
        2,
        4,
        4,
        5,
        12,
        13,
        1,
        2,
        7,
        8,
        65,
        66,
        4,
        6,
        8,
        9,
        7,
        8,
        28,
        29,
        4,
        5,
        5,
        6,
        1,
        4,
        7,
        8,
        340,
        342,
        51,
        52,
        57,
        58,
        57,
        58,
        57,
        58,
        57,
        58,
        8,
        60,
        512,
        567,
        4,
        54,
        8,
        9,
        14,
        15,
        7,
        1659,
        45,
        55,
        7,
        9,
        10,
        14,
        2,
        370,
        44,
        48,
        10,
        1296,
        -208,
        215,
        -109,
        116,
        -1445,
        1447,
        -270,
        542,
        31,
        32,
        58,
        64,
        61,
        118,
        29,
        42,
        44,
        48,
        9,
        16,
        2,
        3504,
        42718,
        42752,
        4149,
        4160,
        222,
        224,
        5762,
        5776,
        7473,
        10576,
        542,
        2048,
        4939,
        786432,
        65534,
        65536,
        65534,
      ];
    },
    526: function (e, t, s) {
      (function (e, r) {
        var n;
        (function (a) {
          t && t.nodeType, e && e.nodeType;
          var i = "object" == typeof r && r;
          i.global !== i && i.window !== i && i.self;
          var o,
            l = 2147483647,
            c = 36,
            d = /^xn--/,
            h = /[^\x20-\x7E]/,
            u = /[\x2E\u3002\uFF0E\uFF61]/g,
            p = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input",
            },
            v = Math.floor,
            f = String.fromCharCode;
          function g(e) {
            throw new RangeError(p[e]);
          }
          function b(e, t) {
            for (var s = e.length, r = []; s--; ) r[s] = t(e[s]);
            return r;
          }
          function m(e, t) {
            var s = e.split("@"),
              r = "";
            return (
              s.length > 1 && ((r = s[0] + "@"), (e = s[1])),
              r + b((e = e.replace(u, ".")).split("."), t).join(".")
            );
          }
          function S(e) {
            for (var t, s, r = [], n = 0, a = e.length; n < a; )
              (t = e.charCodeAt(n++)) >= 55296 && t <= 56319 && n < a
                ? 56320 == (64512 & (s = e.charCodeAt(n++)))
                  ? r.push(((1023 & t) << 10) + (1023 & s) + 65536)
                  : (r.push(t), n--)
                : r.push(t);
            return r;
          }
          function y(e) {
            return b(e, function (e) {
              var t = "";
              return (
                e > 65535 &&
                  ((t += f((((e -= 65536) >>> 10) & 1023) | 55296)),
                  (e = 56320 | (1023 & e))),
                t + f(e)
              );
            }).join("");
          }
          function k(e, t) {
            return e + 22 + 75 * (e < 26) - ((0 != t) << 5);
          }
          function C(e, t, s) {
            var r = 0;
            for (e = s ? v(e / 700) : e >> 1, e += v(e / t); e > 455; r += c)
              e = v(e / 35);
            return v(r + (36 * e) / (e + 38));
          }
          function w(e) {
            var t,
              s,
              r,
              n,
              a,
              i,
              o,
              d,
              h,
              u,
              p,
              f = [],
              b = e.length,
              m = 0,
              S = 128,
              k = 72;
            for ((s = e.lastIndexOf("-")) < 0 && (s = 0), r = 0; r < s; ++r)
              e.charCodeAt(r) >= 128 && g("not-basic"), f.push(e.charCodeAt(r));
            for (n = s > 0 ? s + 1 : 0; n < b; ) {
              for (
                a = m, i = 1, o = c;
                n >= b && g("invalid-input"),
                  ((d =
                    (p = e.charCodeAt(n++)) - 48 < 10
                      ? p - 22
                      : p - 65 < 26
                      ? p - 65
                      : p - 97 < 26
                      ? p - 97
                      : c) >= c ||
                    d > v((l - m) / i)) &&
                    g("overflow"),
                  (m += d * i),
                  !(d < (h = o <= k ? 1 : o >= k + 26 ? 26 : o - k));
                o += c
              )
                i > v(l / (u = c - h)) && g("overflow"), (i *= u);
              (k = C(m - a, (t = f.length + 1), 0 == a)),
                v(m / t) > l - S && g("overflow"),
                (S += v(m / t)),
                (m %= t),
                f.splice(m++, 0, S);
            }
            return y(f);
          }
          function x(e) {
            var t,
              s,
              r,
              n,
              a,
              i,
              o,
              d,
              h,
              u,
              p,
              b,
              m,
              y,
              w,
              x = [];
            for (
              b = (e = S(e)).length, t = 128, s = 0, a = 72, i = 0;
              i < b;
              ++i
            )
              (p = e[i]) < 128 && x.push(f(p));
            for (r = n = x.length, n && x.push("-"); r < b; ) {
              for (o = l, i = 0; i < b; ++i)
                (p = e[i]) >= t && p < o && (o = p);
              for (
                o - t > v((l - s) / (m = r + 1)) && g("overflow"),
                  s += (o - t) * m,
                  t = o,
                  i = 0;
                i < b;
                ++i
              )
                if (((p = e[i]) < t && ++s > l && g("overflow"), p == t)) {
                  for (
                    d = s, h = c;
                    !(d < (u = h <= a ? 1 : h >= a + 26 ? 26 : h - a));
                    h += c
                  )
                    (w = d - u),
                      (y = c - u),
                      x.push(f(k(u + (w % y), 0))),
                      (d = v(w / y));
                  x.push(f(k(d, 0))), (a = C(s, m, r == n)), (s = 0), ++r;
                }
              ++s, ++t;
            }
            return x.join("");
          }
          (o = {
            version: "1.4.1",
            ucs2: { decode: S, encode: y },
            decode: w,
            encode: x,
            toASCII: function (e) {
              return m(e, function (e) {
                return h.test(e) ? "xn--" + x(e) : e;
              });
            },
            toUnicode: function (e) {
              return m(e, function (e) {
                return d.test(e) ? w(e.slice(4).toLowerCase()) : e;
              });
            },
          }),
            void 0 ===
              (n = function () {
                return o;
              }.call(t, s, t, e)) || (e.exports = n);
        })();
      }.call(this, s(527)(e), s(358)));
    },
    527: function (e, t) {
      e.exports = function (e) {
        return (
          e.webpackPolyfill ||
            ((e.deprecate = function () {}),
            (e.paths = []),
            e.children || (e.children = []),
            Object.defineProperty(e, "loaded", {
              enumerable: !0,
              get: function () {
                return e.l;
              },
            }),
            Object.defineProperty(e, "id", {
              enumerable: !0,
              get: function () {
                return e.i;
              },
            }),
            (e.webpackPolyfill = 1)),
          e
        );
      };
    },
    528: function (e, t, s) {
      var r = s(529),
        n = s(509),
        a = function (e, t) {
          var s = new r(
            (t = t || {}).typeNumber || -1,
            t.errorCorrectLevel || n.H
          );
          return s.addData(e), s.make(), s;
        };
      (a.ErrorCorrectLevel = n), (e.exports = a);
    },
    529: function (e, t, s) {
      var r = s(530),
        n = s(531),
        a = s(532),
        i = s(533),
        o = s(510);
      function l(e, t) {
        (this.typeNumber = e),
          (this.errorCorrectLevel = t),
          (this.modules = null),
          (this.moduleCount = 0),
          (this.dataCache = null),
          (this.dataList = []);
      }
      var c = l.prototype;
      (c.addData = function (e) {
        var t = new r(e);
        this.dataList.push(t), (this.dataCache = null);
      }),
        (c.isDark = function (e, t) {
          if (e < 0 || this.moduleCount <= e || t < 0 || this.moduleCount <= t)
            throw new Error(e + "," + t);
          return this.modules[e][t];
        }),
        (c.getModuleCount = function () {
          return this.moduleCount;
        }),
        (c.make = function () {
          if (this.typeNumber < 1) {
            var e = 1;
            for (e = 1; e < 40; e++) {
              for (
                var t = n.getRSBlocks(e, this.errorCorrectLevel),
                  s = new a(),
                  r = 0,
                  o = 0;
                o < t.length;
                o++
              )
                r += t[o].dataCount;
              for (o = 0; o < this.dataList.length; o++) {
                var l = this.dataList[o];
                s.put(l.mode, 4),
                  s.put(l.getLength(), i.getLengthInBits(l.mode, e)),
                  l.write(s);
              }
              if (s.getLengthInBits() <= 8 * r) break;
            }
            this.typeNumber = e;
          }
          this.makeImpl(!1, this.getBestMaskPattern());
        }),
        (c.makeImpl = function (e, t) {
          (this.moduleCount = 4 * this.typeNumber + 17),
            (this.modules = new Array(this.moduleCount));
          for (var s = 0; s < this.moduleCount; s++) {
            this.modules[s] = new Array(this.moduleCount);
            for (var r = 0; r < this.moduleCount; r++)
              this.modules[s][r] = null;
          }
          this.setupPositionProbePattern(0, 0),
            this.setupPositionProbePattern(this.moduleCount - 7, 0),
            this.setupPositionProbePattern(0, this.moduleCount - 7),
            this.setupPositionAdjustPattern(),
            this.setupTimingPattern(),
            this.setupTypeInfo(e, t),
            this.typeNumber >= 7 && this.setupTypeNumber(e),
            null == this.dataCache &&
              (this.dataCache = l.createData(
                this.typeNumber,
                this.errorCorrectLevel,
                this.dataList
              )),
            this.mapData(this.dataCache, t);
        }),
        (c.setupPositionProbePattern = function (e, t) {
          for (var s = -1; s <= 7; s++)
            if (!(e + s <= -1 || this.moduleCount <= e + s))
              for (var r = -1; r <= 7; r++)
                t + r <= -1 ||
                  this.moduleCount <= t + r ||
                  (this.modules[e + s][t + r] =
                    (0 <= s && s <= 6 && (0 == r || 6 == r)) ||
                    (0 <= r && r <= 6 && (0 == s || 6 == s)) ||
                    (2 <= s && s <= 4 && 2 <= r && r <= 4));
        }),
        (c.getBestMaskPattern = function () {
          for (var e = 0, t = 0, s = 0; s < 8; s++) {
            this.makeImpl(!0, s);
            var r = i.getLostPoint(this);
            (0 == s || e > r) && ((e = r), (t = s));
          }
          return t;
        }),
        (c.createMovieClip = function (e, t, s) {
          var r = e.createEmptyMovieClip(t, s);
          this.make();
          for (var n = 0; n < this.modules.length; n++)
            for (var a = 1 * n, i = 0; i < this.modules[n].length; i++) {
              var o = 1 * i;
              this.modules[n][i] &&
                (r.beginFill(0, 100),
                r.moveTo(o, a),
                r.lineTo(o + 1, a),
                r.lineTo(o + 1, a + 1),
                r.lineTo(o, a + 1),
                r.endFill());
            }
          return r;
        }),
        (c.setupTimingPattern = function () {
          for (var e = 8; e < this.moduleCount - 8; e++)
            null == this.modules[e][6] && (this.modules[e][6] = e % 2 == 0);
          for (var t = 8; t < this.moduleCount - 8; t++)
            null == this.modules[6][t] && (this.modules[6][t] = t % 2 == 0);
        }),
        (c.setupPositionAdjustPattern = function () {
          for (
            var e = i.getPatternPosition(this.typeNumber), t = 0;
            t < e.length;
            t++
          )
            for (var s = 0; s < e.length; s++) {
              var r = e[t],
                n = e[s];
              if (null == this.modules[r][n])
                for (var a = -2; a <= 2; a++)
                  for (var o = -2; o <= 2; o++)
                    this.modules[r + a][n + o] =
                      -2 == a ||
                      2 == a ||
                      -2 == o ||
                      2 == o ||
                      (0 == a && 0 == o);
            }
        }),
        (c.setupTypeNumber = function (e) {
          for (
            var t = i.getBCHTypeNumber(this.typeNumber), s = 0;
            s < 18;
            s++
          ) {
            var r = !e && 1 == ((t >> s) & 1);
            this.modules[Math.floor(s / 3)][
              (s % 3) + this.moduleCount - 8 - 3
            ] = r;
          }
          for (s = 0; s < 18; s++)
            (r = !e && 1 == ((t >> s) & 1)),
              (this.modules[(s % 3) + this.moduleCount - 8 - 3][
                Math.floor(s / 3)
              ] = r);
        }),
        (c.setupTypeInfo = function (e, t) {
          for (
            var s = (this.errorCorrectLevel << 3) | t,
              r = i.getBCHTypeInfo(s),
              n = 0;
            n < 15;
            n++
          ) {
            var a = !e && 1 == ((r >> n) & 1);
            n < 6
              ? (this.modules[n][8] = a)
              : n < 8
              ? (this.modules[n + 1][8] = a)
              : (this.modules[this.moduleCount - 15 + n][8] = a);
          }
          for (n = 0; n < 15; n++)
            (a = !e && 1 == ((r >> n) & 1)),
              n < 8
                ? (this.modules[8][this.moduleCount - n - 1] = a)
                : n < 9
                ? (this.modules[8][15 - n - 1 + 1] = a)
                : (this.modules[8][15 - n - 1] = a);
          this.modules[this.moduleCount - 8][8] = !e;
        }),
        (c.mapData = function (e, t) {
          for (
            var s = -1,
              r = this.moduleCount - 1,
              n = 7,
              a = 0,
              o = this.moduleCount - 1;
            o > 0;
            o -= 2
          )
            for (6 == o && o--; ; ) {
              for (var l = 0; l < 2; l++)
                if (null == this.modules[r][o - l]) {
                  var c = !1;
                  a < e.length && (c = 1 == ((e[a] >>> n) & 1)),
                    i.getMask(t, r, o - l) && (c = !c),
                    (this.modules[r][o - l] = c),
                    -1 == --n && (a++, (n = 7));
                }
              if ((r += s) < 0 || this.moduleCount <= r) {
                (r -= s), (s = -s);
                break;
              }
            }
        }),
        (l.PAD0 = 236),
        (l.PAD1 = 17),
        (l.createData = function (e, t, s) {
          for (
            var r = n.getRSBlocks(e, t), o = new a(), c = 0;
            c < s.length;
            c++
          ) {
            var d = s[c];
            o.put(d.mode, 4),
              o.put(d.getLength(), i.getLengthInBits(d.mode, e)),
              d.write(o);
          }
          var h = 0;
          for (c = 0; c < r.length; c++) h += r[c].dataCount;
          if (o.getLengthInBits() > 8 * h)
            throw new Error(
              "code length overflow. (" +
                o.getLengthInBits() +
                ">" +
                8 * h +
                ")"
            );
          for (
            o.getLengthInBits() + 4 <= 8 * h && o.put(0, 4);
            o.getLengthInBits() % 8 != 0;

          )
            o.putBit(!1);
          for (
            ;
            !(
              o.getLengthInBits() >= 8 * h ||
              (o.put(l.PAD0, 8), o.getLengthInBits() >= 8 * h)
            );

          )
            o.put(l.PAD1, 8);
          return l.createBytes(o, r);
        }),
        (l.createBytes = function (e, t) {
          for (
            var s = 0,
              r = 0,
              n = 0,
              a = new Array(t.length),
              l = new Array(t.length),
              c = 0;
            c < t.length;
            c++
          ) {
            var d = t[c].dataCount,
              h = t[c].totalCount - d;
            (r = Math.max(r, d)), (n = Math.max(n, h)), (a[c] = new Array(d));
            for (var u = 0; u < a[c].length; u++)
              a[c][u] = 255 & e.buffer[u + s];
            s += d;
            var p = i.getErrorCorrectPolynomial(h),
              v = new o(a[c], p.getLength() - 1).mod(p);
            for (
              l[c] = new Array(p.getLength() - 1), u = 0;
              u < l[c].length;
              u++
            ) {
              var f = u + v.getLength() - l[c].length;
              l[c][u] = f >= 0 ? v.get(f) : 0;
            }
          }
          var g = 0;
          for (u = 0; u < t.length; u++) g += t[u].totalCount;
          var b = new Array(g),
            m = 0;
          for (u = 0; u < r; u++)
            for (c = 0; c < t.length; c++)
              u < a[c].length && (b[m++] = a[c][u]);
          for (u = 0; u < n; u++)
            for (c = 0; c < t.length; c++)
              u < l[c].length && (b[m++] = l[c][u]);
          return b;
        }),
        (e.exports = l);
    },
    530: function (e, t, s) {
      var r = s(508);
      function n(e) {
        (this.mode = r.MODE_8BIT_BYTE), (this.data = e);
      }
      (n.prototype = {
        getLength: function (e) {
          return this.data.length;
        },
        write: function (e) {
          for (var t = 0; t < this.data.length; t++)
            e.put(this.data.charCodeAt(t), 8);
        },
      }),
        (e.exports = n);
    },
    531: function (e, t, s) {
      var r = s(509);
      function n(e, t) {
        (this.totalCount = e), (this.dataCount = t);
      }
      (n.RS_BLOCK_TABLE = [
        [1, 26, 19],
        [1, 26, 16],
        [1, 26, 13],
        [1, 26, 9],
        [1, 44, 34],
        [1, 44, 28],
        [1, 44, 22],
        [1, 44, 16],
        [1, 70, 55],
        [1, 70, 44],
        [2, 35, 17],
        [2, 35, 13],
        [1, 100, 80],
        [2, 50, 32],
        [2, 50, 24],
        [4, 25, 9],
        [1, 134, 108],
        [2, 67, 43],
        [2, 33, 15, 2, 34, 16],
        [2, 33, 11, 2, 34, 12],
        [2, 86, 68],
        [4, 43, 27],
        [4, 43, 19],
        [4, 43, 15],
        [2, 98, 78],
        [4, 49, 31],
        [2, 32, 14, 4, 33, 15],
        [4, 39, 13, 1, 40, 14],
        [2, 121, 97],
        [2, 60, 38, 2, 61, 39],
        [4, 40, 18, 2, 41, 19],
        [4, 40, 14, 2, 41, 15],
        [2, 146, 116],
        [3, 58, 36, 2, 59, 37],
        [4, 36, 16, 4, 37, 17],
        [4, 36, 12, 4, 37, 13],
        [2, 86, 68, 2, 87, 69],
        [4, 69, 43, 1, 70, 44],
        [6, 43, 19, 2, 44, 20],
        [6, 43, 15, 2, 44, 16],
        [4, 101, 81],
        [1, 80, 50, 4, 81, 51],
        [4, 50, 22, 4, 51, 23],
        [3, 36, 12, 8, 37, 13],
        [2, 116, 92, 2, 117, 93],
        [6, 58, 36, 2, 59, 37],
        [4, 46, 20, 6, 47, 21],
        [7, 42, 14, 4, 43, 15],
        [4, 133, 107],
        [8, 59, 37, 1, 60, 38],
        [8, 44, 20, 4, 45, 21],
        [12, 33, 11, 4, 34, 12],
        [3, 145, 115, 1, 146, 116],
        [4, 64, 40, 5, 65, 41],
        [11, 36, 16, 5, 37, 17],
        [11, 36, 12, 5, 37, 13],
        [5, 109, 87, 1, 110, 88],
        [5, 65, 41, 5, 66, 42],
        [5, 54, 24, 7, 55, 25],
        [11, 36, 12],
        [5, 122, 98, 1, 123, 99],
        [7, 73, 45, 3, 74, 46],
        [15, 43, 19, 2, 44, 20],
        [3, 45, 15, 13, 46, 16],
        [1, 135, 107, 5, 136, 108],
        [10, 74, 46, 1, 75, 47],
        [1, 50, 22, 15, 51, 23],
        [2, 42, 14, 17, 43, 15],
        [5, 150, 120, 1, 151, 121],
        [9, 69, 43, 4, 70, 44],
        [17, 50, 22, 1, 51, 23],
        [2, 42, 14, 19, 43, 15],
        [3, 141, 113, 4, 142, 114],
        [3, 70, 44, 11, 71, 45],
        [17, 47, 21, 4, 48, 22],
        [9, 39, 13, 16, 40, 14],
        [3, 135, 107, 5, 136, 108],
        [3, 67, 41, 13, 68, 42],
        [15, 54, 24, 5, 55, 25],
        [15, 43, 15, 10, 44, 16],
        [4, 144, 116, 4, 145, 117],
        [17, 68, 42],
        [17, 50, 22, 6, 51, 23],
        [19, 46, 16, 6, 47, 17],
        [2, 139, 111, 7, 140, 112],
        [17, 74, 46],
        [7, 54, 24, 16, 55, 25],
        [34, 37, 13],
        [4, 151, 121, 5, 152, 122],
        [4, 75, 47, 14, 76, 48],
        [11, 54, 24, 14, 55, 25],
        [16, 45, 15, 14, 46, 16],
        [6, 147, 117, 4, 148, 118],
        [6, 73, 45, 14, 74, 46],
        [11, 54, 24, 16, 55, 25],
        [30, 46, 16, 2, 47, 17],
        [8, 132, 106, 4, 133, 107],
        [8, 75, 47, 13, 76, 48],
        [7, 54, 24, 22, 55, 25],
        [22, 45, 15, 13, 46, 16],
        [10, 142, 114, 2, 143, 115],
        [19, 74, 46, 4, 75, 47],
        [28, 50, 22, 6, 51, 23],
        [33, 46, 16, 4, 47, 17],
        [8, 152, 122, 4, 153, 123],
        [22, 73, 45, 3, 74, 46],
        [8, 53, 23, 26, 54, 24],
        [12, 45, 15, 28, 46, 16],
        [3, 147, 117, 10, 148, 118],
        [3, 73, 45, 23, 74, 46],
        [4, 54, 24, 31, 55, 25],
        [11, 45, 15, 31, 46, 16],
        [7, 146, 116, 7, 147, 117],
        [21, 73, 45, 7, 74, 46],
        [1, 53, 23, 37, 54, 24],
        [19, 45, 15, 26, 46, 16],
        [5, 145, 115, 10, 146, 116],
        [19, 75, 47, 10, 76, 48],
        [15, 54, 24, 25, 55, 25],
        [23, 45, 15, 25, 46, 16],
        [13, 145, 115, 3, 146, 116],
        [2, 74, 46, 29, 75, 47],
        [42, 54, 24, 1, 55, 25],
        [23, 45, 15, 28, 46, 16],
        [17, 145, 115],
        [10, 74, 46, 23, 75, 47],
        [10, 54, 24, 35, 55, 25],
        [19, 45, 15, 35, 46, 16],
        [17, 145, 115, 1, 146, 116],
        [14, 74, 46, 21, 75, 47],
        [29, 54, 24, 19, 55, 25],
        [11, 45, 15, 46, 46, 16],
        [13, 145, 115, 6, 146, 116],
        [14, 74, 46, 23, 75, 47],
        [44, 54, 24, 7, 55, 25],
        [59, 46, 16, 1, 47, 17],
        [12, 151, 121, 7, 152, 122],
        [12, 75, 47, 26, 76, 48],
        [39, 54, 24, 14, 55, 25],
        [22, 45, 15, 41, 46, 16],
        [6, 151, 121, 14, 152, 122],
        [6, 75, 47, 34, 76, 48],
        [46, 54, 24, 10, 55, 25],
        [2, 45, 15, 64, 46, 16],
        [17, 152, 122, 4, 153, 123],
        [29, 74, 46, 14, 75, 47],
        [49, 54, 24, 10, 55, 25],
        [24, 45, 15, 46, 46, 16],
        [4, 152, 122, 18, 153, 123],
        [13, 74, 46, 32, 75, 47],
        [48, 54, 24, 14, 55, 25],
        [42, 45, 15, 32, 46, 16],
        [20, 147, 117, 4, 148, 118],
        [40, 75, 47, 7, 76, 48],
        [43, 54, 24, 22, 55, 25],
        [10, 45, 15, 67, 46, 16],
        [19, 148, 118, 6, 149, 119],
        [18, 75, 47, 31, 76, 48],
        [34, 54, 24, 34, 55, 25],
        [20, 45, 15, 61, 46, 16],
      ]),
        (n.getRSBlocks = function (e, t) {
          var s = n.getRsBlockTable(e, t);
          if (null == s)
            throw new Error(
              "bad rs block @ typeNumber:" + e + "/errorCorrectLevel:" + t
            );
          for (var r = s.length / 3, a = new Array(), i = 0; i < r; i++)
            for (
              var o = s[3 * i + 0], l = s[3 * i + 1], c = s[3 * i + 2], d = 0;
              d < o;
              d++
            )
              a.push(new n(l, c));
          return a;
        }),
        (n.getRsBlockTable = function (e, t) {
          switch (t) {
            case r.L:
              return n.RS_BLOCK_TABLE[4 * (e - 1) + 0];
            case r.M:
              return n.RS_BLOCK_TABLE[4 * (e - 1) + 1];
            case r.Q:
              return n.RS_BLOCK_TABLE[4 * (e - 1) + 2];
            case r.H:
              return n.RS_BLOCK_TABLE[4 * (e - 1) + 3];
            default:
              return;
          }
        }),
        (e.exports = n);
    },
    532: function (e, t) {
      function s() {
        (this.buffer = new Array()), (this.length = 0);
      }
      (s.prototype = {
        get: function (e) {
          var t = Math.floor(e / 8);
          return 1 == ((this.buffer[t] >>> (7 - (e % 8))) & 1);
        },
        put: function (e, t) {
          for (var s = 0; s < t; s++)
            this.putBit(1 == ((e >>> (t - s - 1)) & 1));
        },
        getLengthInBits: function () {
          return this.length;
        },
        putBit: function (e) {
          var t = Math.floor(this.length / 8);
          this.buffer.length <= t && this.buffer.push(0),
            e && (this.buffer[t] |= 128 >>> this.length % 8),
            this.length++;
        },
      }),
        (e.exports = s);
    },
    533: function (e, t, s) {
      var r = s(508),
        n = s(510),
        a = s(511),
        i = {
          PATTERN_POSITION_TABLE: [
            [],
            [6, 18],
            [6, 22],
            [6, 26],
            [6, 30],
            [6, 34],
            [6, 22, 38],
            [6, 24, 42],
            [6, 26, 46],
            [6, 28, 50],
            [6, 30, 54],
            [6, 32, 58],
            [6, 34, 62],
            [6, 26, 46, 66],
            [6, 26, 48, 70],
            [6, 26, 50, 74],
            [6, 30, 54, 78],
            [6, 30, 56, 82],
            [6, 30, 58, 86],
            [6, 34, 62, 90],
            [6, 28, 50, 72, 94],
            [6, 26, 50, 74, 98],
            [6, 30, 54, 78, 102],
            [6, 28, 54, 80, 106],
            [6, 32, 58, 84, 110],
            [6, 30, 58, 86, 114],
            [6, 34, 62, 90, 118],
            [6, 26, 50, 74, 98, 122],
            [6, 30, 54, 78, 102, 126],
            [6, 26, 52, 78, 104, 130],
            [6, 30, 56, 82, 108, 134],
            [6, 34, 60, 86, 112, 138],
            [6, 30, 58, 86, 114, 142],
            [6, 34, 62, 90, 118, 146],
            [6, 30, 54, 78, 102, 126, 150],
            [6, 24, 50, 76, 102, 128, 154],
            [6, 28, 54, 80, 106, 132, 158],
            [6, 32, 58, 84, 110, 136, 162],
            [6, 26, 54, 82, 110, 138, 166],
            [6, 30, 58, 86, 114, 142, 170],
          ],
          G15: 1335,
          G18: 7973,
          G15_MASK: 21522,
          getBCHTypeInfo: function (e) {
            for (
              var t = e << 10;
              i.getBCHDigit(t) - i.getBCHDigit(i.G15) >= 0;

            )
              t ^= i.G15 << (i.getBCHDigit(t) - i.getBCHDigit(i.G15));
            return ((e << 10) | t) ^ i.G15_MASK;
          },
          getBCHTypeNumber: function (e) {
            for (
              var t = e << 12;
              i.getBCHDigit(t) - i.getBCHDigit(i.G18) >= 0;

            )
              t ^= i.G18 << (i.getBCHDigit(t) - i.getBCHDigit(i.G18));
            return (e << 12) | t;
          },
          getBCHDigit: function (e) {
            for (var t = 0; 0 != e; ) t++, (e >>>= 1);
            return t;
          },
          getPatternPosition: function (e) {
            return i.PATTERN_POSITION_TABLE[e - 1];
          },
          getMask: function (e, t, s) {
            switch (e) {
              case 0:
                return (t + s) % 2 == 0;
              case 1:
                return t % 2 == 0;
              case 2:
                return s % 3 == 0;
              case 3:
                return (t + s) % 3 == 0;
              case 4:
                return (Math.floor(t / 2) + Math.floor(s / 3)) % 2 == 0;
              case 5:
                return ((t * s) % 2) + ((t * s) % 3) == 0;
              case 6:
                return (((t * s) % 2) + ((t * s) % 3)) % 2 == 0;
              case 7:
                return (((t * s) % 3) + ((t + s) % 2)) % 2 == 0;
              default:
                throw new Error("bad maskPattern:" + e);
            }
          },
          getErrorCorrectPolynomial: function (e) {
            for (var t = new n([1], 0), s = 0; s < e; s++)
              t = t.multiply(new n([1, a.gexp(s)], 0));
            return t;
          },
          getLengthInBits: function (e, t) {
            if (1 <= t && t < 10)
              switch (e) {
                case r.MODE_NUMBER:
                  return 10;
                case r.MODE_ALPHA_NUM:
                  return 9;
                case r.MODE_8BIT_BYTE:
                case r.MODE_KANJI:
                  return 8;
                default:
                  throw new Error("mode:" + e);
              }
            else if (t < 27)
              switch (e) {
                case r.MODE_NUMBER:
                  return 12;
                case r.MODE_ALPHA_NUM:
                  return 11;
                case r.MODE_8BIT_BYTE:
                  return 16;
                case r.MODE_KANJI:
                  return 10;
                default:
                  throw new Error("mode:" + e);
              }
            else {
              if (!(t < 41)) throw new Error("type:" + t);
              switch (e) {
                case r.MODE_NUMBER:
                  return 14;
                case r.MODE_ALPHA_NUM:
                  return 13;
                case r.MODE_8BIT_BYTE:
                  return 16;
                case r.MODE_KANJI:
                  return 12;
                default:
                  throw new Error("mode:" + e);
              }
            }
          },
          getLostPoint: function (e) {
            for (var t = e.getModuleCount(), s = 0, r = 0; r < t; r++)
              for (var n = 0; n < t; n++) {
                for (var a = 0, i = e.isDark(r, n), o = -1; o <= 1; o++)
                  if (!(r + o < 0 || t <= r + o))
                    for (var l = -1; l <= 1; l++)
                      n + l < 0 ||
                        t <= n + l ||
                        (0 == o && 0 == l) ||
                        (i == e.isDark(r + o, n + l) && a++);
                a > 5 && (s += 3 + a - 5);
              }
            for (r = 0; r < t - 1; r++)
              for (n = 0; n < t - 1; n++) {
                var c = 0;
                e.isDark(r, n) && c++,
                  e.isDark(r + 1, n) && c++,
                  e.isDark(r, n + 1) && c++,
                  e.isDark(r + 1, n + 1) && c++,
                  (0 != c && 4 != c) || (s += 3);
              }
            for (r = 0; r < t; r++)
              for (n = 0; n < t - 6; n++)
                e.isDark(r, n) &&
                  !e.isDark(r, n + 1) &&
                  e.isDark(r, n + 2) &&
                  e.isDark(r, n + 3) &&
                  e.isDark(r, n + 4) &&
                  !e.isDark(r, n + 5) &&
                  e.isDark(r, n + 6) &&
                  (s += 40);
            for (n = 0; n < t; n++)
              for (r = 0; r < t - 6; r++)
                e.isDark(r, n) &&
                  !e.isDark(r + 1, n) &&
                  e.isDark(r + 2, n) &&
                  e.isDark(r + 3, n) &&
                  e.isDark(r + 4, n) &&
                  !e.isDark(r + 5, n) &&
                  e.isDark(r + 6, n) &&
                  (s += 40);
            var d = 0;
            for (n = 0; n < t; n++)
              for (r = 0; r < t; r++) e.isDark(r, n) && d++;
            return s + (Math.abs((100 * d) / t / t - 50) / 5) * 10;
          },
        };
      e.exports = i;
    },
    534: function (e, t, s) {
      s.r(t);
      var r = s(13),
        n = class extends r.a {
          render() {
            return null;
          }
        };
      t.default = n;
    },
    645: function (e, t, s) {
      s.r(t),
        s.d(t, "CallLogList", function () {
          return Je;
        }),
        s.d(t, "Conversation", function () {
          return Oc;
        }),
        s.d(t, "RegistrationProfileInfo", function () {
          return Ff;
        }),
        s.d(t, "RegistrationProfilePhoto", function () {
          return qf;
        }),
        s.d(t, "SpinnerScreen", function () {
          return sm.b;
        }),
        s.d(t, "TwoFactorReminder", function () {
          return YS;
        }),
        s.d(t, "StatusList", function () {
          return um;
        }),
        s.d(t, "TempBanned", function () {
          return zS.default;
        }),
        s.d(t, "ActivityInProgress", function () {
          return G;
        }),
        s.d(t, "AppError", function () {
          return zc;
        }),
        s.d(t, "UserNoticeModal", function () {
          return gf.default;
        }),
        s.d(t, "Stage2Screen", function () {
          return jk;
        });
      var r = s(1),
        n = s(13),
        a = s(474),
        i = s(54),
        o = s(18),
        l = s(346),
        c = s(48),
        d = s(40),
        h = s(56),
        u = class extends h.a {
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.ts;
            return (0, r.b)(2, a.a, {
              title: (0, r.b)(2, o.b, { l10n: 2 }),
              children: (0, r.f)(
                1,
                "div",
                "WF",
                [
                  (0, r.f)(1, "div", "WG GF GC", t ? (0, c.b)(t) : l.a, 0),
                  (0, r.f)(
                    1,
                    "div",
                    "WH GG GC",
                    s ? (0, r.b)(2, o.a, { unix: s }) : l.a,
                    0
                  ),
                ],
                4
              ),
            });
          }
        },
        p = (0, i.c)((0, h.e)(u), (e, t, s) => {
          var r = s.jid,
            n = (0, d.c)(r, e.contacts).about || {},
            a = "loaded" === n.status ? n : {};
          return { content: a.content, ts: a.ts };
        }),
        v = s(31),
        f = s.n(v),
        g = s(231),
        b = s(272),
        m = s(112),
        S = s(165),
        y = s(19),
        k = "WM BQ",
        C = s(347),
        w = [
          "privacy",
          "twoFactorVerification",
          "requestAccountInfo",
          "verboseSecurity",
          "deleteAccount",
        ],
        x = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.YM = () => (0, r.b)(2, o.b, { l10n: 7 })),
              (this.YN = (e, t) => {
                var s = this.props,
                  n = s.isVoipAvailable,
                  a = s.verboseSecurity;
                switch (e) {
                  case "privacy":
                    return (0, r.b)(2, L, { selected: t });
                  case "verboseSecurity":
                    return (0, r.b)(2, _, {
                      isVoipAvailable: n,
                      selected: t,
                      verboseSecurity: a,
                    });
                  case "requestAccountInfo":
                    return (0, r.b)(2, M, { selected: t });
                  case "twoFactorVerification":
                    return (0, r.b)(2, O, { selected: t });
                  case "deleteAccount":
                    return (0, r.b)(2, T, { selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: this.YM(),
              children: (0, r.b)(2, g.a, {
                items: w,
                keyOf: P,
                renderItem: this.YN,
              }),
            });
          }
        },
        I = (0, i.c)((0, h.e)(x), (e) => {
          var t = e.isVoipAvailable,
            s = e.verboseSecurity;
          return e.serverProps, { isVoipAvailable: t, verboseSecurity: s };
        }),
        L = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("SETTINGS_PRIVACY", {});
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 595,
              selected: this.props.selected,
              rightComponent: (0, r.b)(2, C.a, { className: k }),
              borderBottom: !0,
            });
          }
        },
        _ = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.YO = (e) => {
                var t = this.props.isVoipAvailable;
                (0, y.g)({
                  text: t ? 728 : 729,
                  center: 796,
                  onSoftCenter: "CLOSE",
                  right: 785,
                  onSoftRight: () =>
                    (function (e) {
                      (0, S.y)(e, S.s);
                    })(e),
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.isVoipAvailable !== e.isVoipAvailable ||
                s.selected !== e.selected ||
                s.verboseSecurity !== e.verboseSecurity)
            );
          }
          addSoftKeys(e) {
            this.props.verboseSecurity
              ? e.setCenterLabel(771, (e) => {
                  N(e, !1);
                })
              : e.setCenterLabel(775, (e) => {
                  N(e, !0);
                }),
              e.setRightLabel(781, this.YO);
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.verboseSecurity;
            return (0, r.c)(
              [
                (0, r.b)(2, m.d, { title: 727, checked: s, selected: t }),
                (0, r.b)(2, m.n, { text: 730 }),
              ],
              4
            );
          }
        };
      function N(e, t) {
        e.fireAndForget("backend", "setVerboseSecurity", {
          privacySecurity: t,
        }),
          e.dispatch({
            type: "SECURITY_NOTIFICATION_SETTINGS",
            verboseSecurity: t,
          });
      }
      var M = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("REQUEST_ACCOUNT_INFO");
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.a, {
              title: 731,
              rightComponent: (0, r.b)(2, C.a, { className: k }),
              selected: e,
              borderBottom: !0,
            });
          }
        },
        O = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("TWO_FACTOR_SETUP");
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.a, {
              title: 926,
              rightComponent: (0, r.b)(2, C.a, { className: k }),
              selected: e,
              borderBottom: !0,
            });
          }
        },
        T = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("DELETE_ACCOUNT", {});
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.a, {
              title: 708,
              rightComponent: (0, r.b)(2, C.a, { className: k }),
              selected: e,
            });
          }
        };
      function P(e) {
        return e;
      }
      var A = s(110),
        E = s(398),
        R = class extends h.a {
          shouldComponentUpdate(e, t) {
            return !1;
          }
          addSoftKeys(e, t) {
            var s = () => {
              (0, A.c)(), (0, A.e)(t);
            };
            e.setBack(s), e.setLeftLabel(761, s);
          }
          render() {
            return (0, r.f)(1, "div", E.a);
          }
        },
        G = (0, h.e)(R),
        U = s(10),
        D = s(76),
        j = s(254),
        B = s(279),
        V = s(146),
        F = s(32),
        W = s(273),
        K = s(21),
        z = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Hq = n.e()),
              (this.Hr = (e) => {
                var t = this.state.selectedContacts;
                if (t.has(e)) {
                  var s = new Set(t);
                  s.delete(e), this.setState({ selectedContacts: s });
                }
              }),
              (this.Hs = (e) => {
                var t = this.state.selectedContacts;
                if (!t.has(e)) {
                  var s = new Set(t);
                  s.add(e), this.setState({ selectedContacts: s });
                }
              }),
              (this.Ht = (e, t) => {
                var s = this.props.contacts,
                  r = (0, W.g)(e);
                return t.filter((e) => (0, W.a)((0, d.c)(e, s), r));
              }),
              (this.Hu = () => {
                var e = new Set(this.props.jids);
                this.setState({ selectedContacts: e });
              }),
              (this.Hv = () => {
                var e = this.props,
                  t = e.defaultSelectedContacts,
                  s = e.defaultAlwaysSelected,
                  r = new Set(s && t ? t : null);
                this.setState({ selectedContacts: r });
              }),
              (this.Hx = (e) => {
                var t = this.props.onCancel;
                t ? t((0, K.c)(this.state.selectedContacts)) : e.goBack();
              }),
              (this.Hy = (e, t) => {
                e.setBack(this.Hx),
                  e.setLeftLabel(761, this.Hx),
                  e.setRightOptions(X);
              }),
              (this.Hw = () => {
                this.props.onDone((0, K.c)(this.state.selectedContacts));
              }),
              (this.Hz = (e, t) => {
                var s = this.state.selectedContacts,
                  n = this.props,
                  a = n.contacts,
                  i = n.defaultAlwaysSelected,
                  o = n.defaultSelectedContacts,
                  l = n.defaultSelectedSubtitle,
                  c = n.blocked,
                  h = i && o && o.has(e),
                  u = h || s.has(e);
                return (0, r.b)(2, J, {
                  contact: (0, d.c)(e, a),
                  checked: u,
                  selected: t,
                  onSelect: this.Hs,
                  onUnselect: this.Hr,
                  alwaysSelected: h,
                  defaultSelectedSubtitle: l,
                  blocked: c,
                });
              }),
              (this.state = {
                selectedContacts: new Set(this.props.defaultSelectedContacts),
              });
          }
          addSoftKeys(e, t) {
            var s,
              r = this.state.selectedContacts,
              n = this.props,
              a = n.selectAll,
              i = n.jids,
              o = n.done,
              l = n.defaultSelectedContacts,
              c = n.allowEmpty,
              d = n.allowUnchanged,
              h = c || r.size > 0,
              u = d || (void 0 === l ? r.size > 0 : !(0, U.g)(r, l));
            h && u && e.setRightLabel(o || 772, this.Hw), e.setBack(this.Hx);
            var p = null == (s = this.Hq) ? void 0 : s.current;
            a &&
              p &&
              !p.isSearching() &&
              (i.length === r.size
                ? e.setLeftLabel(764, this.Hv)
                : e.setLeftLabel(819, this.Hu));
          }
          render() {
            var e =
              0 === this.props.jids.length
                ? void 0
                : { filter: this.Ht, emptyLabel: 525 };
            return (0, r.b)(2, b.a, {
              title: this.props.renderTitle(this.state.selectedContacts.size),
              children: (0, r.b)(
                2,
                g.c,
                {
                  items: this.props.jids,
                  keyOf: Q,
                  search: e,
                  estimatedItemHeight: D.c,
                  emptyLabel: 524,
                  renderItem: this.Hz,
                  addSearchSoftKeys: this.Hy,
                  deps: [this.state.selectedContacts],
                },
                null,
                this.Hq
              ),
            });
          }
        },
        H = (0, i.f)(
          (0, h.e)(z),
          (e, t) =>
            Object.assign({}, t, { contacts: e.contacts, blocked: e.blocked }),
          (e) => {
            var t = e.contacts,
              s = e.defaultSelectedContacts,
              r = e.defaultSort,
              n = [],
              a = new Set();
            s &&
              s.forEach((e) => {
                a.add(e);
                var s = (0, d.c)(e, t);
                ((0, d.k)(s) && (0, d.l)(s)) || n.push(e);
              });
            var i = ("selected" === r
              ? (0, F.j)(t, (e, t) =>
                  a.has(e.jid)
                    ? a.has(t.jid)
                      ? (0, F.l)(e, t)
                      : -1
                    : a.has(t.jid)
                    ? 1
                    : (0, F.l)(e, t)
                )
              : (0, F.j)(t, F.l)
            )
              .map((e) => e.jid)
              .concat(n);
            return Object.assign({}, e, { jids: i });
          }
        ),
        J = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.IA = (e, t) => {
                (0, y.f)(
                  (0, B.b)({
                    contact: t,
                    unblock: () => {
                      e.unblockUser(t.jid);
                    },
                  })
                );
              }),
              e
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.alwaysSelected,
              n = s.checked,
              a = s.blocked,
              i = s.contact,
              o = i.jid;
            r ||
              (a[o]
                ? e.setCenterLabel(832, () => {
                    this.IA(t, i);
                  })
                : n
                ? e.setCenterLabel(379, () => {
                    this.props.onUnselect(o);
                  })
                : e.setCenterLabel(818, () => {
                    this.props.onSelect(o);
                  }));
          }
          render() {
            var e = this.props,
              t = e.contact,
              s = e.selected,
              n = e.alwaysSelected,
              a = e.checked,
              i = e.blocked,
              o = e.defaultSelectedSubtitle,
              l = null != i[t.jid] ? 951 : n && o ? o : void 0;
            return (0, r.b)(
              2,
              m.f,
              {
                contact: t,
                selected: s,
                disabled: n,
                subtitle: l,
                rightComponent: (0, r.f)(
                  1,
                  "div",
                  "Eg",
                  (0, r.b)(2, j.a, { checked: a, selected: s }),
                  2
                ),
              },
              t.jid
            );
          }
        };
      function Q(e) {
        return e;
      }
      function X(e) {
        var t = new V.a();
        t.add(527, e.syncAllContacts, "interactive"), (0, y.j)(t);
      }
      var q,
        $,
        Y = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.YL = (e) =>
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 7] })
                  : (0, r.b)(2, o.b, { l10n: 18 })),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.alreadyInGroup !== e.alreadyInGroup || s.done !== e.done)
            );
          }
          render() {
            return (0, r.b)(2, H, {
              defaultSelectedContacts: this.props.alreadyInGroup,
              defaultAlwaysSelected: !0,
              defaultSelectedSubtitle: 21,
              allowUnchanged: !1,
              renderTitle: this.YL,
              done: 754,
              onDone: this.props.done,
            });
          }
        },
        Z = (0, i.f)(
          Y,
          (e, t) => ({
            group: t.chat,
            participants: t.chat.groupInfo.participants,
            contacts: e.contacts,
            groupInviteSending: e.serverProps.groupInviteSending,
            connected: e.connected,
          }),
          (e, t) => {
            var s = new Set(e.participants);
            return {
              alreadyInGroup: s,
              done: (r) => {
                if (e.connected) {
                  var n = r.filter((e) => !s.has(e));
                  if (n.length > 0) {
                    var a = 0 !== e.groupInviteSending;
                    t.addGroupParticipants(e.group, n, e.contacts, a);
                  } else t.goBack();
                } else (0, y.e)({ title: 229, text: 13 });
              },
            };
          }
        ),
        ee = s(7),
        te = s(352),
        se = s(36),
        re =
          ((q = class {
            constructor(e, t, s) {
              $.call(this), (this.TG = (0, se.j)() ? 3 : 7), (this.TM = t);
              var r = s;
              if (null == r) {
                var n = e.parentElement;
                if (n) {
                  var a = n.getBoundingClientRect();
                  r = { width: a.width, height: a.height };
                }
              }
              null == r && (r = { width: D.n, height: D.l });
              var i = (function (e, t, s, r) {
                (0 !== e && 0 !== t && 0 !== s && 0 !== r) ||
                  __LOG__(
                    4
                  )`Zoomer.getFitSizeFromImage: all dimensions must have a value, you need to wait for the onLoad event on the img`;
                var n = s / r,
                  a = e,
                  i = t;
                return (
                  n > e / t ? (i = e / n) : (a = t * n), { width: a, height: i }
                );
              })(r.width, r.height, e.naturalWidth, e.naturalHeight);
              (this.TL = { scale: 1, x: 0, y: 0 }),
                (this.TH = i),
                (this.TI = r),
                (this.TJ = 0.75 * r.width),
                (this.TK = 0.75 * r.height),
                (this.TN = ne(r, i, 1));
            }
            TO(e) {
              var t,
                s,
                r = this.TL,
                n = r.x,
                a = r.y,
                i = r.scale,
                o =
                  null == e.scale ? i : Math.max(1, Math.min(e.scale, this.TG));
              o !== i && (this.TN = ne(this.TI, this.TH, o)),
                (this.TL =
                  1 === o
                    ? { scale: o, x: 0, y: 0 }
                    : {
                        scale: o,
                        x: ae(this.TN, null != (t = e.x) ? t : n),
                        y: ie(this.TN, null != (s = e.y) ? s : a),
                      }),
                this.TM(this.TL);
            }
            isAtMinScale() {
              return 1 === this.TL.scale;
            }
            isAtMaxScale() {
              return this.TL.scale === this.TG;
            }
          }),
          ($ = function () {
            (this.in = () => {
              var e = this.TL.scale;
              this.TO({ scale: e + 2 });
            }),
              (this.out = () => {
                var e = this.TL.scale;
                this.TO({ scale: e - 2 });
              }),
              (this.fullout = () => {
                this.TO({ scale: 1 });
              }),
              (this.up = () => {
                var e = this.TL,
                  t = e.y,
                  s = e.scale;
                this.TO({ y: t + this.TK / s });
              }),
              (this.down = () => {
                var e = this.TL,
                  t = e.y,
                  s = e.scale;
                this.TO({ y: t - this.TK / s });
              }),
              (this.left = () => {
                var e = this.TL,
                  t = e.x,
                  s = e.scale;
                this.TO({ x: t + this.TJ / s });
              }),
              (this.right = () => {
                var e = this.TL,
                  t = e.x,
                  s = e.scale;
                this.TO({ x: t - this.TJ / s });
              });
          }),
          q);
      function ne(e, t, s) {
        var r = Math.max(0, (t.width * s - e.width) / (2 * s)),
          n = Math.max(0, (t.height * s - e.height) / (2 * s));
        return { top: n, bottom: -1 * n, left: r, right: -1 * r };
      }
      function ae(e, t) {
        return Math.max(e.right, Math.min(t, e.left));
      }
      function ie(e, t) {
        return Math.max(e.bottom, Math.min(t, e.top));
      }
      var oe = s(476),
        le = s(275),
        ce = s(489),
        de = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.UM = n.e()),
              (this.UN = !1),
              (this.UO = null),
              (this.state = { initialized: !1, scale: 1, x: 0, y: 0 }),
              (this.UP = () => {
                if (this.UN) {
                  var e = this.UM.current;
                  e &&
                    e.parentElement &&
                    ((this.UO = new re(e, (e) => {
                      this.setState(e);
                    })),
                    this.setState({ initialized: !0 }));
                }
              }),
              (this.UQ = (e) => {
                this.UN &&
                  (__LOG__(4)`Failed to load ImageView`,
                  SEND_LOGS("ImageView failed"),
                  this.props.onLoadError && this.props.onLoadError(e));
              }),
              (this.UR = (e) => {
                var t = this.props.src;
                null != t.uri && e.saveImageToStorage(t.uri);
              }),
              (this.US = (e) => {
                var t = this.props,
                  s = t.enableSave,
                  n = t.onReportContact,
                  a = t.caption,
                  i = t.captionFormatting;
                if (!s && null == n && null == a) return null;
                var o = new V.a();
                return (
                  s &&
                    o.add(382, () => {
                      this.UR(e);
                    }),
                  null != n && o.add(632, n),
                  null != a &&
                    o.add(966, () => {
                      (0, y.h)(
                        {
                          title: 110,
                          onBack: "CLOSE",
                          onSoftCenter: "CLOSE",
                          center: 796,
                        },
                        (0, r.b)(2, ce.a, { caption: a, formatting: i })
                      );
                    }),
                  o
                );
              }),
              e
            );
          }
          componentDidMount() {
            (this.UN = !0),
              null != this.props.onViewed && this.props.onViewed(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UN = !1),
              this.props.onClose && this.props.onClose(),
              super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.UO,
              r = this.US(t);
            e.setBack(oe.a),
              (null == s || s.isAtMinScale()) &&
                (null != r &&
                  e.setRightOptions(() => {
                    (0, y.j)(r);
                  }),
                null != this.props.onMsgInfo &&
                  e.setCenterLabel(781, this.props.onMsgInfo)),
              null != s &&
                (s.isAtMinScale()
                  ? e.setLeftLabel(836, s.in)
                  : (e.setUpDownArrows(s.up, s.down),
                    e.setLeftRightArrows(s.left, s.right),
                    e.setLeftLabel(838, s.out),
                    s.isAtMaxScale() || e.setRightLabel(837, s.in)));
          }
          render() {
            var e,
              t,
              s = this.state,
              a = s.scale,
              i = s.x,
              o = s.y,
              l = this.props,
              c = l.src,
              d = l.caption,
              h = l.captionFormatting,
              u = { transform: `scale(${a}) translate(${i}px,${o}px)` };
            return (
              null != c.uri
                ? (e = (0, r.f)(
                    1,
                    "img",
                    "NN",
                    null,
                    1,
                    {
                      src: c.uri,
                      style: n.h(u),
                      onLoad: this.UP,
                      onError: this.UQ,
                    },
                    null,
                    this.UM
                  ))
                : null != c.blob &&
                  (e = (0, r.b)(2, te.b, {
                    innerRef: this.UM,
                    blob: c.blob,
                    className: "NN",
                    style: u,
                    onLoad: this.UP,
                    onError: this.UQ,
                  })),
              null == d ||
                (null != this.UO && !this.UO.isAtMinScale()) ||
                (t = (0, r.b)(2, le.a, {
                  textClassName: "NO GF GC",
                  maxLineClassName: "NP",
                  truncated: !0,
                  children: (0, r.b)(2, ce.a, { caption: d, formatting: h }),
                })),
              (0, r.f)(1, "div", "NM", [e, t], 0)
            );
          }
        },
        he = (0, h.e)(de, { fullscreen: !0 }),
        ue = s(103),
        pe = s(126),
        ve = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.jid !== e.jid || s.avatarStatus !== e.avatarStatus)
            );
          }
          componentDidMount() {
            this.YK(this.props);
          }
          componentDidUpdate(e) {
            this.YK(e);
          }
          YK(e) {
            var t = this.props,
              s = t.avatarStatus,
              r = t.jid,
              n = t.backend;
            if (s) {
              if (e.avatarStatus) {
                var a = e.avatarStatus,
                  i =
                    "loading" === a.status ||
                    ("loaded" === a.status && null != a.avatar),
                  o = "loaded" === s.status && null == s.avatar;
                if (i && o) {
                  n.goBack();
                  var l = (0, ee.x)(r, { user: () => 150, group: () => 374 });
                  (0, pe.a)(l);
                }
              }
            } else
              (function (e, t) {
                var s = e.getCache();
                if (!s.fullsizeAvatar(t)) {
                  var r = s.loadingFullsizeAvatar(t);
                  e.fireAndForget("backend", "loadFullsizeAvatar", { jid: t }),
                    e.dispatch(r);
                }
              })(n, r);
          }
          render() {
            var e = this.props,
              t = e.avatarStatus,
              s = e.jid;
            if (null == t || "loading" === t.status)
              return (0, r.b)(2, fe, { jid: s });
            var n = null !== (0, ee.p)(s);
            return null == t.avatar
              ? null
              : (0, r.b)(2, he, { src: { uri: t.avatar.url }, enableSave: n });
          }
        };
      function fe(e) {
        var t = e.jid;
        return (0, r.f)(
          1,
          "div",
          "WE",
          (0, r.b)(2, ue.c, { jid: t, type: "thumb" }),
          2
        );
      }
      var ge = (0, i.j)(ve),
        be = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Xb = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) =>
                  (0, W.a)((0, d.c)(e, this.props.contacts), s)
                );
              }),
              (this.Xc = (e, t) => {
                var s = this.props,
                  n = s.contacts,
                  a = s.blocked,
                  i = s.connected;
                return (0, r.b)(2, me, {
                  contact: (0, d.c)(e, n),
                  selected: t,
                  connected: i,
                  blocked: a[e],
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contacts !== e.contacts ||
                s.blocked !== e.blocked ||
                s.items !== e.items ||
                s.connected !== e.connected)
            );
          }
          render() {
            var e =
              0 === this.props.items.length
                ? void 0
                : { filter: this.Xb, emptyLabel: 525 };
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 703 }),
              children: (0, r.b)(2, g.c, {
                items: this.props.items,
                keyOf: ye,
                search: e,
                estimatedItemHeight: D.c,
                emptyLabel: 524,
                renderItem: this.Xc,
              }),
            });
          }
        },
        me = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contact !== e.contact ||
                s.connected !== e.connected ||
                s.blocked !== e.blocked ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.blocked,
              n = s.connected,
              a = s.contact;
            r
              ? e.setCenterLabel(832, () => this.openUnblockDialog(a, t))
              : e.setCenterLabel(759, () => {
                  n
                    ? (t.blockUser(a.jid), t.goBack())
                    : (0, y.e)({ title: 229, text: 58 });
                });
          }
          openUnblockDialog(e, t) {
            this.props.connected
              ? (0, y.f)(
                  (0, B.b)({
                    contact: e,
                    unblock: () => {
                      this.props.connected
                        ? t.unblockUser(e.jid)
                        : (0, y.e)({ title: 229, text: 948 });
                    },
                  })
                )
              : (0, y.e)({ title: 229, text: 948 });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.contact,
              n = e.blocked;
            return (0, r.b)(2, m.f, {
              contact: s,
              selected: t,
              rawSubtitle: n
                ? (0, r.b)(2, o.b, { l10n: 144, className: "Vi" })
                : void 0,
            });
          }
        },
        Se = (0, i.c)((0, h.e)(be), (e, t) => {
          var s = (0, F.k)(e.contacts).map((e) => e.jid);
          return {
            contacts: e.contacts,
            blocked: e.blocked,
            items: s,
            connected: e.connected,
          };
        });
      function ye(e) {
        return e;
      }
      var ke = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Xa = (e, t) => {
                var s = this.props,
                  n = s.offline,
                  a = s.contacts;
                return "ADD_BLOCK" === e
                  ? (0, r.b)(2, Ce, { selected: t, offline: n })
                  : (0, r.b)(2, we, {
                      item: e,
                      selected: t,
                      contacts: a,
                      offline: n,
                    });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.offline !== e.offline ||
                s.contacts !== e.contacts ||
                s.items !== e.items)
            );
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 706 }),
              children: (0, r.b)(2, g.c, {
                items: this.props.items,
                keyOf: Ie,
                estimatedItemHeight: D.c,
                renderItem: this.Xa,
              }),
            });
          }
        },
        Ce = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.offline !== e.offline)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              this.props.offline
                ? (0, y.e)({ title: 229, text: 713 })
                : t.openScreen("BLOCK_CONTACT");
            });
          }
          render() {
            return (0, r.c)(
              [
                (0, r.b)(2, o.b, { l10n: 60, className: "Vh GG GC" }),
                (0, r.b)(2, m.a, { title: 705, selected: this.props.selected }),
              ],
              4
            );
          }
        },
        we = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.offline !== e.offline ||
                s.contacts !== e.contacts ||
                s.item !== e.item ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.item,
              n = s.contacts,
              a = s.offline;
            e.setCenterLabel(832, () => {
              a
                ? (0, y.e)({ title: 229, text: 713 })
                : t.unblockUser((0, d.c)(r, n).jid);
            });
          }
          render() {
            var e = this.props,
              t = e.item,
              s = e.selected,
              n = e.contacts;
            return (0, r.b)(2, m.f, { contact: (0, d.c)(t, n), selected: s });
          }
        },
        xe = (0, i.f)(
          (0, h.e)(ke),
          (e, t) => {
            var s = t.offline;
            return e.screens[e.screens.length - 1]
              ? { offline: s, blocked: e.blocked, contacts: e.contacts }
              : null;
          },
          (e, t) => {
            var s = e.offline,
              r = e.blocked,
              n = e.contacts,
              a = (0, U.w)(r)
                .map((e) => (0, d.c)(e, n))
                .sort(F.l)
                .map((e) => e.jid),
              i = ["ADD_BLOCK"];
            return (
              a.forEach((e) => {
                i.push(e);
              }),
              { contacts: n, items: i, offline: s }
            );
          }
        );
      function Ie(e) {
        return e;
      }
      var Le = s(351),
        _e = s(323),
        Ne = s(100),
        Me = s(22),
        Oe = s.n(Me),
        Te = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M5.2 8.9c1.3 2.5 3.3 4.6 5.9 5.9l2-2c.2-.2.6-.3.9-.2 1 .3 2.1.5 3.2.5.5 0 .9.4.9.9v3.1c0 .5-.4.9-.9.9C8.8 18 2 11.2 2 2.9c0-.5.4-.9.9-.9H6c.5 0 .9.4.9.9 0 1.1.2 2.2.5 3.2.1.3 0 .7-.2.9l-2 1.9z",
            }),
            2,
            { x: "0", y: "0", viewBox: "0 0 20 20" }
          );
        },
        Pe = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.start = { item: "contact", scrollFromTop: "start" }),
              (this.renderCall = (e, t) => {
                if ("contact" === e)
                  return (0, r.b)(2, Re, {
                    contact: this.props.contact,
                    selected: t,
                    isBlocked: this.props.isBlocked,
                    isVoipAvailable: this.props.isVoipAvailable,
                  });
                var s = this.props.idToLog.get(e);
                return null == s
                  ? null
                  : (0, r.b)(2, Ge, { log: s, selected: t });
              }),
              e
            );
          }
          addSoftKeys(e) {
            var t = this.props,
              s = t.contact,
              r = t.isBlocked;
            t.isVoipAvailable &&
              e.setOnCall((e) => {
                (0, _e.a)(s, e, r, "callLogInfo");
              });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 91 }),
              children: (0, r.b)(2, g.c, {
                items: this.props.items,
                keyOf: Ae,
                estimatedItemHeight: D.b,
                renderItem: this.renderCall,
                start: this.start,
              }),
            });
          }
        };
      function Ae(e) {
        return String(e);
      }
      var Ee = (0, i.f)(
          (0, h.e)(Pe),
          (e, t) => {
            var s = e.calls,
              r = e.contacts,
              n = e.blocked,
              a = e.isVoipAvailable,
              i = t.callLogGroupId,
              o = null == s ? void 0 : s.logs;
            if (null == o) return null;
            var l = o.groups.get(i);
            if (null == l) return null;
            var c = l.peer,
              h = l.logs;
            return {
              contact: (0, d.c)(c, r),
              isVoipAvailable: a,
              isBlocked: Boolean(n[c]),
              logs: h,
            };
          },
          (e, t) => {
            for (
              var s = e.contact,
                r = e.isBlocked,
                n = e.logs,
                a = e.isVoipAvailable,
                i = ["contact"],
                o = new Map(),
                l = 0,
                c = n.length;
              l < c;
              l++
            )
              o.set(l, n[l]), i.push(l);
            return {
              backend: t,
              contact: s,
              isVoipAvailable: a,
              isBlocked: r,
              items: i,
              idToLog: o,
            };
          }
        ),
        Re = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contact !== e.contact ||
                s.selected !== e.selected ||
                s.isBlocked !== e.isBlocked ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              n = s.contact,
              a = s.isBlocked,
              i = s.isVoipAvailable;
            e.setRightLabel(92, () => {
              (0, Ne.a)(t, n.jid, "newest");
            }),
              i &&
                e.setLeftIcon((0, r.b)(2, Te, { className: "UX q p" }), (e) => {
                  (0, _e.a)(n, e, a, "callLogInfo");
                });
          }
          render() {
            var e = this.props,
              t = e.contact,
              s = e.selected,
              n = (0, F.f)(t);
            return (0, r.f)(
              1,
              "div",
              "UR",
              (0, r.b)(2, m.f, {
                contact: t,
                selected: s,
                rawSubtitle: null == n ? null : (0, r.f)(1, "span", "US", n, 0),
              }),
              2
            );
          }
        };
      function Ge(e) {
        var t = e.log,
          s = e.selected,
          n = t.ts;
        return null == t.callResult
          ? null
          : (0, r.f)(
              1,
              "div",
              (0, Oe.a)("UT", s && "UU"),
              (0, r.b)(2, m.a, {
                rawTitle: (0, r.b)(2, o.a, { unix: n }),
                rawSubtitle: (0, r.b)(2, je, { log: t, selected: s }),
                selected: s,
              }),
              2
            );
      }
      function Ue(e) {
        var t = e.duration,
          s = e.size;
        if (null == t || null == s) return null;
        var n = Math.round(t / 1e3),
          a = Math.floor(n / 3600);
        n -= 3600 * a;
        var i = Math.floor(n / 60);
        n -= 60 * i;
        var l = (0, r.b)(2, Le.a, { size: s });
        return a > 0
          ? (0, r.b)(2, o.b, {
              l10n: [
                (0, r.b)(2, o.b, { l10n: [a, 237] }),
                (0, r.b)(2, o.b, { l10n: [i, 238] }),
                l,
                31,
              ],
            })
          : i > 0
          ? (0, r.b)(2, o.b, {
              l10n: [
                (0, r.b)(2, o.b, { l10n: [i, 238] }),
                (0, r.b)(2, o.b, { l10n: [n, 239] }),
                l,
                31,
              ],
            })
          : (0, r.b)(2, o.b, {
              l10n: [(0, r.b)(2, o.b, { l10n: [Math.max(1, n), 239] }), l, 30],
            });
      }
      function De(e) {
        switch (e.callResult) {
          case "connected":
            return null;
          case "missed":
            return (0, r.b)(2, o.b, { l10n: 96 });
          case "rejected":
            return (0, r.b)(2, o.b, { l10n: 95 });
          case "unavailable":
            return (0, r.b)(2, o.b, { l10n: 97 });
          default:
            return (0, r.b)(2, o.b, { l10n: 94 });
        }
      }
      function je(e) {
        var t = e.log,
          s = e.selected,
          n = t.bytesTransfered,
          a = t.callResult,
          i = t.isFromMe,
          l = t.duration;
        if (null == a) return null;
        var c = null,
          d = null;
        return (
          "connected" === a
            ? ((c = i
                ? (0, r.b)(2, o.b, { l10n: 93 })
                : (0, r.b)(2, o.b, { l10n: 89 })),
              (d = (0, r.b)(2, Ue, { duration: l, size: n })))
            : i
            ? ((c = (0, r.b)(2, o.b, { l10n: 93 })),
              (d = (0, r.b)(2, De, { callResult: a })))
            : (c = (0, r.b)(2, o.b, { l10n: 90, className: "UV" })),
          (0, r.f)(
            1,
            "div",
            (0, Oe.a)("UW GH GC", s && "UU"),
            [(0, r.f)(1, "div", null, c, 0), (0, r.f)(1, "div", null, d, 0)],
            4
          )
        );
      }
      var Be = s(357),
        Ve = s(332),
        Fe = s(336),
        We = s(306),
        Ke = "UI",
        ze = class extends h.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.isLoading !== e.isLoading ||
                s.contacts !== e.contacts ||
                s.blocked !== e.blocked ||
                s.isVoipAvailable !== e.isVoipAvailable ||
                s.orderedGroupIds !== e.orderedGroupIds ||
                s.groups !== e.groups ||
                s.lastScrollPosition !== e.lastScrollPosition)
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.listRef = n.e()),
              (this.filter = (e, t) => {
                if (this.props.isLoading) return [];
                var s = this.props,
                  r = s.contacts,
                  n = s.groups;
                return t.filter((t) => {
                  var s = n.get(t);
                  if (null == s) return null;
                  var a = (0, d.c)(s.peer, r);
                  return (0, W.a)(a, (0, W.g)(e));
                });
              }),
              (this.renderCallLog = (e, t) => {
                if (this.props.isLoading) return null;
                var s = this.props.groups.get(e);
                if (null == s) return null;
                var n = this.props,
                  a = n.blocked,
                  i = n.contacts,
                  o = n.isVoipAvailable;
                return (0, r.b)(2, Qe, {
                  id: e,
                  group: s,
                  contacts: i,
                  blocked: a,
                  selected: t,
                  isVoipAvailable: o,
                });
              }),
              (this.start = e.isLoading
                ? null
                : { item: e.orderedGroupIds[0], scrollFromTop: "start" }),
              e.lastScrollPosition &&
                (this.start = {
                  item: e.lastScrollPosition.id,
                  scrollFromTop: e.lastScrollPosition.fromTop,
                }),
              (this.search = { filter: this.filter, emptyLabel: 243 });
          }
          componentWillUnmount() {
            if (null != this.listRef.current) {
              var e,
                t = this.listRef.current.getSelected();
              null != t &&
                this.props.backend.dispatch({
                  type: "UPDATE_CALL_LOGS_SCROLL",
                  lastScrollPosition: {
                    id: t.item,
                    fromTop:
                      (null == (e = t.node.getClientRect()) ? void 0 : e.top) ||
                      0,
                  },
                }),
                super.componentWillUnmount();
            }
          }
          addSoftKeys(e, t) {
            e.setLeftLabel(792, () => {
              t.openScreen("NEW_CALL");
            });
          }
          render() {
            if (this.props.isLoading)
              return (0, r.b)(2, Ve.b, {
                children: (0, r.b)(2, Be.a, { type: "center" }),
              });
            var e = this.props.orderedGroupIds;
            return (0, r.b)(2, Ve.b, {
              children: (0, r.b)(
                2,
                g.c,
                {
                  items: e,
                  keyOf: He,
                  search: this.search,
                  estimatedItemHeight: D.b,
                  emptyLabel: 88,
                  renderItem: this.renderCallLog,
                  start: this.start,
                },
                null,
                this.listRef
              ),
            });
          }
        };
      function He(e) {
        return e;
      }
      var Je = (0, i.c)((0, h.e)(ze), (e, t) => {
          var s = e.blocked,
            r = e.calls,
            n = e.contacts,
            a = e.isVoipAvailable,
            i = r && r.logs;
          if (!i || null != i.loadingRequestId)
            return {
              isLoading: !0,
              blocked: s,
              contacts: n,
              isVoipAvailable: a,
              backend: t,
            };
          var o = i.groups,
            l = i.lastScrollPosition;
          return {
            isLoading: !1,
            groups: o,
            orderedGroupIds: i.orderedGroupIds,
            isVoipAvailable: a,
            blocked: s,
            contacts: n,
            lastScrollPosition: l,
            backend: t,
          };
        }),
        Qe = class extends h.b {
          buildOptionsMenu(e) {
            var t = this.props.group,
              s = new V.a();
            return (
              s.add(81, () => {
                e.deleteCallLogs(t.logs.map((e) => e.id));
              }),
              s.add(78, e.clearAllCallLogs),
              s
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.id,
              n = s.contacts,
              a = s.group,
              i = a.peer,
              o = a.type,
              l = s.blocked,
              c = s.isVoipAvailable,
              h = (0, d.c)(i, n),
              u = Boolean(l[i]);
            c &&
              e.setOnCall(() => {
                var e = (function (e) {
                  switch (e) {
                    case "incoming":
                      return "callLogListIncoming";
                    case "outgoing":
                      return "callLogListOutgoing";
                    default:
                      return "callLogListMissed";
                  }
                })(o);
                (0, _e.a)(h, t, u, e);
              }),
              e.setCenterLabel(91, () => {
                t.openScreen("CALL_LOG_INFO", { callLogGroupId: r });
              }),
              e.setRightOptions(() => {
                var e = this.buildOptionsMenu(t);
                (0, y.j)(e);
              });
          }
          render() {
            var e = this.props,
              t = e.contacts,
              s = e.group,
              n = e.selected,
              a = s.logs,
              i = s.ts,
              l = s.type,
              c = (0, d.c)(s.peer, t),
              h = a.length,
              u = "outgoing" === l ? We.a : Fe.a;
            return (0, r.b)(2, m.k, {
              className: (0, Oe.a)("UG", n && Ke),
              selected: e.selected,
              children: [
                (0, r.b)(2, ue.c, { jid: c.jid, className: "UJ GK" }),
                (0, r.f)(
                  1,
                  "div",
                  "UH",
                  [
                    (0, r.f)(
                      1,
                      "div",
                      "UM",
                      [
                        (0, r.f)(
                          1,
                          "div",
                          (0, Oe.a)("UN GF GC", n && Ke),
                          [
                            (0, r.b)(2, F.a, {
                              className: "UO GI GE",
                              contact: c,
                            }),
                            h > 1 &&
                              (0, r.f)(
                                1,
                                "span",
                                "UP",
                                [(0, r.e)(" ("), h, (0, r.e)(")")],
                                0
                              ),
                          ],
                          0
                        ),
                        (0, r.f)(
                          1,
                          "div",
                          (0, Oe.a)("UQ GI GE GG GC", n && Ke),
                          (0, r.b)(2, o.a, { unix: i }),
                          2
                        ),
                      ],
                      4
                    ),
                    (0, r.b)(2, u, {
                      className: (0, Oe.a)(
                        "UK",
                        "missed" === l && "UL",
                        n && Ke
                      ),
                    }),
                  ],
                  4
                ),
              ],
            });
          }
        },
        Xe = ["#922040", "#451E4E", "#1D2326", "#0A00D5"],
        qe = "#B3B3B3",
        $e = [
          qe,
          "#63BDCF",
          "#7ACBA5",
          "#4A8DF4",
          "#0ACC52",
          "#66D2D5",
          "#FD9A9B",
          "#FA469A",
          "#FF8043",
          "#FD6769",
          "#FFb800",
        ],
        Ye = [
          $e[0],
          $e[1],
          $e[2],
          $e[3],
          $e[4],
          $e[5],
          $e[6],
          $e[7],
          Xe[0],
          $e[8],
          $e[9],
          $e[10],
          Xe[1],
          Xe[2],
          Xe[3],
        ],
        Ze = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.chat !== e.chat ||
                s.chatBackgroundSettings !== e.chatBackgroundSettings)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.chat;
            e.setCenterLabel(774, () => {
              t.openScreen("SETTINGS_CHATS_BACKGROUND_COLOR", { chat: s });
            });
          }
          Xe() {
            var e = this.props.chatBackgroundSettings;
            if (e)
              switch (e.type) {
                case "solid-color":
                  return (0, r.f)(1, "div", (0, Oe.a)("Uo"), null, 1, {
                    style: n.h({ backgroundColor: e.color }),
                  });
                case "default":
                  return (0, r.f)(1, "div", (0, Oe.a)("Uo"), null, 1, {
                    style: n.h({ backgroundColor: qe }),
                  });
                default:
                  return (0, f.a)(e.type);
              }
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 735,
              selected: this.props.selected,
              rightComponent: this.Xe(),
            });
          }
        },
        et = (0, i.c)(Ze, (e, t, s) => {
          return Object.assign(
            {
              chatBackgroundSettings:
                ((r = s.chat),
                (n = e.settings),
                (r && r.chatBackgroundSettings) ||
                  n.chatBackgroundSettings || { type: "default" }),
            },
            s
          );
          var r, n;
        }),
        tt = ["saveMediaToPhoneStorage", "chatBackground"],
        st = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.XQ = (e, t) => {
                var s = this.props.saveMediaToPhoneStorage;
                switch (e) {
                  case "saveMediaToPhoneStorage":
                    return (0, r.b)(2, rt, {
                      selected: t,
                      saveMediaToPhoneStorage: s,
                    });
                  case "chatBackground":
                    return (0, r.b)(2, et, { selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 131 }),
              children: (0, r.b)(2, g.a, {
                items: tt,
                keyOf: at,
                renderItem: this.XQ,
              }),
            });
          }
        },
        rt = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.saveMediaToPhoneStorage !== e.saveMediaToPhoneStorage)
            );
          }
          addSoftKeys(e, t) {
            this.props.saveMediaToPhoneStorage
              ? e.setCenterLabel(771, () => {
                  t.updateGeneralSettings({ saveMediaToPhoneStorage: !1 });
                })
              : e.setCenterLabel(775, () => {
                  t.updateGeneralSettings({ saveMediaToPhoneStorage: !0 });
                });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.saveMediaToPhoneStorage;
            return (0, r.c)(
              [
                (0, r.b)(2, m.d, { title: 740, checked: s, selected: t }),
                (0, r.b)(2, m.n, { text: 741 }),
              ],
              4
            );
          }
        },
        nt = (0, i.c)((0, h.e)(st), (e) => ({
          saveMediaToPhoneStorage: e.settings.saveMediaToPhoneStorage,
        }));
      function at(e) {
        return e;
      }
      var it = s(20),
        ot = class {
          constructor(e) {
            (this.options = e), (this.SY = (0, it.g)());
          }
          indexToRow(e) {
            return Math.floor(e / this.options.rowLength);
          }
          moveTo(e, t) {
            return this.SZ(t, e);
          }
          update(e) {
            this.options = (0, U.j)(this.options, e);
          }
          getNumberOfRows() {
            return Math.floor(this.options.length / this.options.rowLength);
          }
          previousRow(e) {
            return this.SZ(e, e - this.options.rowLength);
          }
          nextRow(e) {
            return this.SZ(e, e + this.options.rowLength);
          }
          Sa(e) {
            if (0 !== e) return this.SZ(e, e - 1);
            var t = this.options;
            if (!1 === t.horizontalRowNavigation)
              t.onReachPreviousSide && t.onReachPreviousSide();
            else {
              if (t.loop) return this.SZ(e, this.options.length - 1);
              t.onReachStart && t.onReachStart();
            }
          }
          Sb(e) {
            if (e !== this.options.length - 1) return this.SZ(e, e + 1);
            var t = this.options;
            if (!1 === t.horizontalRowNavigation)
              t.onReachNextSide && t.onReachNextSide();
            else {
              if (t.loop) return this.SZ(e, 0);
              t.onReachEnd && t.onReachEnd();
            }
          }
          defaultLeft(e) {
            return this.SY ? this.Sb(e) : this.Sa(e);
          }
          defaultRight(e) {
            return this.SY ? this.Sa(e) : this.Sb(e);
          }
          Sc(e) {
            return Math.max(0, Math.min(e, this.options.length - 1));
          }
          Sd(e, t) {
            var s = this.indexToRow(e),
              r = this.indexToRow(t);
            return r < s
              ? "previousRow"
              : r > s
              ? "nextRow"
              : t > e
              ? "next"
              : "previous";
          }
          SZ(e, t) {
            if (e < 0) return null;
            var s,
              r = this.options,
              n = e % r.rowLength,
              a = (r.length - 1) % r.rowLength;
            return (
              t < 0
                ? r.loop
                  ? (s = this.Sc(r.length - 1 - a + n))
                  : r.onReachStart && r.onReachStart()
                : t >= r.length && n <= a
                ? r.loop
                  ? (s = this.Sc(e % r.rowLength))
                  : r.onReachEnd && r.onReachEnd()
                : !1 === r.horizontalRowNavigation && 0 === n && t === e - 1
                ? r.onReachPreviousSide && r.onReachPreviousSide()
                : !1 === r.horizontalRowNavigation &&
                  n === r.rowLength - 1 &&
                  t === e + 1
                ? r.onReachNextSide && r.onReachNextSide()
                : (s = this.Sc(t)),
              null != s && s !== e
                ? { index: s, direction: this.Sd(e, s) }
                : void 0
            );
          }
        };
      function lt() {
        var e = self.innerWidth;
        return e < 250 ? 2 : e < 350 ? 3 : e < 1024 ? 4 : e < 1920 ? 5 : 6;
      }
      function ct() {
        return lt() + 1;
      }
      function dt(e) {
        switch (e) {
          case 2:
            return "Lo";
          case 3:
            return "Lp";
          case 4:
            return "Lq";
          case 5:
            return "Lr";
          case 6:
            return "Ls";
          default:
            return "";
        }
      }
      var ht = s(148),
        ut = s(50),
        pt = s(385),
        vt = s(386),
        ft = class extends h.a {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.chat !== e.chat ||
                  s.numberOfChatsWithCustomizedWallpaper !==
                    e.numberOfChatsWithCustomizedWallpaper ||
                  s.defaultColor !== e.defaultColor)) ||
              (r !== t &&
                (r.selection !== t.selection ||
                  r.direction !== t.direction ||
                  r.initialColor !== t.initialColor))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.XR = new ot({ length: Ye.length, rowLength: ct() })),
              (this.XS = () => {
                this.XW(this.XR.previousRow(this.state.selection.index));
              }),
              (this.XT = () => {
                this.XW(this.XR.nextRow(this.state.selection.index));
              }),
              (this.XU = () => {
                this.XW(this.XR.defaultLeft(this.state.selection.index));
              }),
              (this.XV = () => {
                this.XW(this.XR.defaultRight(this.state.selection.index));
              }),
              (this.XX = (e) => {
                var t;
                null != e &&
                  ("previousRow" === this.state.direction
                    ? (t = "start")
                    : "nextRow" === this.state.direction && (t = "end"),
                  t && (0, ht.e)(e, { block: t, behavior: "smooth" }));
              });
            var s = Ye.indexOf(e.defaultColor);
            -1 === s && (s = 0);
            var r = Ye[s];
            this.state = {
              selection: { color: Ye[0], index: 0 },
              direction: "nextRow",
              initialColor: r,
            };
          }
          addSoftKeys(e, t) {
            e.setUpDownArrows(this.XS, this.XT),
              e.setLeftRightArrows(this.XU, this.XV);
          }
          XW(e) {
            if (null != e) {
              var t = Ye[e.index];
              null != t
                ? this.setState({
                    selection: { color: t, index: e.index },
                    direction: e.direction,
                  })
                : __LOG__(4)`Failed to move to color as intended`;
            }
          }
          render() {
            var e = this.state.selection.color,
              t = this.state.initialColor;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 739 }),
              children: (0, r.f)(
                1,
                "div",
                (0, Oe.a)("Ui", dt(this.XR.options.rowLength)),
                Ye.map((s) =>
                  (0, r.b)(
                    2,
                    gt,
                    {
                      selected: s === e,
                      isCurrent: s === t,
                      chat: this.props.chat,
                      color: s,
                      scrollIntoView: this.XX,
                      numberOfChatsWithCustomizedWallpaper: this.props
                        .numberOfChatsWithCustomizedWallpaper,
                    },
                    s
                  )
                ),
                0
              ),
            });
          }
        },
        gt = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.XY = n.e()), e;
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.isCurrent !== e.isCurrent ||
                s.chat !== e.chat ||
                s.color !== e.color ||
                s.scrollIntoView !== e.scrollIntoView ||
                s.numberOfChatsWithCustomizedWallpaper !==
                  e.numberOfChatsWithCustomizedWallpaper)
            );
          }
          componentDidMount() {
            this.props.selected &&
              setTimeout(() => {
                this.props.scrollIntoView(this.XY.current);
              }, 0),
              super.componentDidMount();
          }
          componentDidUpdate(e) {
            !e.selected &&
              this.props.selected &&
              this.props.scrollIntoView(this.XY.current),
              super.componentDidUpdate(e);
          }
          XZ(e, t) {
            var s = this.props,
              r = s.chat,
              n = s.color,
              a =
                n === qe
                  ? { type: "default" }
                  : { type: "solid-color", color: n };
            e.goBack(), e.updateWallpaper({ chatBackgroundSettings: a }, r, t);
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.selected,
              n = s.isCurrent;
            (r && n) ||
              e.setCenterLabel(818, () => {
                var e = this.props,
                  s = e.chat,
                  r = e.numberOfChatsWithCustomizedWallpaper;
                s || 0 !== r
                  ? (0, y.g)({
                      text: s ? 736 : 737,
                      left: 757,
                      right: s ? 831 : 768,
                      onSoftLeft: () => {
                        this.XZ(t, !0);
                      },
                      onSoftRight: () => {
                        this.XZ(t, !1);
                      },
                    })
                  : this.XZ(t, !1);
              });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.color,
              a = e.isCurrent
                ? (0, r.b)(2, pt.a, { className: "Uk" })
                : t
                ? (0, r.b)(2, vt.a, { className: "Uk" })
                : null;
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Uj", t && "Ul"),
              a,
              0,
              { style: n.h({ backgroundColor: s }) },
              null,
              this.XY
            );
          }
        },
        bt = (0, i.c)((0, h.e)(ft), (e, t, s) => {
          var r =
              (s.chat && s.chat.chatBackgroundSettings) ||
              e.settings.chatBackgroundSettings,
            n = (r && "solid-color" === r.type && r.color) || null;
          return Object.assign(
            {
              numberOfChatsWithCustomizedWallpaper: (0, ut.b)(e),
              defaultColor: n,
            },
            s
          );
        }),
        mt = s(57),
        St = s(14),
        yt = s(159),
        kt = s(141),
        Ct = s(16),
        wt = s(172),
        xt = s(69),
        It = s(394),
        Lt = s(3),
        _t = s(298);
      function Nt(e) {
        var t,
          s = e.chat.mutedUntil,
          n = (0, se.k)(e.chat);
        if (n && null != s)
          if ("always" === s) t = 520;
          else {
            var a = (0, Lt.r)(s) ? "time" : "date";
            t = [(0, xt.i)(s, a), 37];
          }
        else t = 501;
        return (0, r.b)(2, m.d, {
          title: 152,
          subtitle: t,
          checked: n,
          selected: e.selected,
        });
      }
      function Mt(e) {
        var t = e.chat,
          s = e.selected;
        return (0, r.b)(2, It.a, {
          chat: t,
          children: (0, r.b)(2, Ot, { chat: t, selected: s }),
        });
      }
      var Ot = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props.chat.id;
            (0, se.k)(this.props.chat)
              ? e.setCenterLabel(954, () => {
                  t.muteChat(s, null);
                })
              : e.setCenterLabel(791, () => {
                  (0, y.j)((0, _t.a)(t, s));
                });
          }
          render() {
            return (0, r.b)(2, Nt, {
              selected: this.props.selected,
              chat: this.props.chat,
            });
          }
        },
        Tt = s(232),
        Pt = s(171),
        At = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.group !== e.group ||
                s.selected !== e.selected ||
                s.contacts !== e.contacts)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(818, (e) => {
              (0, Ne.a)(e, this.props.group.jid, "newest");
            });
          }
          render() {
            var e = this.props,
              t = e.group,
              s = e.contacts,
              n = e.selected,
              a = t.groupInfo,
              i = (0, it.h)(
                a.participants.map((e, t, n) =>
                  (0, r.f)(1, "span", null, (0, F.h)(s, e), 0, null, e)
                )
              );
            return (0, r.b)(2, m.k, {
              selected: n,
              className: "VE",
              children: [
                (0, r.b)(2, ue.c, { jid: t.jid, className: "VD GK" }),
                (0, r.b)(2, m.c, {
                  rawTitle: (0, c.b)(a.title),
                  rawSubtitle: i,
                  ellipsis: !0,
                }),
              ],
            });
          }
        },
        Et = (0, i.c)(At, (e, t, s) => ({
          group: s.group,
          selected: s.selected,
          contacts: e.contacts,
        })),
        Rt = "";
      function Gt(e) {
        (Rt = e), (0, pe.a)(906);
      }
      function Ut() {
        return Rt;
      }
      var Dt = s(500),
        jt = s(372),
        Bt = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M13.166 7.803H7.66c-.49 0-.917.306-1.101.733L4.724 12.88a.886.886 0 00-.122.428v1.223c0 .673.55 1.224 1.223 1.224h3.854l-.611 2.814v.183c0 .244.122.49.244.673l.673.612L14.022 16a1.21 1.21 0 00.367-.857V9.026c0-.673-.55-1.223-1.223-1.223zm2.446 0v7.34h2.447v-7.34z",
            }),
            2,
            { viewBox: "0 0 23 23" }
          );
        },
        Vt = s(348),
        Ft = s(490),
        Wt = s(278),
        Kt = s(160),
        zt = (s(353), s(96));
      function Ht(e, t, s) {
        var r,
          n = (0, zt.makeBackendRequestId)();
        if (
          (e.dispatch({
            type: "LOAD_FEATURED_MESSAGES",
            requestId: n,
            featureType: t,
          }),
          "star" === t)
        ) {
          var a = s.previousLastMsgId && {
              msgId: s.previousLastMsgId.msgId,
              starred: s.previousLastMsgId.featureIndex,
            },
            i = Object.assign(
              { chatId: s.chatId, limit: s.limit },
              a && { previousLastMsgId: a }
            );
          r = e
            .sendAndReceive("backend", "loadChatStarredMsgs", i)
            .then((e) => e.msgs);
        } else {
          var o = s.previousLastMsgId && {
              msgId: s.previousLastMsgId.msgId,
              kept: s.previousLastMsgId.featureIndex,
            },
            l = Object.assign(
              { chatId: s.chatId, limit: s.limit },
              o && { previousLastMsgId: o }
            );
          r = e
            .sendAndReceive("backend", "loadChatKeptMessages", l)
            .then((e) => e.msgs);
        }
        return (
          r.then((r) =>
            e.dispatch({
              type: "LOADED_FEATURED_MESSAGES",
              requestId: n,
              msgs: r,
              askedFor: s.limit,
              featureType: t,
            })
          ),
          n
        );
      }
      function Jt(e, t, s) {
        var r = (0, zt.makeBackendRequestId)();
        return (
          e.dispatch({
            type: "LOAD_FEATURED_MESSAGES",
            requestId: r,
            featureType: t,
          }),
          e.sendAndReceive("backend", "loadStarredMsgs", s).then((n) => {
            var a = n.msgs;
            return e.dispatch({
              type: "LOADED_FEATURED_MESSAGES",
              requestId: r,
              msgs: a,
              askedFor: s.limit,
              featureType: t,
            });
          }),
          r
        );
      }
      var Qt = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.chat !== e.chat ||
                s.featureType !== e.featureType)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(797, (e) => {
              var t = this.props,
                s = t.chat;
              (function (e, t, s) {
                var r = Ht(e, t, { chatId: s.id, limit: St.M });
                e.openScreen("FEATURED_MESSAGES", {
                  chat: s,
                  items: [],
                  allLoaded: !1,
                  loading: { older: r },
                  featureType: t,
                });
              })(e, t.featureType, s);
            });
          }
          render() {
            var e,
              t,
              s,
              n,
              a = this.props,
              i = a.featureType,
              o = a.chat,
              l = a.selected;
            return (
              "star" === i
                ? ((e = 157),
                  (t = [null != (s = o.msgInfo.starredMsgCount) ? s : 0, 38]))
                : ((e = "contactInfoKeptMessagesTitle"),
                  (t = [
                    null != (n = o.msgInfo.keptMsgCount) ? n : 0,
                    "contactInfoKeptMessagesSubtitle",
                  ])),
              (0, r.b)(2, m.a, {
                title: e,
                subtitle: t,
                rightComponent: (0, r.b)(2, C.a, { className: "Uh BQ" }),
                selected: l,
              })
            );
          }
        },
        Xt = "Te GH GC",
        qt = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.XI = () =>
                (0, r.f)(
                  1,
                  "div",
                  "TS",
                  (0, wt.d)(this.props.contact, { badgeSize: "small" }),
                  0
                )),
              (this.XJ = (e, t) => {
                var s = this.props,
                  n = s.chat,
                  a = s.contact;
                switch (e) {
                  case "contact":
                    return (0, r.b)(2, as, {
                      selected: t,
                      hasAvatar: s.hasAvatar,
                      contact: a,
                      chat: n,
                    });
                  case "about":
                    return (0, r.b)(2, Zt, { contact: a, selected: t });
                  case "businessVerification":
                    return (0, r.b)(2, rs, { selected: t, contact: a });
                  case "businessDetails":
                    return (0, r.b)(2, ns, { selected: t, contact: a });
                  case "media":
                    return n ? (0, r.b)(2, hs, { selected: t, chat: n }) : null;
                  case "starredMessages":
                    return n
                      ? (0, r.b)(2, Qt, {
                          selected: t,
                          chat: n,
                          featureType: "star",
                        })
                      : null;
                  case "keptMessages":
                    return n
                      ? (0, r.b)(2, Qt, {
                          selected: t,
                          chat: n,
                          featureType: "keep",
                        })
                      : null;
                  case "muteNotify":
                    return n ? (0, r.b)(2, Mt, { selected: t, chat: n }) : null;
                  case "aboutPhone":
                    return (0, r.b)(2, ts, { selected: t, contact: s.contact });
                  case "aboutMsg":
                    return (0, r.b)(2, es, { selected: t, contact: s.contact });
                  case "call":
                    return (0, r.b)(2, ps, {
                      contact: a,
                      isBlocked: s.isBlocked,
                      selected: t,
                    });
                  case "identityVerification":
                    if ((0, kt.f)(a.jid))
                      return (0, r.b)(2, os, {
                        selected: t,
                        isVoipAvailable: s.isVoipAvailable,
                      });
                    if ((0, kt.b)(a))
                      return (0, r.b)(2, is, {
                        contact: a,
                        selected: t,
                        isVoipAvailable: s.isVoipAvailable,
                      });
                    var i,
                      o = null == (i = a.verifiedInfo) ? void 0 : i.bsp;
                    return o
                      ? (0, r.b)(2, cs, {
                          contact: a,
                          bsp: o,
                          selected: t,
                          isVoipAvailable: s.isVoipAvailable,
                        })
                      : null;
                  case "groupsMore":
                    var l = this.props.groupsInCommon,
                      c = l.length - St.w;
                    return c >= 0
                      ? (0, r.b)(2, ds, {
                          selected: t,
                          groupsInCommon: l,
                          numCollapsed: c,
                        })
                      : null;
                  case "actionBlock":
                    return (0, r.b)(2, ss, {
                      isBlocked: s.isBlocked,
                      selected: t,
                      contact: s.contact,
                      connected: s.connected,
                    });
                  case "actionSpam":
                    return (0, r.b)(2, us, {
                      isBlocked: s.isBlocked,
                      selected: t,
                      contact: s.contact,
                      connected: s.connected,
                    });
                  case "wallpaper":
                    return n ? (0, r.b)(2, et, { chat: n, selected: t }) : null;
                  case "ephemeralMessages":
                    var d = s.setEphemeralJob;
                    return n
                      ? (0, r.b)(2, Wt.c, {
                          chat: n,
                          contact: s.contact,
                          selected: t,
                          job: d,
                        })
                      : null;
                  default:
                    var h = this.props.groupsInCommon,
                      u = h.length > 0 ? h[0] : null,
                      p = h.find((t) => t.jid === e);
                    if (p) {
                      var v = (0, r.b)(2, Et, { group: p, selected: t });
                      return u && p === u
                        ? (0, r.c)(
                            [(0, r.b)(2, m.g, { text: [h.length, 36] }), v],
                            0
                          )
                        : v;
                    }
                    return null;
                }
              }),
              e
            );
          }
          addSoftKeys(e, t) {
            if (this.props.isVoipAvailable) {
              var s = this.props,
                r = s.contact,
                n = s.isBlocked;
              e.setOnCall(() => (0, _e.a)(r, t, n, "contactInfo"));
            }
          }
          render() {
            var e = this.props.start;
            return (0, r.b)(2, b.a, {
              title: this.XI(),
              children: (0, r.b)(2, g.c, {
                items: this.props.items,
                keyOf: Yt,
                estimatedItemHeight: 52,
                renderItem: this.XJ,
                start: e && { item: e, scrollFromTop: "start" },
              }),
            });
          }
        },
        $t = (0, i.c)((0, h.e)(qt), (e, t, s) => {
          var r,
            n = s.jid,
            a = s.chat,
            i = s.groupsInCommon,
            o = (0, d.c)(n, e.contacts),
            l = !!e.blocked[n],
            c = o.verifiedInfo && null != o.verifiedInfo.name,
            h = Ct.g.setOneToOneEphemeralSetting({
              userJid: n,
              expiration:
                (null == (r = o.ephemeral) ? void 0 : r.expiration) || St.i,
            }),
            u = (0, ut.g)(e, "setOneToOneEphemeralSetting", h),
            p = [];
          if (
            (p.push("contact"),
            c && (p.push("businessVerification"), p.push("businessDetails")),
            null != a)
          ) {
            p.push("media");
            var v = a.msgInfo.starredMsgCount;
            v && v > 0 && !e.starredIndexMissing && p.push("starredMessages"),
              p.push("muteNotify"),
              p.push("wallpaper");
          }
          return (
            p.push("identityVerification"),
            a && (0, Tt.a)(a, e.contacts) && !l && p.push("ephemeralMessages"),
            null != o.about && "blocked" !== o.about.status && p.push("about"),
            p.push("aboutPhone"),
            p.push("aboutMsg"),
            e.isVoipAvailable && p.push("call"),
            i.length > St.w
              ? (i.slice(0, St.w).forEach((e) => {
                  p.push(e.jid);
                }),
                p.push("groupsMore"))
              : i.forEach((e) => {
                  p.push(e.jid);
                }),
            p.push("actionBlock"),
            p.push("actionSpam"),
            {
              hasAvatar: (0, se.i)(n, e.avatars),
              contact: o,
              chat: a,
              groupsInCommon: i,
              isBlocked: l,
              items: p,
              backend: t,
              screen: s,
              connected: e.connected,
              start: s.start,
              isVoipAvailable: e.isVoipAvailable,
              setEphemeralJob: u,
            }
          );
        });
      function Yt(e) {
        return e;
      }
      var Zt = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.contact !== e.contact)
            );
          }
          addSoftKeys(e, t) {
            var s,
              r = this.props.contact;
            "loaded" === (null == (s = r.about) ? void 0 : s.status) &&
              e.setCenterLabel(833, () => {
                t.openScreen("ABOUT_CONTENT", { jid: r.jid });
              });
          }
          render() {
            var e,
              t = this.props.contact.about;
            if (t)
              switch (t.status) {
                case "blocked":
                  break;
                case "loaded":
                  e = (0, r.b)(2, m.a, {
                    rawTitle: (0, c.b)(t.content),
                    rawSubtitle: (0, r.b)(2, o.a, { unix: t.ts }),
                    selected: this.props.selected,
                    ellipsis: !0,
                  });
                  break;
                default:
                  t.status,
                    (e = (0, r.b)(2, m.a, {
                      title: 145,
                      selected: this.props.selected,
                      ellipsis: !0,
                    }));
              }
            return (0, r.c)([(0, r.b)(2, m.g, { text: 146 }), e], 0);
          }
        },
        es = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.contact !== e.contact)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              (0, Ne.a)(t, this.props.contact.jid, "unread");
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              title: 180,
              icon: (0, r.b)(2, Dt.a),
              selected: this.props.selected,
            });
          }
        },
        ts = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.contact !== e.contact)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(182, () => {
              Gt((0, mt.d)(this.props.contact.jid));
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              rawTitle: (0, r.b)(2, yt.a, { jid: this.props.contact.jid }),
              subtitle: 151,
              selected: this.props.selected,
              ellipsis: !0,
            });
          }
        },
        ss = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contact !== e.contact ||
                s.selected !== e.selected ||
                s.isBlocked !== e.isBlocked ||
                s.connected !== e.connected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.isBlocked,
              n = s.contact,
              a = s.connected;
            r
              ? e.setCenterLabel(832, () => {
                  a
                    ? t.unblockUser(n.jid)
                    : (0, y.e)({ title: 229, text: 948 });
                })
              : e.setCenterLabel(759, () => {
                  var e = new V.a(60);
                  e.add(759, () => {
                    a ? t.blockUser(n.jid) : (0, y.e)({ title: 229, text: 58 });
                  }),
                    e.add(642, () => {
                      a
                        ? t.reportUserSpam({
                            reportType: "chat",
                            userJid: n.jid,
                            spamFlow: "account_info",
                            blockUser: !0,
                            deleteChat: !0,
                          })
                        : (0, y.e)({ title: 229, text: 635 });
                    }),
                    (0, y.j)(e);
                });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.isBlocked;
            return (0, r.c)(
              [
                (0, r.b)(2, m.g, { text: 153 }),
                s
                  ? (0, r.b)(2, m.j, {
                      title: 832,
                      icon: (0, r.b)(2, jt.a, {
                        className: (0, Oe.a)("Tb TY", t && "Td"),
                      }),
                      className: "Ta GF GC",
                      selected: t,
                    })
                  : (0, r.b)(2, m.j, {
                      title: 759,
                      icon: (0, r.b)(2, jt.a),
                      selected: t,
                      danger: !0,
                    }),
              ],
              0
            );
          }
        },
        rs = class extends h.b {
          addSoftKeys(e, t) {
            var s = (function (e) {
              var t = e.verifiedInfo;
              if (null != t)
                switch (t.level) {
                  case "unknown":
                  case "low":
                    return 54;
                  default:
                    var s = (0, F.d)(e);
                    return (0, wt.e)(e) ? [s, 28] : [s, 27];
                }
            })(this.props.contact);
            s &&
              e.setCenterLabel(781, () => {
                (0, y.g)({
                  text: s,
                  center: 796,
                  onSoftCenter: "CLOSE",
                  right: 785,
                  onSoftRight: () => {
                    (0, S.y)(t, S.f);
                  },
                });
              });
          }
          render() {
            var e = this.props.contact.verifiedInfo;
            return null == e || null == e.name
              ? null
              : (0, r.b)(2, m.a, {
                  title: "high" === e.level ? 552 : 63,
                  selected: this.props.selected,
                });
          }
        },
        ns = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props.contact;
            e.setCenterLabel(797, () => {
              t.openScreen("BUSINESS_DETAILS", { jid: s.jid });
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 65,
              selected: this.props.selected,
            });
          }
        },
        as = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.hasAvatar !== e.hasAvatar ||
                s.contact !== e.contact ||
                s.selected !== e.selected ||
                s.chat !== e.chat)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contact,
              n = s.hasAvatar;
            (0, d.k)(r) ||
              e.setRightLabel(754, () => {
                (0, Vt.a)(t, { tel: (0, mt.d)(r.jid) }, r.jid);
              }),
              n &&
                e.setCenterLabel(833, () => {
                  t.openAvatarView(r.jid);
                });
          }
          XK(e) {
            var t = (0, d.g)(e);
            if (t)
              return (0, r.f)(
                1,
                "div",
                Xt,
                (0, r.b)(2, wt.b, {
                  verifiedName: t,
                  badgeSize: "small",
                  pushname: "pushname",
                  noEllipsis: "no-ellipsis",
                }),
                2
              );
            var s = (0, F.f)(e);
            return s
              ? (0, r.f)(
                  1,
                  "div",
                  Xt,
                  (0, r.f)(1, "span", "Tf", (0, c.b)(s), 0, { dir: "auto" }),
                  2
                )
              : void 0;
          }
          render() {
            var e,
              t,
              s = this.props,
              n = s.contact,
              a = s.chat,
              i = s.selected,
              o = (0, wt.e)(n);
            return (
              o
                ? (e = (0, r.b)(2, wt.b, {
                    verifiedName: o,
                    noEllipsis: "no-ellipsis",
                  }))
                : ((e = (0, r.b)(2, F.a, { contact: n })), (t = this.XK(n))),
              (0, r.b)(2, m.k, {
                selected: this.props.selected,
                className: (0, Oe.a)("TU", i && "Th"),
                children: [
                  (0, r.f)(
                    1,
                    "div",
                    "TV",
                    [
                      (0, r.b)(2, ue.c, { jid: n.jid, className: "TT GK" }),
                      (0, r.f)(
                        1,
                        "div",
                        "TW GF GC",
                        [
                          e,
                          a &&
                            (0, r.f)(
                              1,
                              "span",
                              "TX BU GG GC BR GI GE GH GC",
                              (0, r.b)(2, Kt.b, {
                                chat: a,
                                WhileIdle: Pt.a,
                                className: "Tg GH GC GI GE",
                              }),
                              2
                            ),
                        ],
                        0
                      ),
                    ],
                    4
                  ),
                  t,
                ],
              })
            );
          }
        },
        is = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.contact !== e.contact ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.contact;
            e.setCenterLabel(512, () => {
              (0, Ft.b)(t, s.jid);
            });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.isVoipAvailable;
            return (0, r.b)(2, m.a, {
              title: 147,
              subtitle: s ? 148 : 149,
              selected: t,
            });
          }
        },
        os = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.isVoipAvailable ? 449 : 450;
            s &&
              e.setCenterLabel(781, () => {
                (0, y.g)({
                  text: s,
                  center: 796,
                  onSoftCenter: "CLOSE",
                  right: 785,
                  onSoftRight: () => {
                    (0, S.y)(t, S.w);
                  },
                });
              });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.isVoipAvailable;
            return (0, r.b)(2, m.a, {
              selected: t,
              title: 154,
              subtitle: s ? 451 : 452,
            });
          }
        };
      function ls(e) {
        return (0, kt.g)(e, {
          SO: () => {
            __LOG__(4)`Invalid state for Security component SELF-ON_PREMISE`;
          },
          SF: () => 156,
          BF: () => 156,
          BO: () => 155,
        });
      }
      var cs = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.contact !== e.contact ||
                s.bsp !== e.bsp ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s,
              r,
              n = this.props,
              a =
                ((s = n.bsp),
                (r = n.isVoipAvailable),
                (0, kt.g)(s, {
                  SO: () => {
                    __LOG__(
                      4
                    )`Invalid state for Security component SELF-ON_PREMISE`;
                  },
                  SF: () => (r ? 679 : 680),
                  BF: () => (r ? 679 : 680),
                  BO: () => (r ? 677 : 678),
                }));
            a &&
              e.setCenterLabel(781, () => {
                (0, y.g)({
                  text: a,
                  center: 796,
                  onSoftCenter: "CLOSE",
                  right: 785,
                  onSoftRight: () => {
                    (0, S.y)(t, S.b);
                  },
                });
              });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.bsp;
            return (0, r.b)(2, m.a, {
              title: 154,
              subtitle: ls(s),
              selected: t,
            });
          }
        },
        ds = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.groupsInCommon !== e.groupsInCommon ||
                s.numCollapsed !== e.numCollapsed)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(834, () => {
              t.openScreen("CONTACT_INFO_GROUPS", {
                groupsInCommon: this.props.groupsInCommon,
              });
            });
          }
          render() {
            var e = this.props,
              t = e.numCollapsed,
              s = e.selected;
            return (0, r.b)(2, m.j, {
              title: [t, 257],
              icon: (0, r.b)(2, C.a, {
                className: (0, Oe.a)("TZ TY", s && "Tc"),
              }),
              selected: s,
            });
          }
        },
        hs = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openMediaDrawer(this.props.chat);
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 500,
              selected: this.props.selected,
            });
          }
        },
        us = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.isBlocked !== e.isBlocked ||
                s.contact !== e.contact ||
                s.connected !== e.connected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(641, () => {
              var e = this.props,
                s = e.isBlocked,
                r = e.contact;
              if (e.connected)
                if (s)
                  (0, y.f)({
                    title: 641,
                    text: 631,
                    confirm: 809,
                    onConfirm: () => {
                      t.reportUserSpam({
                        reportType: "chat",
                        userJid: r.jid,
                        spamFlow: "account_info",
                        blockUser: !1,
                        deleteChat: !0,
                      });
                    },
                  });
                else {
                  var n = new V.a(636);
                  n.add(642, () => {
                    t.reportUserSpam({
                      reportType: "chat",
                      userJid: r.jid,
                      spamFlow: "account_info",
                      blockUser: !0,
                      deleteChat: !0,
                    });
                  }),
                    n.add(557, () => {
                      t.reportUserSpam({
                        reportType: "chat",
                        userJid: r.jid,
                        spamFlow: "account_info",
                        blockUser: !1,
                        deleteChat: !1,
                      });
                    }),
                    (0, y.j)(n);
                }
              else (0, y.e)({ title: 229, text: 635 });
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              title: 641,
              icon: (0, r.b)(2, Bt),
              selected: this.props.selected,
              danger: !0,
            });
          }
        },
        ps = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props,
              n = s.isBlocked,
              a = s.contact;
            e.setCenterIcon((0, r.b)(2, Te, { className: "Ti q p" }), () =>
              (0, _e.a)(a, t, n, "contactInfoVoiceCall")
            );
          }
          render() {
            return (0, r.b)(2, m.j, {
              title: 108,
              icon: (0, r.b)(2, Te),
              selected: this.props.selected,
            });
          }
        },
        vs = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.XL = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) => (0, W.c)(e.groupInfo.title, s));
              }),
              (this.renderItem = (e, t) =>
                (0, r.b)(2, Et, { group: e, selected: t })),
              e
            );
          }
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e = { filter: this.XL, emptyLabel: 243 };
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, {
                l10n: [this.props.groupsInCommon.length, 36],
              }),
              children: (0, r.b)(2, g.c, {
                items: this.props.groupsInCommon,
                keyOf: gs,
                search: e,
                estimatedItemHeight: D.b,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        fs = (0, h.e)(vs);
      function gs(e) {
        return e.jid;
      }
      var bs = s(477),
        ms = "UE",
        Ss = s(484),
        ys = "open",
        ks = "closed",
        Cs = "closed_today",
        ws = "open_appointment",
        xs = "open_24h",
        Is = (e) => {
          var t = e.config,
            s = e.timezoneOffset,
            r = {};
          return (
            t.forEach((e) => {
              var t = e.day_of_week,
                s = e.mode;
              if ("specific_hours" === s) {
                var n = e.open_time,
                  a = e.close_time;
                r[t] || (r[t] = { mode: s, hours: [] }),
                  null != n &&
                    null != a &&
                    r[t].hours &&
                    r[t].hours.push([n, a]);
              } else r[t] = { mode: s };
            }),
            { config: r, timezoneOffset: s }
          );
        },
        Ls = s(276),
        _s = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props.url;
            e.setCenterLabel(797, () => {
              (0, Ls.a)(t, s);
            });
          }
          render() {
            var e = this.props,
              t = e.title,
              s = e.selected;
            return (0, r.f)(1, "div", s ? "Un" : "Um", t, 0);
          }
        },
        Ns = s(481),
        Ms = s(277);
      function Os(e) {
        var t = (function (e) {
          switch (e.status) {
            case xs:
              return (0, r.b)(2, o.b, { l10n: 71 });
            case ws:
              return (0, r.b)(2, o.b, { l10n: 72 });
            case ks:
              return e.opensAt
                ? (0, r.b)(2, o.b, { l10n: [e.opensAt, 23] })
                : (0, r.b)(2, o.b, { l10n: 69 });
            case Cs:
              return (0, r.b)(2, o.b, { l10n: 70 });
            case ys:
              if (e.openUntil && e.additionalOpen && e.additionalClose)
                return (0, r.b)(2, o.b, {
                  l10n: [e.additionalClose, e.additionalOpen, e.openUntil, 25],
                });
              if (e.openUntil)
                return (0, r.b)(2, o.b, { l10n: [e.openUntil, 24] });
          }
          return null;
        })(e.openState);
        return null == t ? null : (0, r.f)(1, "div", "Vc", t, 0);
      }
      var Ts = class extends Ms.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Xd = (e) => {
                var t = {
                  text: () => this.props.value,
                  left: 758,
                  onSoftLeft: "CLOSE",
                };
                (0, y.g)(t);
              }),
              e
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              this.Xd(t);
            });
          }
          render() {
            var e = this.props.value;
            return (0, r.b)(2, le.a, {
              textClassName: "VF GH GC",
              maxLineClassName: "VG",
              truncated: !0,
              children: e,
            });
          }
        },
        Ps = class extends Ms.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.XM = !1),
              (this.state = { info: null, items: [], status: "loading" }),
              (this.XN = () => {
                var e = this.props,
                  t = e.backend,
                  s = e.jid;
                t.sendAndReceive("backend", "queryBusinessProfile", { jid: s })
                  .then((e) => {
                    if (this.XM)
                      if (e && 0 !== Object.keys(e).length) {
                        var t = this.XO(e);
                        this.setState({ info: e, items: t, status: "done" });
                      } else this.setState({ status: "error" });
                  })
                  .catch(() => {
                    this.XM && this.setState({ status: "error" });
                  });
              }),
              (this.XO = (e) => {
                var t = [];
                if (
                  (null != (null == e ? void 0 : e.description) &&
                    t.push({
                      type: "description",
                      description: null == e ? void 0 : e.description,
                    }),
                  null != (null == e ? void 0 : e.business_hours))
                ) {
                  var s = (function (e) {
                    var t = new Date(),
                      s = e.config[Ss.b[t.getDay()]];
                    if (!s) return { status: Cs };
                    switch (s.mode) {
                      case Ss.a.CLOSED:
                        return { status: ks };
                      case Ss.a.OPEN_24H:
                        if (s) return { status: xs };
                        break;
                      case Ss.a.APPOINTMENT_ONLY:
                        if (s) return { status: ws };
                        break;
                      case Ss.a.SPECIFIC_HOURS:
                        var r, n;
                        if (null == e.timezoneOffset)
                          return { status: "unknown" };
                        var a = e.timezoneOffset,
                          i = 60 * t.getHours() + t.getMinutes(),
                          o = (0, xt.c)();
                        if (1 === (null == (r = s.hours) ? void 0 : r.length)) {
                          var l = s.hours[0][0] - a,
                            c = s.hours[0][0],
                            d = s.hours[0][1] - a,
                            h = s.hours[0][1];
                          return i >= l && i <= d
                            ? { status: ys, openUntil: (0, xt.g)(h, o) }
                            : i <= l
                            ? { status: ks, opensAt: (0, xt.g)(c, o) }
                            : { status: ks };
                        }
                        if (2 === (null == (n = s.hours) ? void 0 : n.length)) {
                          var u = s.hours[0][0] - a,
                            p = s.hours[0][0],
                            v = s.hours[0][1] - a,
                            f = s.hours[0][1],
                            g = s.hours[1][0] - a,
                            b = s.hours[1][0],
                            m = s.hours[1][1] - a,
                            S = s.hours[1][1];
                          if (i >= u && i <= v) {
                            var y = (0, xt.g)(f, o),
                              k = (0, xt.g)(b, o),
                              C = (0, xt.g)(S, o);
                            return {
                              status: ys,
                              openUntil: y,
                              additionalOpen: k,
                              additionalClose: C,
                            };
                          }
                          return i < u
                            ? {
                                status: ks,
                                opensAt: (0, xt.g)(p, o),
                                additionalOpen: (0, xt.g)(b, o),
                                additionalClose: (0, xt.g)(S, o),
                              }
                            : i >= g && i <= m
                            ? { status: ys, openUntil: (0, xt.g)(S, o) }
                            : i < g
                            ? { status: ks, opensAt: (0, xt.g)(b, o) }
                            : { status: ks };
                        }
                    }
                    return { status: "unknown" };
                  })(Is(e.business_hours));
                  s &&
                    "unknown" !== s.status &&
                    t.push({ type: "openState", openState: s });
                }
                if (null != (null == e ? void 0 : e.categories)) {
                  var r =
                    null == e
                      ? void 0
                      : e.categories
                          .map((e) => e.localized_display_name)
                          .join(", ");
                  t.push({ type: "category", category: r });
                }
                if (null != (null == e ? void 0 : e.business_hours)) {
                  var n = (function (e) {
                    var t = e.config,
                      s = new Date().getDay();
                    return Ss.b.map((e, r) => {
                      var n = (s + r) % Ss.b.length,
                        a = Ss.b[n],
                        i = (0, xt.a)(n, (0, xt.c)()),
                        o = (function (e) {
                          switch (e && e.mode) {
                            case Ss.a.SPECIFIC_HOURS:
                              return Object.assign(
                                { mode: Ss.a.SPECIFIC_HOURS },
                                e &&
                                  e.hours && {
                                    hours: e.hours.map((e) =>
                                      e
                                        .map((e) => (0, xt.g)(e, (0, xt.c)()))
                                        .join(" - ")
                                    ),
                                  }
                              );
                            case Ss.a.APPOINTMENT_ONLY:
                              return { mode: Ss.a.APPOINTMENT_ONLY };
                            case Ss.a.OPEN_24H:
                              return { mode: Ss.a.OPEN_24H };
                            default:
                              return { mode: Ss.a.CLOSED };
                          }
                        })(t[a]);
                      return {
                        day: i,
                        hours: o.hours,
                        mode: o.mode,
                        first: 0 === r,
                      };
                    });
                  })(Is(e.business_hours));
                  t.push({ type: "businessHours", businessHours: n });
                }
                if (null != (null == e ? void 0 : e.address)) {
                  var a = { address: e.address, lat: void 0, long: void 0 };
                  null != (null == e ? void 0 : e.latitude) &&
                    null != (null == e ? void 0 : e.longitude) &&
                    ((a.lat = null == e ? void 0 : e.latitude),
                    (a.long = null == e ? void 0 : e.longitude)),
                    t.push({ type: "location", location: a });
                }
                return (
                  null != (null == e ? void 0 : e.website) &&
                    t.push({
                      type: "website",
                      website: null == e ? void 0 : e.website[0],
                    }),
                  null != (null == e ? void 0 : e.email) &&
                    t.push({
                      type: "email",
                      email: null == e ? void 0 : e.email,
                    }),
                  t
                );
              }),
              (this.XP = (e, t) => {
                switch (e.type) {
                  case "website":
                    return (0, r.b)(2, m.k, {
                      selected: t,
                      children: (0, r.b)(2, _s, {
                        selected: t,
                        url:
                          ((h = e.website),
                          "https://l.wl.co/l?u=" + encodeURIComponent(h)),
                        title: e.website,
                      }),
                    });
                  case "email":
                    return (0, r.b)(2, m.k, {
                      selected: t,
                      children: (0, r.b)(2, _s, {
                        selected: t,
                        url: "mailto:" + e.email,
                        title: e.email,
                      }),
                    });
                  case "location":
                    var s = e.location,
                      n = s.lat,
                      a = s.long,
                      i = s.address;
                    return (0, r.b)(2, m.k, {
                      selected: t,
                      children: [
                        "string_address" === (null == i ? void 0 : i.type) &&
                          (0, r.f)(1, "div", "UD", i.address, 0),
                        "structured_address" ===
                          (null == i ? void 0 : i.type) &&
                          (0, r.f)(
                            1,
                            "div",
                            "UD",
                            [
                              i.street_address,
                              (0, r.f)(1, "br"),
                              i.localized_city_name,
                              (0, r.f)(1, "br"),
                              i.zip_code,
                            ],
                            0
                          ),
                        n && a
                          ? (0, r.b)(2, Ns.a, {
                              previewHeight: "60px",
                              selected: t,
                              content: {
                                lat: n,
                                lng: a,
                                type: "location",
                                preview: null,
                              },
                            })
                          : null,
                      ],
                    });
                  case "businessHours":
                    var l = e.businessHours.find((e) => e.first);
                    if (!l || null == (null == l ? void 0 : l.mode))
                      return null;
                    var c = l.mode,
                      d = l.hours;
                    return (0, r.b)(2, m.a, {
                      rawTitle: (0, r.b)(2, o.b, { l10n: 73, className: ms }),
                      rawSubtitle: (0, r.f)(
                        1,
                        "div",
                        "UB",
                        [
                          (0, r.f)(
                            1,
                            "div",
                            null,
                            null == l ? void 0 : l.day,
                            0
                          ),
                          (0, r.f)(
                            1,
                            "div",
                            "UC",
                            this.getL10nTextFromBusinessHourMode({
                              mode: c,
                              hours: d,
                            }),
                            0
                          ),
                        ],
                        4
                      ),
                      selected: t,
                    });
                  case "openState":
                    return e.openState
                      ? (0, r.b)(2, m.k, {
                          selected: t,
                          children: (0, r.b)(2, Os, { openState: e.openState }),
                        })
                      : null;
                  case "description":
                    return (0, r.b)(2, m.a, {
                      rawTitle: (0, r.b)(2, o.b, { l10n: 64, className: ms }),
                      rawSubtitle: (0, r.b)(2, Ts, {
                        selected: t,
                        value: e.description,
                      }),
                      selected: t,
                    });
                  case "category":
                    return (0, r.b)(2, m.a, {
                      rawTitle: (0, r.b)(2, o.b, { l10n: 111, className: ms }),
                      rawSubtitle: e.category,
                      selected: t,
                    });
                  default:
                    return (0, f.a)(e);
                }
                var h;
              }),
              e
            );
          }
          componentDidMount() {
            (this.XM = !0), this.XN(), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.XM = !1), super.componentWillUnmount();
          }
          getL10nTextFromBusinessHourMode(e) {
            var t = e.mode,
              s = e.hours;
            return t === Ss.a.APPOINTMENT_ONLY
              ? (0, r.b)(2, o.b, { l10n: 67 })
              : t === Ss.a.OPEN_24H
              ? (0, r.b)(2, o.b, { l10n: 71 })
              : t === Ss.a.CLOSED
              ? (0, r.b)(2, o.b, { l10n: 68 })
              : t === Ss.a.SPECIFIC_HOURS && null != s
              ? (0, r.f)(
                  1,
                  "div",
                  null,
                  s.map((e) => (0, r.f)(1, "div", null, e, 0, null, e)),
                  0
                )
              : void 0;
          }
          addSoftKeys(e, t) {
            e.setLeftLabel(758, t.goBack);
          }
          render() {
            var e,
              t = this.state,
              s = t.items,
              n = t.status;
            return (
              (e =
                "error" === n
                  ? (0, r.f)(1, "div", "UF", (0, r.b)(2, o.b, { l10n: 74 }), 2)
                  : "done" === n
                  ? (0, r.b)(2, g.c, {
                      className: "UA",
                      items: s,
                      keyOf: (e) => e.type,
                      estimatedItemHeight: D.b,
                      emptyLabel: 74,
                      renderItem: this.XP,
                    })
                  : (0, r.b)(2, bs.a)),
              (0, r.b)(2, b.a, {
                title: (0, r.b)(2, o.b, { l10n: 66 }),
                children: e,
              })
            );
          }
        },
        As = (0, i.b)((0, h.e)(Ps), (e, t) =>
          Object.assign({}, t, { backend: e })
        ),
        Es = s(502),
        Rs = s(181),
        Gs = s(15),
        Us = s(253),
        Ds = s(39);
      function js(e) {
        return !Bs(e, Ds.d.JOINED_WITH_NEXT);
      }
      function Bs(e, t) {
        return Boolean(e & t);
      }
      function Vs(e) {
        return null != e && "frequently-forwarded" === e.status;
      }
      function Fs(e) {
        return null != e && "will-become-frequently-forwarded" === e.status;
      }
      function Ws(e, t, s) {
        (function (e) {
          switch (e.content.type) {
            case "text":
            case "vcard":
            case "image":
            case "sticker":
            case "voice":
            case "video":
            case "gif":
            case "location":
            case "futureproof":
            case "revoked":
            case "ciphertext":
            case "placeholder":
            case "group_invite":
            case "rich_hsm":
            case "document":
            case "ephemeral_change":
            case "ephemeral_change_fail":
            case "contact_block_change":
              return !0;
            default:
              return !1;
          }
        })(s) &&
          e.add(185, () => {
            t.openMsgInfo(s);
          });
      }
      function Ks(e, t, s, r, n, a) {
        if (
          ((function (e) {
            switch (e.content.type) {
              case "text":
              case "vcard":
              case "image":
              case "sticker":
              case "voice":
              case "video":
              case "gif":
              case "location":
              case "revoked":
              case "futureproof":
              case "group_invite":
              case "rich_hsm":
              case "document":
                return !0;
              default:
                return !1;
            }
          })(n) &&
            e.childMenu(
              (function (e) {
                var t = e.chat,
                  s = e.msg,
                  r = e.backend,
                  n = new V.a(183);
                return (
                  n.add(224, r.deleteChatMsgs, t.id, [s.id]),
                  Hs(s) && n.add(223, r.revokeChatMsgs, t.jid, [s.id]),
                  n
                );
              })({ chat: a, msg: n, backend: t })
            ),
          (function (e) {
            return (
              ("text" === e.content.type &&
                !(null == (t = e.content.linkPreview) ||
                null == (s = t.suspiciousCharacters)
                  ? void 0
                  : s.size)) ||
              ("vcard" === e.content.type && !e.content.isMMS) ||
              "location" === e.content.type ||
              ((("image" === e.content.type &&
                null == e.content.viewOnceState) ||
                ("video" === e.content.type &&
                  null == e.content.viewOnceState) ||
                "voice" === e.content.type ||
                ("vcard" === e.content.type && e.content.isMMS) ||
                "gif" === e.content.type ||
                "sticker" === e.content.type ||
                "document" === e.content.type) &&
                "ready" === e.content.mediaStatus.type) ||
              ("rich_hsm" === e.content.type &&
                (function (e) {
                  return (
                    !e.richContent ||
                    "location" === e.richContent.type ||
                    (("image" === e.richContent.type ||
                      "video" === e.richContent.type ||
                      "document" === e.richContent.type) &&
                      "ready" === e.richContent.mediaStatus.type)
                  );
                })(e.content))
            );
            var t, s;
          })(n) &&
            (function (e, t, s) {
              t.add(184, () => Js(e, s));
            })(n, e, t),
          t.isStarredIndexMissing() ||
            (null != n.starred
              ? e.add(190, t.unstarMessagesFromChat, [n.id], a.id)
              : null == n.starred &&
                (function (e) {
                  return (function (e) {
                    switch (e.type) {
                      case "text":
                      case "vcard":
                      case "location":
                      case "group_invite":
                      case "sticker":
                      case "voice":
                      case "gif":
                      case "rich_hsm":
                      case "document":
                        return !0;
                      case "image":
                      case "video":
                        return (
                          ("image" === e.type || "video" === e.type) &&
                          null == e.viewOnceState
                        );
                      default:
                        return !1;
                    }
                  })(e.content);
                })(n) &&
                e.add(188, t.starMessagesFromChat, [n.id], a.id)),
          "vcard" === n.content.type && 1 === n.content.total)
        ) {
          var i = n.content.contacts[0],
            o = i.jid;
          if (o) {
            var l = i.displayName || (0, mt.d)(o);
            e.add([l, 39], () => {
              (0, Ne.b)(t, o, "newest");
            });
          }
        }
        if ("GROUP" === a.type && !n.meta.fromMe) {
          var c = (function (e) {
            if ("gp2" === e.content.type)
              switch (e.content.subtype) {
                case "promote":
                case "demote":
                case "invite":
                case "description":
                case "description_remove":
                case "revoke_invite":
                case "delete":
                case "announce":
                case "restrict":
                  return null;
              }
            return e.meta.author;
          })(n);
          c &&
            (zs(e, t, s, c),
            e.add([(0, F.h)(s, c), 39], () => {
              (0, Ne.a)(t, c, "newest");
            }));
        }
        var d = (function (e) {
          if ("text" === e.type) return e.content;
          if ("quote" === e.type) {
            var t = e.quoted.content;
            if ("text" === t.type) return t.text;
            if ("image" === t.type || "video" === t.type || "gif" === t.type)
              return t.caption;
            if ("location" === t.type) return Xs(t.name, t.address);
          } else if ("locationName" === e.type) {
            var s = e.content;
            return Xs(s.name, s.address);
          }
        })(r);
        d &&
          e.add(182, () => {
            Gt(d);
          });
      }
      function zs(e, t, s, r) {
        var n = (0, d.c)(r, s);
        if (!(0, d.k)(n)) {
          var a = (0, mt.d)(r);
          e.add(171, () => {
            (0, Vt.a)(t, { tel: a }, r);
          });
        }
      }
      function Hs(e) {
        return (
          !0 === e.meta.fromMe &&
          "revoked" !== e.content.type &&
          (0, Lt.n)(e.ts, 4096)
        );
      }
      function Js(e, t) {
        var s = e.forwarded || void 0,
          r = { msgs: [e], includesFrequentlyForwarded: Vs(s) };
        Fs(s)
          ? (0, y.g)({
              title: 565,
              text: 289,
              left: 761,
              onSoftLeft: "CLOSE",
              center: 796,
              onSoftCenter: () => {
                t.openScreen("FORWARD_SCREEN", r);
              },
              right: 785,
              onSoftRight: () => (0, S.y)(t, S.i),
            })
          : t.openScreen("FORWARD_SCREEN", r);
      }
      function Qs(e, t, s) {
        var r = t.mediaStatus,
          n = t.mimetype;
        return "ready" !== r.type
          ? (__LOG__(3)`Tried to open a document on a not ready media`,
            Promise.resolve())
          : e.loadMsgContentBlob(s, r.ref).then((t) => {
              null != t
                ? (0, A.g)(e, t, n)
                : (0, y.e)({ title: 228, text: 478 });
            });
      }
      function Xs(e, t) {
        return e && t ? (0, it.h)([e, t]).join("") : e || t;
      }
      var qs = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M9 2C5.15 2 2 5.15 2 9s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7zm2.94 9.94L8.3 9.7V5.5h1.05v3.64l3.15 1.89-.56.91z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        $s = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d:
                "m6.3 9.2-2.5 1.7c-.3.2-.8-.1-.7-.5L4 7.6c.1-.2 0-.4-.2-.5L1.5 5.3c-.4-.3-.2-.8.2-.8l3-.1c.2 0 .3-.1.4-.3l1-2.8c.1-.4.7-.4.8 0l1 2.8c.1.2.2.3.4.3l3 .1c.4 0 .6.5.3.8L9.2 7.1c-.1.1-.2.3-.2.5l.9 2.9c.1.4-.3.7-.7.5L6.7 9.3c-.1-.2-.3-.2-.4-.1z",
            }),
            2,
            { viewBox: "0 0 13 13" }
          );
        },
        Ys = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              fill: "#000",
              d:
                "M25.5 4.5h-15a2.996 2.996 0 00-2.985 3l-.015 24L18 27l10.5 4.5v-24c0-1.65-1.35-3-3-3z",
            }),
            2,
            { viewBox: "0 0 36 36" }
          );
        },
        Zs = s(200),
        er = "Pc GH GC GI GE",
        tr = "Pd MA";
      function sr(e) {
        if (e.user)
          return (0, r.f)(
            1,
            "div",
            (0, Oe.a)(er, e.isSticker && tr),
            [(0, r.b)(2, o.b, { l10n: 168 }), e.origin],
            0,
            { style: n.h({ color: (0, F.b)(e.user.jid) }) }
          );
        var t = (0, F.g)(e.contacts, e.author);
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Pb", e.isSticker && tr),
          [
            (0, r.f)(
              1,
              "div",
              er,
              [
                (0, r.f)(1, "span", null, (0, F.e)(e.contacts, e.author), 0),
                t
                  ? (0, r.f)(1, "span", "Pg Pe GH GC GI GE", (0, c.b)(t), 0, {
                      dir: "auto",
                    })
                  : null,
                e.origin,
              ],
              0,
              { style: n.h({ color: (0, F.b)(e.author) }) }
            ),
            t
              ? (0, r.f)(1, "div", "Pf Pe GH GC GI GE", (0, c.b)(t), 0, {
                  dir: "auto",
                })
              : null,
          ],
          0
        );
      }
      var rr = s(59),
        nr = s(11),
        ar = s(362),
        ir = s(287),
        or = s(379),
        lr = s(164),
        cr = s(371),
        dr = s(255),
        hr = s(333),
        ur = s(370),
        pr = s(365),
        vr = s(334),
        fr = s(395),
        gr = s(300),
        br = s(108),
        mr = s(473),
        Sr = s(9),
        yr = s.n(Sr),
        kr = s(283),
        Cr = s(361),
        wr = s(478),
        xr = s(491),
        Ir = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "m17.5 7.8-6.7-6.7c-.5-.5-1.2-.5-1.7 0L2.4 7.8c-.6.6-.2 1.7.7 1.7h4.5v8.2c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V9.5h4.5c1 0 1.4-1 .7-1.7z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        },
        Lr = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M13.407 3.076a.26.26 0 01.37 0l1.147 1.152a.26.26 0 010 .369l-4.407 4.406 4.407 4.405a.26.26 0 010 .37l-1.148 1.146a.26.26 0 01-.37 0L9 10.518l-4.407 4.406a.26.26 0 01-.369 0l-1.147-1.147a.26.26 0 010-.369l4.406-4.405-4.407-4.406a.26.26 0 010-.369l1.148-1.151a.26.26 0 01.37 0L9 7.481l4.407-4.406z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        _r = s(281),
        Nr = "NV";
      function Mr(e, t) {
        return null != e
          ? (0, r.f)(
              1,
              "div",
              "NY",
              [t, (0, r.b)(2, Le.a, { className: "NZ", size: e })],
              0
            )
          : t;
      }
      var Or = { progress: void 0 },
        Tr = (0, r.b)(2, wr.a, { className: Nr }),
        Pr = (0, r.b)(
          2,
          (e) => {
            var t = e.className;
            return (0, r.f)(
              32,
              "svg",
              t,
              (0, r.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d:
                  "M20.7 6.9h4.6c.7 0 1.1-.5 1-1.2-.1-.5-.5-.8-1.1-.8h-5.4c-.8 0-1.3.4-1.3 1.3v7.9c0 .4.2.8.5 1 .7.4 1.6-.1 1.6-1v-3h4.1c.5 0 .8-.3.9-.7.1-.4 0-.9-.4-1.1-.2-.1-.5-.2-.7-.2h-3.8V6.9zM9.2 11.4v1.4c0 .2-.1.3-.2.3-.5.3-1 .4-1.6.5-1.4.1-2.7-.6-3.3-1.9-.3-.6-.3-1.3-.2-2 .2-1.8 1.8-3 3.5-2.7.6.1 1.2.3 1.7.7.3.2.6.3.9.2.4-.1.7-.4.8-.8.1-.5-.1-.9-.5-1.1-1.4-1-3-1.2-4.6-.8-3.5.8-5 4.4-3.7 7.4.9 1.9 2.4 2.9 4.5 3 1.4.1 2.7-.3 3.9-1 .5-.3.8-.7.8-1.2v-2.8c0-.5-.4-1-.9-1H7.4c-.4 0-.7.3-.8.7-.1.4 0 .8.4 1 .2.1.4.1.6.2.5-.1 1.1-.1 1.6-.1zm6.6-1.2V6c0-.5-.4-.9-.8-1-.5-.1-1 .1-1.2.6-.1.2-.1.4-.1.6v8.2c0 .4.4.8.8.9.7.1 1.3-.3 1.3-1.1v-4z",
                "clip-rule": "evenodd",
              }),
              2,
              { viewBox: "0 0 28 20" }
            );
          },
          { className: "NW NV" }
        ),
        Ar = (0, r.f)(1, "div", "NX NV");
      function Er(e) {
        var t = e.mediaStatus,
          s = e.meta,
          n = e.size,
          a = e.onReady,
          i = null,
          o = null;
        switch (t.type) {
          case "idle":
            o = s.fromMe
              ? (0, Ds.k)(s.ack)
                ? (0, r.b)(2, _r.a, { className: Nr })
                : Mr(n, (0, r.b)(2, Ir, { className: Nr }))
              : Mr(n, (0, r.b)(2, xr.a, { className: Nr }));
            break;
          case "pending":
            (i = Or), (o = (0, r.b)(2, Lr, { className: Nr }));
            break;
          case "processing":
            (i = { progress: t.progress }),
              (o = (0, r.b)(2, Lr, { className: Nr }));
            break;
          case "ready":
            null != a && ((o = a.icon), (i = a.spinner));
            break;
          default:
            t.type,
              (o =
                "tooBig" === t.error || "notEnoughSpace" === t.error
                  ? Mr(n, (0, r.b)(2, _r.a, { className: Nr }))
                  : (0, r.b)(2, _r.a, { className: Nr }));
        }
        if (null == o) {
          if (null == i) return (0, r.f)(1, "div");
          o = Ar;
        }
        var l = (0, Oe.a)("NR", e.placement && "NS"),
          c = (0, Oe.a)("NT", e.placement && "NU");
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)(e.className, l),
          (0, r.f)(
            1,
            "div",
            c,
            [
              null == i
                ? null
                : (0, r.b)(2, Cr.a, {
                    theme: "white",
                    progress: i.progress || void 0,
                    strokeWidth: 4,
                    className: "Na",
                  }),
              o,
            ],
            0
          ),
          2
        );
      }
      var Rr = s(149),
        Gr = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.TP = !1),
              (this.state = {
                content: null,
                originalRef: null,
                blobUri: null,
                deleted: !1,
              }),
              e
            );
          }
          static getDerivedStateFromProps(e, t) {
            var s = e.content,
              r = s.mediaStatus;
            return "ready" !== r.type
              ? { content: s, originalRef: null, blobUri: null, deleted: !1 }
              : r.ref === t.originalRef || t.deleted
              ? t
              : (t.blobUri && (0, Rr.b)(t.blobUri),
                { content: s, originalRef: r.ref, blobUri: null, deleted: !1 });
          }
          componentDidMount() {
            (this.TP = !0), this.TQ();
          }
          componentDidUpdate(e, t) {
            null != this.state.originalRef &&
              null == this.state.blobUri &&
              this.state.originalRef !== t.originalRef &&
              this.TQ();
          }
          componentWillUnmount() {
            (this.TP = !1), this.state.blobUri && (0, Rr.b)(this.state.blobUri);
          }
          TQ() {
            if (null != this.state.originalRef && null == this.state.blobUri) {
              var e = this.state.originalRef,
                t = this.props,
                s = t.backend,
                r = t.content,
                n = t.msgId,
                a = t.onBlobError,
                i = t.onBlobLoad,
                o = r.mediaStatus;
              "ready" === o.type &&
                s.loadMsgContentBlob(n, o.ref).then((t) => {
                  if (this.TP) {
                    if (e !== this.state.originalRef) return;
                    if (this.state.blobUri || this.state.deleted) return;
                    if (null != t) {
                      var s = (0, Rr.a)(t);
                      this.setState(
                        { content: r, originalRef: e, blobUri: s, deleted: !1 },
                        () => {
                          i && i(s);
                        }
                      );
                    } else
                      this.setState(
                        {
                          content: Object.assign({}, r, {
                            mediaStatus: { type: "idle" },
                          }),
                          deleted: !0,
                        },
                        () => {
                          a && a(o.ref);
                        }
                      );
                  }
                });
            }
          }
          render() {
            var e = this.state,
              t = e.content,
              s = e.blobUri;
            if (!t) return null;
            var n = this.props,
              a = n.className,
              i = n.parentWidth,
              o = n.render;
            return o
              ? o(s)
              : (0, r.b)(2, mr.d, {
                  previewId: t.preview,
                  src: s,
                  isReady: "ready" === t.mediaStatus.type,
                  width: t.width,
                  height: t.height,
                  parentWidth: i,
                  className: a,
                  bgColor: t.bg,
                });
          }
        },
        Ur = (0, i.j)(Gr),
        Dr = s(183),
        jr = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M6.7 2a3.882 3.882 0 013.051 1.254L8.475 4.519A2.567 2.567 0 006.7 3.842a1.984 1.984 0 00-2.087 2.274 2.038 2.038 0 001.835 2.223c.084.008.168.01.252.008a2.706 2.706 0 001.5-.4v-1H6.233V5.229h3.8V8.68a3.623 3.623 0 01-3.34 1.52A3.864 3.864 0 012.45 6.116 3.982 3.982 0 016.7 2m32.331.222v.1l-3.084 4.571v3.1h-2.2v-3.1L30.8 2.311v-.089h2.474l1.609 2.663 1.675-2.663h2.473m-25.57 0v7.767h-2.187V2.222h2.187m5.348 0a2.8 2.8 0 013.118 2.829c0 1.587-1.043 2.819-3.118 2.841h-1.575v2.1h-2.2v-7.77h3.773m-1.573 3.817h1.576a.887.887 0 00.921-.954.912.912 0 00-.921-.977h-1.576v1.931m12.84-3.806V10H27.9V7.06h-2.8V10h-2.2V2.233h2.2v2.951h2.8V2.233h2.174M6.7 1a4.964 4.964 0 00-5.25 5.116A4.843 4.843 0 006.689 11.2a5.24 5.24 0 003.585-1.211v1h7.96v-2.1h.576a4.3 4.3 0 003.1-1.188V11h4.2V8.06h.8V11h4.175V4.586l1.676 2.6v3.8h4.2V7.2l2.899-4.319.171-.253V1.222H36l-.294.467L34.9 2.98l-.772-1.28-.292-.483H29.8v.016h-2.9v2.951h-.8V1.233h-4.2v1.184a4.232 4.232 0 00-3.1-1.195h-8.526v1.145A4.835 4.835 0 006.7 1zm3.488 3.229.086-.085v.085h-.086z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M6.7 2a3.882 3.882 0 013.051 1.254L8.475 4.519A2.567 2.567 0 006.7 3.842a1.984 1.984 0 00-2.087 2.274 2.038 2.038 0 001.835 2.223c.084.008.168.01.252.008a2.706 2.706 0 001.5-.4v-1H6.233V5.229h3.8V8.68a3.623 3.623 0 01-3.34 1.52A3.864 3.864 0 012.45 6.116 3.982 3.982 0 016.7 2m32.331.222v.1l-3.084 4.571v3.1h-2.2v-3.1L30.8 2.311v-.089h2.474l1.609 2.663 1.675-2.663h2.473m-25.57 0v7.767h-2.187V2.222h2.187m5.348 0a2.8 2.8 0 013.118 2.829c0 1.587-1.043 2.819-3.118 2.841h-1.575v2.1h-2.2v-7.77h3.773m-1.573 3.817h1.576a.887.887 0 00.921-.954.912.912 0 00-.921-.977h-1.576v1.931m12.84-3.806V10H27.9V7.06h-2.8V10h-2.2V2.233h2.2v2.951h2.8V2.233h2.174m-19.885 2 .086-.085v.081h-.087l.001.004z",
              }),
            ],
            4,
            { viewBox: "0 0 42 12" }
          );
        },
        Br = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M3.725 2.286a.715.715 0 01.71.72v.016c.002.57 0 1.142 0 1.712.003.047.003.096.003.157h1.92a.648.648 0 01.616.323.631.631 0 01-.46.949 1.614 1.614 0 01-.22.012H4.438v4.504c-.019.292.067.581.245.815a.94.94 0 00.616.316 2.329 2.329 0 001.052-.081.685.685 0 01.211-.034.572.572 0 01.55.381.61.61 0 01-.35.763 3.31 3.31 0 01-1.411.316 2.342 2.342 0 01-2.303-1.97 2.982 2.982 0 01-.032-.462c-.003-1.455-.003-2.91-.003-4.366v-.169c-.053-.003-.097-.008-.138-.008l-.461.002c-.115 0-.231-.001-.346-.004a.64.64 0 11-.01-1.281c.113-.003.227-.004.34-.004l.455.002c.161 0 .161 0 .161-.169v-1.7a.71.71 0 01.682-.738l.02-.001.009-.001m13.67 2.432a.707.707 0 01.378.117.664.664 0 01.33.568c.002.161 0 .318 0 .511.154-.147.279-.272.409-.389a3.092 3.092 0 012.171-.8h.038a3.16 3.16 0 011.825.536 2.894 2.894 0 011.194 1.947c.046.261.071.525.073.79.007 1.497.002 2.992.002 4.489 0 .29-.178.55-.448.656a.834.834 0 01-.28.054.654.654 0 01-.475-.208.746.746 0 01-.218-.553c.002-1.387.007-2.771-.005-4.159a3.555 3.555 0 00-.108-.82 1.786 1.786 0 00-1.617-1.397 2.906 2.906 0 00-.349-.021 2.135 2.135 0 00-1.292.403 2.252 2.252 0 00-.917 1.933c-.005 1.365 0 2.732-.002 4.097a.709.709 0 01-.695.722h-.013a.711.711 0 01-.717-.706l.001-.049V5.444a.687.687 0 01.362-.624.696.696 0 01.353-.102m18.318.005c.261-.004.5.146.609.384a.995.995 0 01.093.386c.015.272.005.546.005.819.002.042.002.081.002.127.21-.24.396-.477.611-.687a3.437 3.437 0 011.749-.949 2.447 2.447 0 01.631-.042c.394.024.7.351.697.746a.763.763 0 01-.697.751 7.512 7.512 0 00-.873.093 2.406 2.406 0 00-1.698 1.355 4.352 4.352 0 00-.421 1.979c-.005.917 0 1.835 0 2.752a.725.725 0 01-.693.753l-.019.001h-.005a.712.712 0 01-.712-.713l.001-.031V5.429a.712.712 0 01.72-.706m-6.36.002h.009a4.166 4.166 0 014.217 4.262 4.198 4.198 0 01-4.182 4.213l-.087-.001a4.245 4.245 0 01-4.19-4.283 4.168 4.168 0 014.148-4.19l.085-.001m.043 7.17a2.626 2.626 0 001.528-.476 2.873 2.873 0 001.208-2.39 3.111 3.111 0 00-.785-2.131 2.677 2.677 0 00-2.007-.881 2.713 2.713 0 00-2.095.964 3.21 3.21 0 00.078 4.004c.53.583 1.284.913 2.073.91M11.542 4.729l.078.001a3.498 3.498 0 012.556 1.076 4.016 4.016 0 011.047 2.143c.053.309.084.621.095.935a.607.607 0 01-.582.631h-.015l-.049.001-.098-.001H9.257c-.049-.002-.1-.002-.174-.002.048.422.188.828.411 1.189a2.507 2.507 0 002.253 1.223h.027a3.07 3.07 0 002.096-.837.673.673 0 01.452-.183c.213.001.41.112.522.293a.587.587 0 01-.093.761 4.016 4.016 0 01-2.405 1.199 5.49 5.49 0 01-.666.043 3.89 3.89 0 01-1.164-.168 3.823 3.823 0 01-2.676-2.688 4.387 4.387 0 01.894-4.36 3.58 3.58 0 012.808-1.256M9.11 8.282h4.748a3.265 3.265 0 00-.247-.898 2.202 2.202 0 00-2.069-1.424 2.256 2.256 0 00-1.456.519 2.927 2.927 0 00-.944 1.617c-.015.059-.02.117-.032.186M3.725 1.286h-.022a1.71 1.71 0 00-1.689 1.732v.879A1.64 1.64 0 00.771 6.58c.311.366.763.583 1.243.597l.002 3.548a3.78 3.78 0 00.045.62 3.346 3.346 0 003.454 2.806 4.3 4.3 0 001.685-.413c.426-.199.747-.569.884-1.018a5.042 5.042 0 002.136 1.268c.473.144.965.215 1.46.212.263-.001.527-.017.788-.05a5.008 5.008 0 002.99-1.484c.082-.082.156-.172.22-.269v.043a1.712 1.712 0 003.423.081v-1.805c0-.78 0-1.559.002-2.338a1.242 1.242 0 01.506-1.127c.205-.146.453-.221.705-.211.078 0 .156.005.234.014a.794.794 0 01.764.652c.048.19.073.384.076.58.011 1.21.008 2.418.006 3.628l-.001.52c-.009.475.178.934.516 1.267a1.64 1.64 0 001.177.495c.214-.001.426-.04.626-.115a1.7 1.7 0 001.102-1.594l.001-.929c.234.409.522.786.855 1.119a5.114 5.114 0 003.641 1.522 5.229 5.229 0 004.683-2.793v1.042a1.715 1.715 0 103.429.053v-.063l-.001-.919c-.001-.609-.002-1.219.001-1.828a3.34 3.34 0 01.314-1.534 1.419 1.419 0 011.015-.828c.161-.028.324-.046.487-.054.09-.006.179-.013.268-.021a1.75 1.75 0 00-.037-3.492 3.472 3.472 0 00-.885.06 4.254 4.254 0 00-1.499.611 1.657 1.657 0 00-1.373-.711 1.72 1.72 0 00-1.719 1.707v1.08a5.095 5.095 0 00-.927-1.273 5.188 5.188 0 00-3.703-1.512h-.01a5.09 5.09 0 00-4.713 2.931 3.8 3.8 0 00-1.523-2.215 4.171 4.171 0 00-2.386-.716h-.002a4.326 4.326 0 00-2.12.506 1.82 1.82 0 00-.3-.239 1.72 1.72 0 00-.916-.274 1.737 1.737 0 00-1.716 1.726v.753a4.694 4.694 0 00-.784-1.087 4.474 4.474 0 00-3.257-1.381l-.095-.001a4.598 4.598 0 00-3.503 1.532 1.702 1.702 0 00-.196-.54 1.638 1.638 0 00-1.485-.827h-.922l-.001-.873a1.71 1.71 0 00-1.688-1.732l-.022-.001zm6.963 5.996.05-.044c.228-.183.512-.281.804-.278.305-.004.599.112.82.322h-1.674zm18.707 3.612a1.792 1.792 0 01-1.326-.573 2.228 2.228 0 01-.058-2.7c.33-.389.816-.61 1.326-.604.479-.005.938.194 1.262.548.361.406.551.936.531 1.478a1.85 1.85 0 01-.79 1.562 1.604 1.604 0 01-.945.289zM5.438 7.175h.857c.119.001.239-.006.357-.022.092-.013.184-.034.273-.063a5.574 5.574 0 00-.043 3.537l.032.105a1.671 1.671 0 00-.868.044 1.338 1.338 0 01-.59.045l-.01-.002a.953.953 0 01-.008-.141V7.175zm9.99 3.171c.088-.043.172-.094.251-.152v.453a1.722 1.722 0 00-.251-.301zm-4.81.169h2.376a2.002 2.002 0 01-1.226.41 1.562 1.562 0 01-1.15-.41z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M13.858 8.282a3.265 3.265 0 00-.247-.898 2.238 2.238 0 00-3.525-.905 2.927 2.927 0 00-.944 1.617c-.015.059-.02.117-.032.186h4.748zm-4.364 2.419a2.511 2.511 0 002.28 1.223 3.07 3.07 0 002.096-.837.626.626 0 01.974.11.587.587 0 01-.093.761 4.016 4.016 0 01-2.405 1.199 4.32 4.32 0 01-1.83-.125 3.823 3.823 0 01-2.676-2.688 4.386 4.386 0 01.893-4.359A3.596 3.596 0 0111.62 4.73a3.498 3.498 0 012.556 1.076 4.016 4.016 0 011.047 2.143c.053.309.084.621.095.935a.607.607 0 01-.582.631h-.015c-.049.002-.098 0-.147 0H9.257c-.049-.002-.1-.002-.174-.002.048.421.188.827.411 1.188zm27.54-4.949a3.437 3.437 0 011.749-.949c.208-.04.42-.054.631-.042.394.024.7.351.697.746a.763.763 0 01-.697.751 7.512 7.512 0 00-.873.093 2.406 2.406 0 00-1.698 1.355 4.352 4.352 0 00-.421 1.979c-.005.917 0 1.835 0 2.752a.724.724 0 01-.693.753l-.024.001a.713.713 0 01-.713-.712l.001-.031V5.429c.003-.32.219-.6.528-.682a.675.675 0 01.8.36.995.995 0 01.093.386c.015.271.005.545.005.819.002.042.002.081.002.127.212-.239.398-.476.613-.687zM4.597 4.891h1.761a.648.648 0 01.616.323.632.632 0 01-.459.949 1.614 1.614 0 01-.22.012H4.438v4.504c-.019.292.067.581.245.815a.94.94 0 00.616.316c.352.055.712.028 1.052-.081a.59.59 0 01.759.343l.002.005a.61.61 0 01-.35.763 3.31 3.31 0 01-1.297.313 2.34 2.34 0 01-2.417-1.967 2.982 2.982 0 01-.032-.462c-.002-1.456-.003-2.912-.002-4.367v-.169c-.054-.003-.098-.008-.139-.008-.269 0-.538.005-.807-.003a.64.64 0 11-.01-1.28c.264-.007.531-.002.795-.002.161 0 .161 0 .161-.169v-1.7a.713.713 0 111.422-.003c.002.57 0 1.142 0 1.712.002.046.002.095.002.156h.159zm13.914.634a3.103 3.103 0 012.209-.8 3.16 3.16 0 011.825.536 2.894 2.894 0 011.194 1.947c.046.261.071.525.073.79.007 1.497.002 2.992.002 4.489 0 .29-.178.55-.448.656a.673.673 0 01-.756-.154.746.746 0 01-.218-.553c.002-1.387.007-2.772-.005-4.158a3.555 3.555 0 00-.108-.82 1.786 1.786 0 00-1.617-1.397 2.204 2.204 0 00-2.559 2.314c-.005 1.365 0 2.732-.002 4.097a.711.711 0 01-.993.666.744.744 0 01-.431-.697V5.444a.687.687 0 01.362-.624.71.71 0 011.062.582c.002.161 0 .318 0 .511.156-.146.28-.271.41-.388zm12.835 1.372a2.743 2.743 0 00-4.103.083 3.212 3.212 0 00.078 4.005 2.771 2.771 0 003.601.433 2.873 2.873 0 001.208-2.39 3.105 3.105 0 00-.784-2.131zm-1.984-2.172a4.166 4.166 0 014.217 4.262 4.198 4.198 0 01-4.182 4.213l-.087-.001a4.245 4.245 0 01-4.19-4.283 4.169 4.169 0 014.242-4.191z",
              }),
            ],
            4,
            { viewBox: "0 0 42 15" }
          );
        },
        Vr = "QJ";
      function Fr(e, t, s, r, n) {
        var a,
          i =
            arguments.length > 5 && void 0 !== arguments[5]
              ? arguments[5]
              : "image",
          o = arguments.length > 6 ? arguments[6] : void 0,
          l = r.mediaStatus;
        "ready" !== l.type
          ? (0, Dr.a)(e, null != (a = s.meta.fromMe) && a, l, {
              id: s.id,
              chatJid: n,
              origin: "chat",
            })
          : e.setCenterLabel(818, () => {
              "image" === i
                ? t.openScreen("MSG_IMAGE_VIEW", {
                    msgId: s.id,
                    contentRef: l.ref,
                  })
                : t.openScreen("MSG_STICKER_VIEW", {
                    msgId: s.id,
                    contentRef: l.ref,
                    isNotNativeSupport: o,
                  });
            });
      }
      var Wr = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.content !== e.content ||
                s.ack !== e.ack ||
                s.icons !== e.icons ||
                s.parentWidth !== e.parentWidth ||
                s.children !== e.children ||
                s.chatJid !== e.chatJid)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props;
            Fr(e, t, s.msg, s.content, s.chatJid);
          }
          render() {
            var e = this.props,
              t = e.content,
              s = (0, r.b)(2, Er, {
                mediaStatus: t.mediaStatus,
                meta: e.msg.meta,
                size: t.size,
                onReady: void 0,
              });
            return (0, r.b)(2, Jr, {
              mediaStatusProgress: s,
              ack: e.ack,
              icons: e.icons,
              children: (0, r.b)(2, Ur, {
                className: "QO",
                msgId: e.msg.id,
                content: t,
                parentWidth: e.parentWidth,
              }),
            });
          }
        },
        Kr = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.player !== e.player ||
                s.content !== e.content ||
                s.ack !== e.ack ||
                s.icons !== e.icons ||
                s.parentWidth !== e.parentWidth ||
                s.chatJid !== e.chatJid ||
                s.children !== e.children)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props;
            (0, Us.c)(e, t, s.msg, s.content, s.chatJid);
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.player.active,
              n =
                null != s && s.commonMsgId === e.msg.id && s.loading
                  ? { spinner: Or, icon: null }
                  : { spinner: null, icon: Tr },
              a = (0, r.b)(2, Er, {
                mediaStatus: t.mediaStatus,
                meta: e.msg.meta,
                size: t.size,
                onReady: n,
              }),
              i = null != t.duration ? zr(t.duration) : null;
            return (0, r.b)(2, Jr, {
              mediaStatusProgress: a,
              badge: i,
              ack: e.ack,
              icons: e.icons,
              children: (0, r.b)(2, mr.e, {
                content: t,
                className: "QO",
                parentWidth: e.parentWidth,
              }),
            });
          }
        };
      function zr(e) {
        return (0, r.f)(
          1,
          "div",
          "QE",
          [(0, r.b)(2, hr.a, { className: "QF" }), (0, xt.b)(e)],
          0
        );
      }
      var Hr = class extends h.b {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.selected !== e.selected ||
              s.msg !== e.msg ||
              s.playGif !== e.playGif ||
              s.content !== e.content ||
              s.player !== e.player ||
              s.ack !== e.ack ||
              s.icons !== e.icons ||
              s.children !== e.children ||
              s.chatJid !== e.chatJid)
          );
        }
        addSoftKeys(e, t) {
          var s = this.props,
            r = s.msg,
            n = s.content,
            a = s.chatJid;
          (0, Us.b)(e, t, r, n, a);
        }
        render() {
          var e,
            t = this.props,
            s = t.content,
            n = t.playGif,
            a = t.ack,
            i = t.icons,
            o = t.msg,
            l = t.player,
            c = n ? void 0 : { spinner: null, icon: Pr },
            d = (0, r.b)(2, Er, {
              mediaStatus: s.mediaStatus,
              meta: o.meta,
              size: s.size,
              onReady: c,
            }),
            h = s.attribution;
          e =
            h === Gs.g.GIPHY
              ? (0, r.b)(2, jr, { className: "QD" })
              : h === Gs.g.TENOR
              ? (0, r.b)(2, Br, { className: "QD" })
              : null;
          var u = n && null == l.active;
          return (0, r.b)(2, Jr, {
            className: "QC QB",
            mediaStatusProgress: d,
            badge: e,
            ack: a,
            icons: i,
            children: (0, r.b)(2, mr.c, { autoplay: u, content: s }),
          });
        }
      };
      function Jr(e) {
        var t = null,
          s = e.icons,
          n = null != e.ack,
          a = s.star,
          i = s.kept;
        if (n || a || i) {
          var o = (n ? 1 : 0) + (a ? 1 : 0) + (i ? 1 : 0),
            l = 2 === o ? "QM" : 3 === o ? "QN" : null;
          t = (0, r.f)(
            1,
            "div",
            (0, Oe.a)("QL", l),
            [
              a && (0, r.b)(2, $s, { className: (0, Oe.a)("QI", n && Vr) }),
              s.kept &&
                (0, r.b)(2, Ys, {
                  className: (0, Oe.a)(
                    "QH",
                    !n && a && Vr,
                    n && !a && Vr,
                    n && a && "QK"
                  ),
                }),
              null != e.ack &&
                (0, r.b)(2, kr.a, { className: "QG", ack: e.ack }),
            ],
            0
          );
        }
        return (0, r.f)(
          1,
          "div",
          e.className || "QB",
          [e.children, e.mediaStatusProgress, e.badge, t],
          0
        );
      }
      var Qr = new (s(297).a)(5);
      function Xr(e, t, s) {
        return new Promise((r) => {
          __LOG__(2)`WebP: AlphaJpeg to canvas was called`, performance.now();
          var n = t.getContext("2d", { willReadFrequently: !0 }),
            a = document.createElement("img");
          Qr.set(e, s);
          var i = URL.createObjectURL(s);
          (a.onload = function () {
            performance.now();
            var e = a.width,
              s = a.height,
              o = Math.floor(s / 2);
            (t.width = e),
              (t.height = s),
              n.drawImage(a, 0, 0),
              URL.revokeObjectURL(i);
            for (
              var l = n.getImageData(0, 0, e, s), c = e * o * 4, d = 0;
              d < c;
              d += 4
            )
              l.data[d + 3] = l.data[c + d];
            (t.height = o), n.putImageData(l, 0, 0, 0, 0, e, o), r();
          }),
            (a.src = i);
        });
      }
      var qr = s(45),
        $r = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M20.8 0h-9.6C5 0 0 5 0 11.3v9.4C0 27 5 32 11.3 32h9.4C27 32 32 27 32 20.7v-9.4C32 5 27 0 20.7 0z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        Yr = s(331),
        Zr = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { blob: null, src: null }),
              (this.Tv = !0),
              e
            );
          }
          componentDidMount() {
            var e = this.props,
              t = e.previewMsgId,
              s = e.backend;
            s.getStickerMsgMediaRefs(t)
              .then((e) => {
                if (null != e && this.Tv) {
                  if (!e.isNotNativeSupported) {
                    var r = (0, qr.e)(e.contentRef);
                    if (!r) return;
                    return s.loadMsgContentBlob(t, r).then((e) => {
                      e && this.Tv && this.setState({ src: (0, Rr.a)(e) });
                    });
                  }
                  (0, Yr.b)(e.frame).then((e) => {
                    e &&
                      this.Tv &&
                      this.setState({ blob: e, isNotNativeSupported: !0 });
                  });
                }
              })
              .catch((e) => {
                __LOG__(4)`Cannot get quoted sticker: ${e}`;
              });
          }
          componentWillUnmount() {
            (this.Tv = !1), null != this.state.src && (0, Rr.b)(this.state.src);
          }
          render() {
            return this.state.isNotNativeSupported
              ? (0, r.b)(2, rn, {
                  className: this.props.className,
                  height: 52,
                  parentWidth: 52,
                  isReady: null != this.state.blob,
                  blob: this.state.blob,
                  isNotNativeSupported: this.state.isNotNativeSupported,
                  msgId: this.props.previewMsgId,
                  previewId: null,
                })
              : (0, r.b)(2, rn, {
                  className: this.props.className,
                  height: 52,
                  parentWidth: 52,
                  src: this.state.src,
                  isReady: null != this.state.blob,
                  msgId: this.props.previewMsgId,
                  previewId: null,
                });
          }
        },
        en = (0, i.j)(Zr);
      function tn(e) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("SL", "SO", "visible" === e.overflow && "SM", e.className),
          [
            e.children,
            !e.isReady && (0, r.b)(2, $r, { className: "SS", style: e.style }),
            e.isProcessing &&
              !e.isReady &&
              (0, r.f)(1, "div", "SP", (0, r.b)(2, lr.a), 2),
          ],
          0,
          { style: n.h(e.style) }
        );
      }
      var sn = class extends n.b {
          constructor(e) {
            super(e),
              (this.Tw = n.e()),
              (this.state = {
                webpState: e.isNotNativeSupported ? "not-ready" : "ready",
              });
          }
          componentDidMount() {
            this.Tv = !0;
          }
          componentDidUpdate(e) {
            if (this.props.isNotNativeSupported) {
              var t = this.props.blob;
              null != t &&
                null == e.blob &&
                ("image/jpeg" === t.type && this.Tw.current
                  ? (Xr(this.props.msgId, this.Tw.current, t),
                    this.setState({ webpState: "ready" }))
                  : this.Tx(t));
            }
          }
          componentWillUnmount() {
            this.Tv = !1;
          }
          Tx(e) {
            __LOG__(
              2
            )`Converting sticker blob as the device doesn't support WebP`,
              Promise.all([s.e(179).then(s.bind(null, 663)), (0, U.h)(e)]).then(
                (e) => {
                  var t = yr()(e, 2),
                    s = t[0],
                    r = t[1];
                  if (this.Tv && this.Tw.current && r instanceof ArrayBuffer) {
                    var n = this.Tw.current;
                    this.setState({ webpState: "processing" }),
                      s
                        .processWebpToCanvas(
                          this.props.msgId,
                          n,
                          r,
                          this.props.backend
                        )
                        .then((e) => {
                          this.Tv &&
                            this.setState({
                              webpState: e ? "ready" : "not-ready",
                            });
                        });
                  }
                }
              );
          }
          render() {
            var e = this.props,
              t = e.width,
              s = e.parentWidth,
              a = e.height,
              i = e.className,
              o = null,
              l = { height: (0, mr.h)(t, a, s) };
            if (
              (null != s && (l.width = s + "px"),
              this.props.isNotNativeSupported)
            )
              "ready" !== this.state.webpState && (l.display = "none"),
                (o = (0, r.f)(
                  1,
                  "canvas",
                  "SR",
                  null,
                  1,
                  { style: n.h(l) },
                  null,
                  this.Tw
                ));
            else {
              var c = this.props.src;
              c && t && s && (c = `${c}#-moz-samplesize=${(0, mr.i)(t, s)}`),
                null != c &&
                  (o = (0, r.f)(1, "img", "SQ HK", null, 1, {
                    style: n.h(l),
                    src: c,
                  }));
            }
            return (0, r.b)(2, tn, {
              isReady: null != o && "ready" === this.state.webpState,
              style: { width: l.width, height: l.height },
              isProcessing: "processing" === this.state.webpState,
              className: i,
              children: o,
            });
          }
        },
        rn = (0, i.j)(sn),
        nn = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Tv = !1),
              (this.state = {
                content: null,
                originalRef: null,
                blobUri: null,
                deleted: !1,
                blob: null,
              }),
              e
            );
          }
          static getDerivedStateFromProps(e, t) {
            var s = e.content,
              r = s.mediaStatus;
            return "ready" !== r.type
              ? {
                  content: s,
                  originalRef: null,
                  blobUri: null,
                  deleted: !1,
                  blob: null,
                }
              : r.ref === t.originalRef || t.deleted
              ? t
              : (t.blobUri &&
                  (__LOG__(2)`Media status ref was changed. Revoking blobUri`,
                  (0, Rr.b)(t.blobUri)),
                {
                  content: s,
                  originalRef: r.ref,
                  blobUri: null,
                  deleted: !1,
                  blob: null,
                });
          }
          componentDidMount() {
            (this.Tv = !0), this.Ty();
          }
          componentDidUpdate(e, t) {
            null != this.state.originalRef &&
              null == this.state.blobUri &&
              this.state.originalRef !== t.originalRef &&
              this.Ty();
          }
          componentWillUnmount() {
            (this.Tv = !1), this.state.blobUri && (0, Rr.b)(this.state.blobUri);
          }
          Ty() {
            if (null != this.state.originalRef && null == this.state.blobUri) {
              var e = this.props,
                t = e.backend,
                s = e.content,
                r = e.msgId,
                n = e.onBlobError,
                a = e.onBlobLoad,
                i = s.mediaStatus;
              if ("ready" === i.type) {
                var o = this.state.originalRef;
                __LOG__(2)`Loading content for ${r}`,
                  null != s.highResPreview && s.isNotNativeSupported
                    ? (0, Yr.b)(s.highResPreview).then((e) => {
                        null != e &&
                          this.Tv &&
                          this.setState({
                            content: s,
                            originalRef: o,
                            deleted: !1,
                            blob: e,
                          });
                      })
                    : t.loadMsgContentBlob(r, i.ref).then((e) => {
                        if (
                          this.Tv &&
                          o === this.state.originalRef &&
                          !this.state.blobUri &&
                          !this.state.deleted
                        )
                          if (null != e) {
                            __LOG__(2)`Creating blobUri for ${r}`;
                            var t = (0, Rr.a)(e);
                            this.setState(
                              {
                                content: s,
                                originalRef: o,
                                blobUri: t,
                                deleted: !1,
                                blob: e,
                              },
                              () => {
                                a && a(t);
                              }
                            );
                          } else
                            this.setState(
                              {
                                content: Object.assign({}, s, {
                                  mediaStatus: { type: "idle" },
                                }),
                                deleted: !0,
                              },
                              () => {
                                n && n(i.ref);
                              }
                            );
                      });
              }
            }
          }
          render() {
            var e = this.state,
              t = e.content,
              s = e.blobUri;
            if (!t) return null;
            var n = this.props.render;
            if (n) return n(s);
            var a = this.props,
              i = a.className,
              o = a.parentWidth;
            return t.isNotNativeSupported
              ? (0, r.b)(2, rn, {
                  previewId: t.preview,
                  blob: this.state.blob,
                  isNotNativeSupported: t.isNotNativeSupported,
                  isReady: "ready" === t.mediaStatus.type,
                  width: t.width,
                  height: t.height,
                  parentWidth: o,
                  className: i,
                  bgColor: t.bg,
                  msgId: this.props.msgId,
                })
              : (0, r.b)(2, rn, {
                  previewId: t.preview,
                  src: s,
                  isReady: "ready" === t.mediaStatus.type,
                  width: t.width,
                  height: t.height,
                  parentWidth: o,
                  className: i,
                  bgColor: t.bg,
                  msgId: this.props.msgId,
                });
          }
        },
        an = (0, i.j)(nn),
        on = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.content !== e.content ||
                s.ack !== e.ack ||
                s.icons !== e.icons ||
                s.parentWidth !== e.parentWidth ||
                s.children !== e.children ||
                s.chatJid !== e.chatJid)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.content,
              r = this.props;
            Fr(e, t, r.msg, s, r.chatJid, "sticker", s.isNotNativeSupported);
          }
          render() {
            var e = this.props,
              t = e.content,
              s = (0, r.b)(2, Er, {
                mediaStatus: t.mediaStatus,
                meta: e.msg.meta,
                size: void 0,
                onReady: void 0,
                className: "SN",
              });
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("SF QB", e.msg.meta.fromMe && "SJ"),
              [
                (0, r.b)(2, an, {
                  className: (0, Oe.a)("SE QO", e.msg.meta.fromMe && "SH"),
                  msgId: e.msg.id,
                  content: t,
                  parentWidth: e.parentWidth,
                }),
                null != e.ack &&
                  (0, r.f)(
                    1,
                    "div",
                    "SI Lt GC ML MA",
                    (0, r.f)(
                      1,
                      "div",
                      "SK",
                      (0, r.b)(2, kr.a, { className: "SG QG", ack: e.ack }),
                      2
                    ),
                    2
                  ),
                s,
              ],
              0
            );
          }
        },
        ln = s(258),
        cn = "Oj",
        dn = s(79),
        hn = class extends n.a {
          render() {
            return this.props.getContent(
              this.props.remoteJid === nr.h
                ? "status"
                : this.props.group || "unknownGroup"
            );
          }
        },
        un = (0, i.f)(
          hn,
          (e, t) => ({
            remoteJid: t.remoteJid,
            getContent: t.getContent,
            orderedChatIds: e.chatlist.orderedChatIds,
            chats: e.chatlist.chats,
          }),
          (e) => {
            var t;
            if (e.remoteJid !== nr.h)
              for (var s = 0, r = e.orderedChatIds.length; s < r; ++s) {
                var n = e.chats[e.orderedChatIds[s]];
                if (n && n.jid === e.remoteJid && "GROUP" === n.type) {
                  t = n;
                  break;
                }
              }
            return {
              remoteJid: e.remoteJid,
              getContent: e.getContent,
              orderedChatIds: e.orderedChatIds,
              chats: e.chats,
              group: t,
            };
          }
        );
      function pn(e) {
        return null == e
          ? null
          : (t =
              "status" === e
                ? (0, r.b)(2, o.b, { l10n: 900 })
                : "unknownGroup" === e
                ? (0, r.b)(2, o.b, { l10n: 177 })
                : (0, c.b)(e.groupInfo.title))
          ? (0, r.c)([c.a, t], 0)
          : null;
        var t;
      }
      function vn(e) {
        var t;
        return (
          "status" === e ||
            "unknownGroup" === e ||
            (t = (0, r.c)(
              [c.a, (0, r.f)(1, "span", null, (0, c.b)(e.groupInfo.title), 0)],
              0
            )),
          (0, r.c)([(0, r.b)(2, o.b, { l10n: 177 }), t], 0)
        );
      }
      function fn(e) {
        return (
          "group_invite" !== e.type &&
          "viewOnceVideo" !== e.type &&
          "viewOnceImage" !== e.type
        );
      }
      var gn = class extends h.b {
          constructor(e, t) {
            super(e, t),
              (this.TY = null),
              (this.state = { target: null }),
              (this.TZ = !1);
            var s = null;
            "bubble" === e.quote.type &&
              (s = (function (e) {
                var t = e.quotedMsg.id;
                if (null != t) {
                  var s = (0, rr.r)(t);
                  if ("status" === s.type) {
                    var r = e.quotedMsg.ts;
                    return null == r
                      ? (__LOG__(4)`A quoted status has no timestamp`,
                        void SEND_LOGS("quotedStatus-noTimestamp"))
                      : (0, Lt.n)(r, St.Q)
                      ? { type: "status", statusId: s.msgId }
                      : { type: "expiredStatus" };
                  }
                  return { type: "msg", msgId: s.msgId };
                }
              })(e.quote)),
              (this.state = { target: s });
          }
          componentDidMount() {
            (this.TZ = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.TZ = !1), (this.TY = null), super.componentWillUnmount();
          }
          Ta(e, t) {
            (0, y.g)({
              full: 788,
              text: () => (0, r.b)(2, lr.a, { type: "dialog" }),
              onBack: () => {
                (this.TY = null), (0, y.a)();
              },
            });
            var s = t.statusId,
              n = (function (e, t) {
                return e.loadStatusWithAuthor(t).then((e) => {
                  if (null != e) {
                    var s = e.author;
                    if (
                      ((s.msgs = s.msgs.filter((e) => e.id === t)),
                      0 !== s.msgs.length)
                    )
                      return e;
                  }
                });
              })(e, s).then((t) => {
                if (n === this.TY) {
                  if (((this.TY = null), null == t))
                    return (
                      this.setState({ target: { type: "revokedStatus" } }),
                      void mn()
                    );
                  var r = t.status,
                    a = t.author;
                  (0, ar.b)(a, {
                    authorMe: (t) => {
                      e.openScreen("STATUS_READ_ME", {
                        authorMe: t,
                        initialStatusMsgId: s,
                        statuses: { [s]: r },
                      });
                    },
                    authorUser: (t) => {
                      e.openScreen("STATUS_READ_OTHERS", {
                        authors: [t],
                        initialAuthorIdx: 0,
                        initialStatusMsgId: s,
                        statuses: { [s]: r },
                      });
                    },
                    authorPsa: () => {
                      __LOG__(3)`Quote received for PSA`,
                        SEND_LOGS("status-quote-psa");
                    },
                  });
                }
              });
            this.TY = n;
          }
          addSoftKeys(e, t) {
            var s = this.props.groupChat,
              r = this.state.target,
              n = this.props.quote;
            if ("group" === n.type && s)
              e.setCenterLabel(797, () => {
                (0, Ne.c)(t, s.id, "unread");
              });
            else if (null != r)
              switch (r.type) {
                case "msg":
                  "bubble" === n.type &&
                    e.setCenterLabel(797, () => {
                      t.sendAndReceive("backend", "doesMsgExist", {
                        msgId: r.msgId,
                      }).then((e) => {
                        if (this.TZ && this.props.selected)
                          if (e) {
                            var s = n.setSelectionTarget;
                            s && s(r.msgId),
                              (0, Ne.c)(t, (0, Gs.w)(r.msgId), r.msgId);
                          } else (0, y.e)({ title: 229, text: 507 });
                      });
                    });
                  break;
                case "expiredStatus":
                  e.setCenterLabel(781, () => {
                    (0, y.g)({ text: 854, center: 796, onSoftCenter: "CLOSE" });
                  });
                  break;
                case "revokedStatus":
                  e.setCenterLabel(781, () => {
                    mn();
                  });
                  break;
                case "status":
                  e.setCenterLabel(797, () => {
                    this.Ta(t, r);
                  });
                  break;
                default:
                  return (0, f.a)(r.type);
              }
          }
          render() {
            var e = this.props,
              t = null,
              s = null,
              a = null,
              i = null,
              l = null;
            if ("group" === e.quote.type)
              t = (0, r.b)(2, un, {
                remoteJid: e.quote.groupJid,
                getContent: vn,
              });
            else {
              var d = e.quote.quotedMsg,
                h = d.meta;
              (t = (function (e, t, s) {
                switch (e.type) {
                  case "vcard":
                    return (
                      (w = e.displayNames),
                      (x = e.total),
                      (0, r.c)(
                        [
                          (0, r.b)(2, cr.a, { className: cn }),
                          (0, or.b)(x, w, Zs.a, !0),
                        ],
                        0
                      )
                    );
                  case "text":
                    return (0, r.f)(
                      1,
                      "span",
                      null,
                      (0, c.d)((0, br.c)(e.text), t),
                      0,
                      { dir: "auto" }
                    );
                  case "image":
                    var n =
                      (e.caption && (0, c.d)((0, br.c)(e.caption), t)) ||
                      (0, r.b)(2, o.b, { l10n: 586 });
                    return (0, r.c)(
                      [(0, r.b)(2, dr.a, { className: cn }), n],
                      0
                    );
                  case "viewOnceImage":
                    var a = (0, ln.c)(dn.a, cn),
                      i = (0, ln.d)(dn.a, "Ok");
                    return (0, r.c)([a, i], 0);
                  case "sticker":
                    return null;
                  case "video":
                    var l =
                      (e.caption &&
                        (0, r.f)(
                          1,
                          "span",
                          null,
                          (0, c.d)((0, br.c)(e.caption), t),
                          0,
                          { dir: "auto" }
                        )) ||
                      (0, r.b)(2, o.b, { l10n: 964 });
                    return (0, r.c)(
                      [(0, r.b)(2, hr.a, { className: cn }), l],
                      0
                    );
                  case "viewOnceVideo":
                    var d = (0, ln.c)(dn.a, cn),
                      h = (0, ln.e)(dn.a, "Ok");
                    return (0, r.c)([d, h], 0);
                  case "gif":
                    var u =
                      (e.caption &&
                        (0, r.f)(
                          1,
                          "span",
                          null,
                          (0, c.d)((0, br.c)(e.caption), t),
                          0,
                          { dir: "auto" }
                        )) ||
                      (0, r.b)(2, o.b, { l10n: 337 });
                    return (0, r.c)(
                      [(0, r.b)(2, ur.a, { className: cn }), u],
                      0
                    );
                  case "voice":
                    var p = e.duration,
                      v = e.isPtt
                        ? (0, r.b)(2, o.b, { l10n: [(0, xt.b)(p), 256] })
                        : (0, r.b)(2, o.b, { l10n: [(0, xt.b)(p), 8] });
                    return (0, r.c)(
                      [(0, r.b)(2, pr.a, { className: cn }), v],
                      0
                    );
                  case "location":
                    var g = e.name,
                      b = e.address,
                      m = g && b ? (0, it.h)([g, b]).join("") : g || b || null;
                    return (
                      (m =
                        null != m
                          ? (0, br.c)(m)
                          : (0, r.b)(2, o.b, { l10n: 481 })),
                      (0, r.c)([(0, r.b)(2, vr.a, { className: cn }), m], 0)
                    );
                  case "group_invite":
                    var S = e.caption
                      ? (0, br.c)(e.caption)
                      : (0, r.b)(2, o.b, { l10n: 465 });
                    return (0, r.c)(
                      [(0, r.b)(2, fr.a, { className: cn }), S],
                      0
                    );
                  case "rich_hsm":
                    var y,
                      k = (0, c.d)((0, br.c)(e.text), t);
                    switch (e.subtype) {
                      case "image":
                        y = (0, r.b)(2, dr.a, { className: cn });
                        break;
                      case "video":
                        y = (0, r.b)(2, hr.a, { className: cn });
                        break;
                      case "location":
                        y = (0, r.b)(2, vr.a, { className: cn });
                        break;
                      case "text":
                        break;
                      default:
                        e.subtype, (y = (0, r.b)(2, gr.a, { className: cn }));
                    }
                    return (0, r.c)([y, k], 0);
                  case "hsm_button_reply":
                    return (0, r.f)(
                      1,
                      "span",
                      null,
                      (0, c.d)((0, br.c)(e.text), t),
                      0,
                      { dir: "auto" }
                    );
                  case "document":
                    var C = (0, ir.a)(e, "shouldExcludeFileExtension");
                    return (0, r.c)(
                      [(0, r.b)(2, gr.a, { className: cn }), C],
                      0
                    );
                  default:
                    return (0, f.a)(e.type);
                }
                var w, x;
              })(d.content, e.quote.formatting)),
                h.fromMe
                  ? ((s = e.user.jid),
                    (a = (t) =>
                      (0, r.b)(2, sr, { user: e.user, origin: pn(t) })))
                  : ((s = h.author),
                    (a = (t) =>
                      (0, r.b)(2, sr, {
                        contacts: e.contacts,
                        author: h.author,
                        origin: pn(t),
                      }))),
                null != s && (l = (0, F.b)(s)),
                (a = d.remoteJid
                  ? (0, r.b)(2, un, { remoteJid: d.remoteJid, getContent: a })
                  : a()),
                d.stickerPreviewMsgId && fn(d.content)
                  ? (i = (0, r.b)(2, en, {
                      previewMsgId: d.stickerPreviewMsgId,
                      className: "Oi Oh",
                    }))
                  : d.preview &&
                    fn(d.content) &&
                    (i = (0, r.b)(2, mr.f, {
                      previewId: d.preview,
                      className: "Oh",
                      bgColor: d.bg,
                    }));
            }
            var u = l ? { backgroundColor: l } : null;
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Oc", e.fromMe && "Od"),
              [
                (0, r.f)(1, "div", "Oe", null, 1, { style: n.h(u) }),
                (0, r.f)(
                  1,
                  "div",
                  "Of",
                  [
                    (0, r.f)(1, "div", null, a, 0),
                    (0, r.f)(1, "div", "Og GG GC GI GE", t, 0),
                  ],
                  4
                ),
                i,
              ],
              0
            );
          }
        },
        bn = (0, i.f)(
          gn,
          (e, t) => Object.assign({}, t, { chats: e.chatlist.chats }),
          (e) => {
            var t,
              s = e.chats,
              r = e.quote;
            return (
              "group" === r.type &&
                s &&
                (t = (function (e) {
                  var t = (0, U.x)(e),
                    s = [];
                  return (
                    t.forEach((e) => {
                      "GROUP" === e.type && s.push(e);
                    }),
                    s
                  );
                })(s).find((e) => e.jid === r.groupJid)),
              Object.assign({}, e, { groupChat: t })
            );
          }
        );
      function mn() {
        (0, y.g)({ text: 853, center: 796, onSoftCenter: "CLOSE" });
      }
      var Sn = "OR";
      function yn(e) {
        var t,
          s = !0;
        if ("audio" === e.kind) {
          var a = !0 === e.gallery;
          (s = !a), (t = (0, Oe.a)(Sn, "OT", a && "Ob"));
        } else
          "voice" === e.kind
            ? (e.kind,
              (t = (0, Oe.a)(Sn, e.fromMe ? "OU" : "OV", e.played && "OW")))
            : (e.kind, (s = !1), (t = (0, Oe.a)(Sn, "OX")));
        var i = e.progress,
          o = e.duration,
          l = 100 * i + "%",
          c = (0, Oe.a)("OP", s && "OQ");
        return (0, r.f)(
          1,
          "div",
          c,
          [
            (0, r.f)(
              1,
              "div",
              "OS",
              (0, r.f)(
                1,
                "div",
                t,
                [
                  (0, r.f)(1, "div", "OY", null, 1, {
                    style: n.h({ left: l }),
                  }),
                  (0, r.f)(1, "div", "OZ", null, 1, {
                    style: n.h({ width: l }),
                  }),
                ],
                4
              ),
              2
            ),
            kn(o),
          ],
          0
        );
      }
      function kn(e) {
        return (0, r.f)(1, "div", "Oa", (0, xt.b)(Math.floor(e)), 0);
      }
      var Cn = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M6.7 2.1H4.4c-.7 0-1.2.5-1.2 1.2v13.5c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V3.3c0-.7-.5-1.2-1.2-1.2zm8.9 0h-2.3c-.7 0-1.2.5-1.2 1.2v13.5c0 .7.5 1.2 1.2 1.2h2.3c.7 0 1.2-.5 1.2-1.2V3.3c0-.7-.5-1.2-1.2-1.2z",
            }),
            2,
            { viewBox: "0 0 20 20" }
          );
        },
        wn = s(373),
        xn = "Qo";
      function In(e, t, s) {
        return e + (t - e) * s;
      }
      function Ln(e, t) {
        var s = t - 1,
          r = [],
          n = (e.length - 1) / s;
        r[0] = e[0];
        for (var a = 1; a < s; a++) {
          var i = a * n,
            o = Number(Math.floor(i).toFixed()),
            l = Number(Math.ceil(i).toFixed()),
            c = i - o;
          r[a] = In(e[o], e[l], c);
        }
        return (r[s] = e[e.length - 1]), r;
      }
      var _n = class extends n.a {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.Uv = n.e()),
            (this.Uw = n.e()),
            (this.Ux = n.e()),
            e
          );
        }
        componentDidMount() {
          if (this.Uv.current) {
            var e = this.Uv.current.getBoundingClientRect();
            this.Uy = e.width;
            var t = (function (e) {
              var t = Array.from(new Uint8Array(e));
              return D.e ? Nn(t) : Ln(Nn(t), 32);
            })(this.props.waveformData);
            this.drawWaveform(t);
          }
        }
        drawWaveform(e) {
          Mn({
            data: e,
            canvas: this.Uw.current,
            width: this.Uy,
            color: "#8c8c8c",
          }),
            Mn({
              data: e,
              canvas: this.Ux.current,
              width: this.Uy,
              color: "#03a9f4",
            });
        }
        render() {
          var e,
            t = this.Uy * this.props.progress + "px";
          return (0, r.f)(
            1,
            "div",
            "Sg",
            [
              (0, r.f)(
                1,
                "div",
                "Sl",
                [
                  (0, r.f)(
                    1,
                    "div",
                    "Sk",
                    (0, r.f)(
                      1,
                      "canvas",
                      "Si",
                      null,
                      1,
                      { style: n.h({ width: this.Uy + "px" }) },
                      null,
                      this.Ux
                    ),
                    2,
                    { style: n.h({ width: t }) }
                  ),
                  (0, r.f)(
                    1,
                    "div",
                    null,
                    (0, r.f)(1, "canvas", "Sh", null, 1, null, null, this.Uw),
                    2,
                    null,
                    null,
                    this.Uv
                  ),
                ],
                4
              ),
              ((e = this.props.duration),
              e ? (0, r.f)(1, "div", "Sj", (0, xt.b)(Math.floor(e)), 0) : null),
            ],
            0
          );
        }
      };
      function Nn(e) {
        var t = Math.max(...e);
        if (t <= 0) return e;
        var s = Math.pow(t, -1);
        return e.map((e) => e * s);
      }
      function Mn(e) {
        var t = e.data,
          s = e.canvas,
          r = e.width,
          n = e.color;
        if (s) {
          var a = window.devicePixelRatio || 1;
          (s.width = r * a), (s.height = (s.offsetHeight + 40) * a);
          var i = s.offsetHeight / 2,
            o = s.getContext("2d");
          a > 1 && o.scale(a, a), o.translate(0, i + 20);
          for (var l = r / t.length, c = 0; c < t.length; c++) {
            var d = l * c,
              h = t[c] * s.offsetHeight - 20;
            h <= 0 ? (h = 1) : h > i && (h = i), On(o, d + 1, h, 0, n);
          }
        }
      }
      function On(e, t, s, r, n) {
        (e.lineWidth = 2),
          (e.strokeStyle = n),
          e.beginPath(),
          e.moveTo(t, s),
          e.lineTo(t, -s),
          (e.lineCap = "round"),
          e.stroke();
      }
      var Tn = s(23),
        Pn = { progress: 0 },
        An = { progress: void 0 };
      function En(e, t, s) {
        return "audio" === e
          ? (0, r.f)(
              1,
              "div",
              "Qj Qe",
              (0, r.b)(2, wn.a, { className: "Qk" }),
              2
            )
          : null == e
          ? null
          : (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Qe", s && "Qd"),
              [
                (0, r.b)(2, ue.c, { className: "Qi GK", jid: e }),
                (0, r.b)(2, pr.a, { className: "Qm Ql" }),
                (0, r.b)(2, pr.a, { className: "Ql" }),
              ],
              4
            );
      }
      function Rn(e) {
        var t,
          s = e.playbackRate;
        return (
          (t = "1x" === s ? 751 : "1.5x" === s ? 752 : 753),
          (0, r.f)(
            1,
            "div",
            "Qe",
            (0, r.f)(
              1,
              "div",
              "Qf",
              (0, r.b)(2, o.b, { l10n: t, className: "Qg" }),
              2
            ),
            2
          )
        );
      }
      var Gn = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.content !== e.content ||
                s.msg !== e.msg ||
                s.user !== e.user ||
                s.chatJid !== e.chatJid ||
                s.pttPlaybackRate !== e.pttPlaybackRate ||
                s.currentTime !== e.currentTime ||
                s.player !== e.player)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props;
            (0, Us.a)(e, t, s.msg, s.content, s.chatJid),
              "ready" === s.content.mediaStatus.type &&
                e.setLeftRightArrows(
                  () => {
                    t.dispatch({
                      type: "TOWARD_MEDIA",
                      commonMsgId: s.msg.id,
                      direction: "backward",
                      duration: s.content.duration,
                    });
                  },
                  () => {
                    t.dispatch({
                      type: "TOWARD_MEDIA",
                      commonMsgId: s.msg.id,
                      direction: "forward",
                      duration: s.content.duration,
                    });
                  }
                );
          }
          render() {
            var e = this.props,
              t = e.msg,
              s = e.content,
              n = e.user,
              a = e.player,
              i = e.currentTime,
              o = e.pttPlaybackRate,
              l = s.mediaStatus,
              c = s.isPtt,
              d = t.meta,
              h = d.fromMe,
              u = !!t.starred,
              p = (0, Oe.a)("Qb", h ? "Qc" : "Qh", !!u && "Qu"),
              v = !0 === h ? n.jid : d.author,
              g =
                null != d.ack
                  ? d.ack === Gs.a.PLAYED
                  : "ready" === l.type && l.played,
              b = null != a && "audio" === a.type && !a.paused,
              m = (function (e, t, s) {
                switch (t.type) {
                  case "idle":
                    var n;
                    return (
                      (n = e.fromMe
                        ? (0, Ds.k)(e.ack)
                          ? (0, r.b)(2, _r.a, { className: xn })
                          : (0, r.b)(2, Ir, { className: xn })
                        : (0, r.b)(2, xr.a, { className: xn })),
                      { spinner: Pn, icon: n }
                    );
                  case "pending":
                    return {
                      spinner: An,
                      icon: (0, r.b)(2, Lr, { className: xn }),
                    };
                  case "processing":
                    return {
                      spinner: { progress: t.progress },
                      icon: (0, r.b)(2, Lr, { className: xn }),
                    };
                  case "ready":
                    return null == s || s.paused
                      ? {
                          spinner: null,
                          icon: (0, r.b)(2, wr.a, { className: "Qp Qo" }),
                        }
                      : s.loading
                      ? {
                          spinner: An,
                          icon: (0, r.b)(2, Cn, { className: xn }),
                        }
                      : {
                          spinner: null,
                          icon: (0, r.b)(2, Cn, { className: xn }),
                        };
                  case "error":
                    return {
                      spinner: null,
                      icon: (0, r.b)(2, _r.a, { className: xn }),
                    };
                  default:
                    return (0, f.a)(t.type);
                }
              })(t.meta, l, a),
              S = b || i > 0 ? i : s.duration,
              y = i / (s.duration + 1);
            return (0, r.f)(
              1,
              "div",
              p,
              [
                (0, r.f)(
                  1,
                  "div",
                  "Qn",
                  [
                    null == m.spinner
                      ? null
                      : (0, r.b)(2, Cr.a, {
                          theme: "green",
                          progress: m.spinner.progress,
                          strokeWidth: 4,
                          className: "Qq",
                          backgroundCircle: !0,
                        }),
                    m.icon,
                  ],
                  0
                ),
                c
                  ? t.content.waveform && (0, Tn.a)("ptt_conversation_waveform")
                    ? (0, r.b)(2, _n, {
                        duration: S,
                        progress: y,
                        waveformData: t.content.waveform,
                      })
                    : (0, r.b)(2, yn, {
                        kind: "voice",
                        progress: y,
                        duration: S,
                        fromMe: !!h,
                        played: g,
                      })
                  : (0, r.b)(2, yn, {
                      kind: "audio",
                      progress: y,
                      duration: S,
                    }),
                u && !h && (0, r.b)(2, $s, { className: "Qs" }),
                !1,
                c && b
                  ? (0, r.b)(2, Rn, { playbackRate: o })
                  : En(c ? v : "audio", 0, g),
              ],
              0
            );
          }
        },
        Un = (0, i.c)(Gn, (e, t, s) => {
          var r,
            n,
            a = e.player,
            i = e.settings,
            o = s.msg.id;
          return (
            (null == (r = a.active) ? void 0 : r.commonMsgId) === o &&
              (n = a.active),
            Object.assign({}, s, {
              currentTime: a.currentTimes[o] || 0,
              player: n,
              pttPlaybackRate: i.pttPlaybackRate,
            })
          );
        }),
        Dn = s(217),
        jn = s(43),
        Bn = s(387),
        Vn = s(350),
        Fn = s(356),
        Wn = s(105),
        Kn = s(85);
      function zn(e, t) {
        return (0, qr.p)(e, {
          uri: (e) => (0, Wn.getChunkTable)().getFullContent(e),
          path: (e) => (0, Kn.i)(e),
        }).then((e) => (e ? (0, Dn.j)(e, t) : null));
      }
      function Hn(e, t) {
        return (0, Vt.a)(
          e,
          (function (e) {
            var t = {},
              s = "";
            e.firstName && ((t.givenName = [e.firstName]), (s += e.firstName)),
              e.lastName &&
                ((t.familyName = [e.lastName]),
                s && (s += " "),
                (s += e.lastName)),
              s && (t.name = [s]);
            var r = (0, Dn.c)(e);
            null != r && (t.tel = r.formattedNumber);
            var n = (e.emails || []).find((e) => e.value);
            return null != n && (t.email = n.value), t;
          })(t)
        );
      }
      function Jn(e, t) {
        return e.sendAndReceive("backend", "loadMsgContentVCards", {
          msgId: t,
        });
      }
      var Qn = "DS GK",
        Xn = "DU DS GK";
      function qn(e, t, s) {
        if (null != e)
          return (0, r.b)(2, ue.c, { jid: e, className: (0, Oe.a)(Qn, s) });
        if (null != t) {
          var n = t.startsWith(jn.a) ? t : jn.a + t;
          return (0, r.b)(2, te.a, {
            src: n,
            className: (0, Oe.a)(Qn, s),
            fallback: (0, r.b)(2, Bn.a, { className: (0, Oe.a)(Xn, s) }),
          });
        }
        return (0, r.b)(2, Bn.a, { className: (0, Oe.a)(Xn, s) });
      }
      function $n(e) {
        if (0 === e.contacts.length)
          return (
            __LOG__(4)`Trying to render empty vcard content`,
            SEND_LOGS("empty-vcard"),
            null
          );
        var t = e.contacts[0],
          s = t.jid,
          n = t.photo;
        return (0, r.f)(1, "div", "DR", qn(s, n, "DT"), 0);
      }
      var Yn = class extends h.b {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.jid !== e.jid ||
              s.ack !== e.ack ||
              s.fromMe !== e.fromMe ||
              s.msgId !== e.msgId ||
              s.selected !== e.selected ||
              s.content !== e.content ||
              s.appendSpaces !== e.appendSpaces ||
              s.children !== e.children ||
              s.contacts !== e.contacts)
          );
        }
        componentDidMount() {
          var e = this.props,
            t = e.backend,
            s = e.msgId,
            r = e.content;
          t.maybeCheckMsgMediaContent(s, r), super.componentDidMount();
        }
        addSoftKeys(e, t) {
          var s = this.props,
            n = s.content,
            a = s.contacts,
            i = s.msgId,
            o = s.fromMe,
            l = s.jid;
          if (n.isMMS && "ready" !== n.mediaStatus.type)
            (0, Dr.a)(e, null != o && o, n.mediaStatus, {
              id: i,
              chatJid: l,
              origin: "chat",
            });
          else {
            var c = n.total;
            if (1 === c) {
              var h = n.contacts[0].jid;
              if (null != h && (0, d.k)((0, d.c)(h, a)))
                e.setCenterLabel(833, () => {
                  (0, Vn.a)(t, h);
                });
              else {
                var u = (0, r.b)(2, Fn.a, { className: "DV q p" });
                if (n.isMMS) {
                  var p = n.mediaStatus;
                  "ready" === p.type &&
                    e.setCenterIcon(u, () => {
                      zn(p.ref, 1).then((e) => {
                        if (!e)
                          return (
                            t.markMediaContentAsDeleted(i),
                            void (0, y.e)({ text: 499 })
                          );
                        if (1 === e.length) {
                          var s = e[0];
                          Hn(t, s);
                        } else __LOG__(3)`No VCards file found`;
                      });
                    });
                } else
                  e.setCenterIcon(u, () => {
                    (function (e, t) {
                      return Jn(e, t).then((e) => {
                        if (e && 0 !== e.length) {
                          e.length > 1 &&
                            (__LOG__(
                              3
                            )`VCard: loaded more than one vcard when expecting only one`,
                            SEND_LOGS("more-vcards-loaded"));
                          var s = e[0];
                          return s ? (0, Dn.i)(s.vcard) : null;
                        }
                        __LOG__(3)`VCard msg ${t} was not found.`;
                      });
                    })(t, i).then((e) => {
                      e && Hn(t, e);
                    });
                  });
              }
            } else if (c > 1)
              if (n.isMMS) {
                var v = n.mediaStatus;
                "ready" === v.type &&
                  e.setCenterLabel(834, () => {
                    t.openScreen("VCARD_CONTACTS", {
                      isMMS: !0,
                      msgId: i,
                      path: v.ref,
                    });
                  });
              } else
                e.setCenterLabel(834, () => {
                  t.openScreen("VCARD_CONTACTS", { msgId: i });
                });
          }
        }
        render() {
          var e = this.props;
          return (0, r.f)(
            1,
            "div",
            "DP",
            [
              $n(e.content),
              (0, r.f)(
                1,
                "div",
                null,
                [
                  (0, or.c)(e.content, Zs.a, !1),
                  Zn(e.content),
                  (0, o.c)(e.appendSpaces),
                ],
                0
              ),
            ],
            0
          );
        }
      };
      function Zn(e) {
        if (1 === e.total && null != e.contacts[0].bizName)
          return (0, r.b)(2, o.b, { l10n: 961, className: "DQ GG GC" });
      }
      var ea = (0, i.c)(Yn, (e, t, s) =>
          Object.assign({}, s, { contacts: e.contacts, backend: t })
        ),
        ta = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props.content.url;
            s
              ? e.setCenterLabel(797, () => {
                  (0, Ls.a)(t, s);
                })
              : e.setCenterLabel(817, () => {
                  (0, Ls.a)(t, (0, Ns.d)(this.props.content));
                });
          }
          render() {
            var e = this.props,
              t = e.content,
              s = t.name,
              n = t.address,
              a = t.url,
              i = n ? "Px" : "Pv",
              o = s ? "Py" : "Pw",
              l = n ? null : e.msg,
              c = s
                ? (0, r.b)(2, le.a, {
                    textClassName: "Pz GG GC",
                    maxLineClassName: i,
                    truncated: e.truncated,
                    whitespaceMsg: l,
                    children: a ? (0, r.f)(1, "a", null, s, 0, { href: a }) : s,
                  })
                : null,
              d = n
                ? (0, r.b)(2, le.a, {
                    textClassName: "QA GH GC",
                    maxLineClassName: o,
                    truncated: e.truncated,
                    whitespaceMsg: e.msg,
                    children:
                      a && !c ? (0, r.f)(1, "a", null, s, 0, { href: n }) : n,
                  })
                : null;
            return (0, r.f)(1, "div", null, [c, d], 0);
          }
        },
        sa = "RA",
        ra = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(
              32,
              "g",
              null,
              [
                (0, r.f)(32, "path", null, null, 1, {
                  fill: "#F34646",
                  d:
                    "M1.239 0C.542 0 0 .542 0 1.239V22.76C0 23.458.542 24 1.239 24H18.89c.697 0 1.239-.542 1.239-1.24V6.272L13.859 0H1.238z",
                }),
                (0, r.f)(32, "path", null, null, 1, {
                  fill: "#FFF",
                  d:
                    "M10.542 11c.48 0 .91.109 1.29.325.38.217.675.525.888.924.212.4.32.853.32 1.361v.252c0 .508-.105.96-.314 1.354a2.25 2.25 0 01-.885.921c-.38.218-.81.328-1.288.33H8.86V11h1.682zm6.876 0v.913h-2.434v1.411h2.163v.91h-2.163v2.233h-1.126V11h3.56zM6.032 11c.411 0 .772.075 1.083.225.313.151.552.364.72.64a1.8 1.8 0 01.251.945c0 .536-.183.958-.55 1.267-.367.31-.874.465-1.522.465h-.988v1.925H3.9V11h2.132zm4.51.913h-.556v3.65h.545c.44 0 .778-.144 1.01-.432.232-.289.352-.7.356-1.236v-.289c0-.556-.115-.976-.345-1.263-.23-.286-.567-.43-1.01-.43zm-4.484 0H5.026v1.715h1.006c.298 0 .526-.07.682-.21.156-.14.234-.34.234-.6 0-.268-.079-.484-.236-.65-.158-.165-.375-.25-.654-.255z",
                }),
                (0, r.f)(32, "path", null, null, 1, {
                  fill: "#F77E7E",
                  d: "M14 0v4.815A1.17 1.17 0 0015.185 6H20l-6-6z",
                }),
              ],
              4,
              { fill: "none", "fill-rule": "evenodd" }
            ),
            2,
            { viewBox: "0 0 20 24" }
          );
        },
        na = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#60aaf6",
                d:
                  "M1.6 0C.7 0 0 .7 0 1.6v27.8c0 .9.7 1.6 1.6 1.6h22.8c.9 0 1.6-.7 1.6-1.6V8.1L17.9 0H1.6z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#90c4f9",
                d: "M17.9 0v6.5c0 .9.7 1.6 1.6 1.6H26L17.9 0z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d:
                  "M6 14.7V13h13.3v1.7H6zm0 4V17h13.3v1.7H6zm0 3.9V21h9.9v1.7H6z",
              }),
            ],
            4,
            { x: "0", y: "0", viewBox: "0 0 26 31" }
          );
        },
        aa = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#79909b",
                d:
                  "M1.6 0C.7 0 0 .7 0 1.6v27.8c0 .9.7 1.6 1.6 1.6h22.8c.9 0 1.6-.7 1.6-1.6V8.1L17.9 0H1.6z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#a1b2b9",
                d: "M17.9 0v6.5c0 .9.7 1.6 1.6 1.6H26L17.9 0z",
              }),
            ],
            4,
            { x: "0", y: "0", viewBox: "0 0 26 31" }
          );
        },
        ia = D.n > D.l ? 34 : D.g / 2,
        oa = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.UA = null), e;
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.content !== e.content ||
                s.chatJid !== e.chatJid)
            );
          }
          componentWillUnmount() {
            this.UA && (this.UA = null), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s,
              r = this.props.content,
              n = this.props,
              a = n.msg,
              i = n.chatJid,
              o = r.mediaStatus;
            "ready" !== o.type
              ? (0, Dr.a)(e, null != (s = a.meta.fromMe) && s, o, {
                  id: a.id,
                  chatJid: i,
                  origin: "chat",
                })
              : e.setCenterLabel(797, () => {
                  if (null == this.UA) {
                    var e = Qs(t, r, a.id).then(() => {
                      this.UA === e && (this.UA = null);
                    });
                    this.UA = e;
                  }
                });
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.msg,
              n = e.backend,
              a = "ready" === t.mediaStatus.type,
              i = (0, ir.b)(t.mimetype),
              o = (0, r.b)(2, da, {
                content: t,
                documentType: i,
                isReady: a,
                meta: s.meta,
                hasPreview: null != t.preview,
              }),
              l = (0, r.b)(2, ua, {
                fileName: t.fileName,
                size: t.size,
                pages: t.pages,
              });
            return (0, r.f)(
              1,
              "div",
              "Qv",
              [
                (0, r.b)(2, ca, {
                  msgId: s.id,
                  fromMe: !!s.meta.fromMe,
                  content: t,
                  backend: n,
                }),
                o,
                l,
              ],
              0
            );
          }
        },
        la = (0, i.b)(oa, (e, t) => Object.assign({}, t, { backend: e })),
        ca = class extends n.a {
          componentWillMount() {
            var e,
              t,
              s,
              r,
              n = this.props;
            (e = n.msgId),
              (t = n.fromMe),
              (s = n.content),
              (r = n.backend),
              t ||
                null == s.mmsThumb ||
                (null != s.preview && (0, rr.s)(s.preview)) ||
                (s.mmsThumb.lastThumbDownloadAttempt &&
                  (0, Lt.n)(s.mmsThumb.lastThumbDownloadAttempt, 300)) ||
                !(0, Tn.a)("download_document_thumb_mms_enabled") ||
                r
                  .sendAndReceive("backend", "getMediaMsglikelyOnServerFrom", {
                    msgId: e,
                  })
                  .then((t) => {
                    if (t) {
                      var s = t.mediaId,
                        n = t.likelyOnServerFrom;
                      (0, Lt.n)(n, St.B) &&
                        (__LOG__(
                          2
                        )`maybeDownloadMmsThumb try to download mms thumb for ${e}`,
                        r.downloadMediaThumb(e, s));
                    }
                  });
          }
          render() {
            var e = this.props.content;
            if (!e.preview) return null;
            var t = { width: D.i + "px", height: ia + "px" };
            return (0, r.b)(2, mr.g, {
              previewId: e.preview,
              bgColor: e.bg,
              isReady: !0,
              style: t,
              previewPosition: "top",
            });
          }
        };
      function da(e) {
        var t;
        switch (e.documentType) {
          case "pdf":
            t = (0, r.b)(2, ra, { className: sa });
            break;
          case "docx":
            t = (0, r.b)(2, na, { className: sa });
            break;
          default:
            t = (0, r.b)(2, aa, { className: sa });
        }
        var s = (0, r.b)(2, Er, {
          mediaStatus: e.content.mediaStatus,
          placement: "documentFileName",
          meta: e.meta,
          size: void 0,
          onReady: void 0,
        });
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Qw", e.isReady && "Qy", !e.hasPreview && "Qx"),
          [
            t,
            (0, r.f)(
              1,
              "div",
              "Qz GG GC GI GE",
              (0, ir.a)(e.content, "shouldExcludeFileExtension"),
              0
            ),
            s,
          ],
          0
        );
      }
      function ha(e) {
        return (0, r.f)(1, "span", "RB", "â€¢", 0, null, e);
      }
      function ua(e) {
        var t = [],
          s =
            e.fileName &&
            (function (e) {
              var t = e.split(".");
              return t.length >= 2 ? t[t.length - 1].toUpperCase() : null;
            })(e.fileName);
        return (
          s &&
            (t.push((0, r.f)(1, "span", null, s, 0, null, "documentType")),
            t.push(ha("documentTypeSeparator"))),
          null != e.pages &&
            (t.push((0, r.b)(2, o.b, { l10n: [e.pages, 173] }, "pages")),
            t.push(ha("pagesSeparator"))),
          t.push(
            (0, r.b)(2, Le.a, { className: "RD", size: e.size }, "fileSize")
          ),
          (0, r.f)(1, "div", "RC GH GC GI GE", t, 0)
        );
      }
      var pa = s(35),
        va = s(492),
        fa = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "m6.07.931 4.31 7.054A.667.667 0 019.81 9H1.19a.667.667 0 01-.57-1.015L4.93.931a.667.667 0 011.14 0zM6 6V3H5v3h1zM5 7v1h1V7H5z",
            }),
            2,
            { viewBox: "0 0 11 10" }
          );
        };
      function ga() {
        return (0, r.f)(
          1,
          "div",
          "HT",
          [
            (0, r.b)(2, fa, { className: "HV" }),
            (0, r.b)(2, o.b, { l10n: 179, className: "HU GH GC" }),
          ],
          4
        );
      }
      var ba = s(367),
        ma = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.content,
              n = s.msgId,
              a = r.matchedText,
              i = (0, va.a)(a);
            i
              ? e.setCenterLabel(801, () => {
                  t.dispatch({
                    type: "PLAY_YOUTUBE_VIDEO",
                    videoId: i,
                    msgId: n,
                  });
                })
              : e.setCenterLabel(797, () => {
                  var e,
                    s = this.props.content,
                    r = s.suspiciousCharacters,
                    n = !!(null == (e = s.suspiciousCharacters)
                      ? void 0
                      : e.size);
                  r && n ? (0, ba.a)(t, s.matchedText, r) : (0, Ls.a)(t, a);
                });
          }
          render() {
            var e = this.props,
              t = e.content,
              s = t.preview,
              n = t.title,
              a = t.description,
              i = t.matchedText,
              o = t.bg,
              l = t.suspiciousCharacters,
              c = !!(null == l ? void 0 : l.size),
              d =
                null == s || c
                  ? null
                  : (0, r.b)(2, mr.f, {
                      previewId: s,
                      className: "EJ",
                      bgColor: o,
                    }),
              h = c ? (0, r.b)(2, ga) : null;
            return (0, r.c)(
              [
                h,
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("EG", e.fromMe && "EI"),
                  (0, r.b)(2, ya, {
                    truncated: e.truncated,
                    matchedText: i,
                    description: a,
                    title: n,
                    hasSuspiciousChars: c,
                    children: d,
                  }),
                  2
                ),
              ],
              0
            );
          }
        };
      function Sa(e) {
        var t = e.content,
          s = t.imgBlob,
          n = t.title,
          a = t.description,
          i = t.matchedText;
        return (0, r.f)(
          1,
          "div",
          "EH",
          (0, r.b)(2, ya, {
            truncated: !0,
            matchedText: i,
            description: a,
            title: n,
            children:
              null != s && (0, r.b)(2, te.b, { blob: s, className: "EJ" }),
          }),
          2
        );
      }
      function ya(e) {
        var t = e.matchedText,
          s = e.description,
          n = e.title,
          a = e.hasSuspiciousChars,
          i = (0, pa.e)(t),
          o = s ? "EM" : "EK",
          l = n ? "EN" : "EL",
          d = (0, r.f)(
            1,
            "div",
            null,
            [
              n
                ? (0, r.b)(2, le.a, {
                    textClassName: "EO GG GC",
                    maxLineClassName: o,
                    truncated: e.truncated,
                    children: (0, c.b)(n),
                  })
                : null,
              s && !a
                ? (0, r.b)(2, le.a, {
                    textClassName: "EP GH GC",
                    maxLineClassName: l,
                    truncated: e.truncated,
                    children: (0, c.b)(s),
                  })
                : null,
              i ? (0, r.f)(1, "div", "EQ GI GE", i, 0) : null,
            ],
            0
          );
        return (0, r.f)(
          1,
          "div",
          "EF",
          [e.children, (0, r.f)(1, "div", "ER", d, 0)],
          0
        );
      }
      function ka(e) {
        var t,
          s = e.text,
          n = e.whitespaceMsg,
          a = e.formatting,
          i = (e.contacts, e.user, a.styles.length);
        return (
          1 === i ? (t = "Sm") : 2 === i ? (t = "Sn") : 3 === i && (t = "So"),
          (0, r.f)(1, "div", t, [(0, c.d)(s, a), (0, o.c)((0, Zs.d)(n))], 0)
        );
      }
      var Ca = s.p + "bb2bccc0d99c7b288c9cf014bd47a108.png";
      function wa(e) {
        var t = e.fromMe,
          s = e.extraIcons,
          n = s.star && s.kept ? "Pt" : s.star || s.kept ? "Pr" : null;
        return (0, r.f)(1, "img", (0, Oe.a)("Pp", t && "Ps", n), null, 1, {
          src: Ca,
        });
      }
      var xa = class extends h.b {
          addSoftKeys(e, t) {
            var s,
              n = (0, Rs.b)(this.props.msg);
            if (
              n &&
              n.parsedPhoneNumbers &&
              1 === n.parsedPhoneNumbers.length &&
              null != (s = n.parsedPhoneNumbers[0].absoluteEndWithoutMarkup) &&
              s < St.E
            ) {
              var a = n.parsedPhoneNumbers[0].phoneNumber,
                i = (0, ee.B)(a),
                o = (0, d.c)(i, this.props.contacts);
              (0, d.k)(o)
                ? e.setCenterLabel(833, () => {
                    (0, Vn.a)(t, o.jid);
                  })
                : e.setCenterIcon(
                    (0, r.b)(2, Fn.a, { className: "Pu q p" }),
                    () => {
                      (0, Vt.a)(t, { tel: (0, mt.c)(a) });
                    }
                  );
            } else
              e.setCenterLabel(781, () => {
                t.openMsgInfo(this.props.msg);
              });
          }
          render() {
            var e = this.props;
            if (
              (function (e) {
                return "â¤" === e;
              })(e.text)
            )
              return (0, r.b)(2, wa, { fromMe: e.fromMe, extraIcons: e.icons });
            if (
              e.formatting &&
              e.formatting.allEmojis &&
              e.formatting.styles.length < 4
            ) {
              var t = e.truncated ? (0, br.a)(e.text) : e.text;
              return (0, r.b)(2, ka, {
                text: t,
                whitespaceMsg: e.msg,
                formatting: e.formatting,
                contacts: e.contacts,
                user: e.user,
              });
            }
            var s = e.truncated ? (0, br.a)(e.text) : e.text;
            return (0, r.b)(2, le.a, {
              maxLineClassName: "Po",
              truncated: e.truncated,
              whitespaceMsg: e.msg,
              isUsingMoreLabel: !0,
              onMount: e.onOverflowMultiLineText,
              children: (0, c.d)(s, e.formatting),
            });
          }
        },
        Ia = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(781, () => {
              t.openMsgInfo(this.props.msg);
            });
          }
          render() {
            var e,
              t,
              s = this.props;
            if (s.title) {
              var n = s.title ? `${s.title}${s.content}` : s.content;
              (e = s.truncated ? (0, br.b)(n, s.title.length) : s.content),
                (t = (0, r.f)(1, "strong", "Pm", s.title, 0));
            } else e = s.truncated ? (0, br.a)(s.content) : s.content;
            var a = s.footer
              ? (0, r.f)(1, "span", "Pn GG GC", s.footer, 0)
              : null;
            return (0, r.b)(2, le.a, {
              maxLineClassName: "Pl",
              truncated: s.truncated,
              whitespaceMsg: s.msg,
              isUsingMoreLabel: !0,
              children: [t, (0, c.d)(e, s.formatting), a],
            });
          }
        },
        La = "Ph",
        _a = "Pi GF GC",
        Na = class extends n.b {
          render() {
            var e = this.props,
              t = e.button,
              s = e.buttonIndex,
              n = e.selected,
              a = e.msg;
            switch (t.type) {
              case "url":
                return (0, r.b)(2, Oa, {
                  selected: n,
                  msg: a,
                  displayText: t.displayText,
                  url: t.url,
                  buttonIndex: s,
                });
              case "quick_reply":
                return (0, r.b)(2, Pa, {
                  selected: n,
                  msg: a,
                  displayText: t.displayText,
                  pressed: t.pressed,
                  buttonIndex: s,
                });
              case "call":
                return (0, r.b)(2, Ta, {
                  selected: n,
                  msg: a,
                  displayText: t.displayText,
                  phoneNumber: t.phoneNumber,
                  buttonIndex: s,
                });
              default:
                return (0, f.a)(t.type);
            }
          }
        };
      function Ma(e) {
        return e.length <= 96 ? e : `${e.substr(0, 64)}â€¦${e.substr(-32)}`;
      }
      var Oa = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              var e = this.props.url;
              (0, y.f)({
                text: [Ma(e), 139],
                confirm: 767,
                onConfirm: () => {
                  (0, Ls.a)(t, e);
                },
              });
            });
          }
          render() {
            var e = this.props,
              t = e.displayText,
              s = e.url,
              n = (0, br.c)(t || s);
            return (0, r.f)(1, "div", La, (0, r.f)(1, "span", _a, n, 0), 2);
          }
        },
        Ta = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterIcon((0, r.b)(2, Te, { className: "Pk q p" }), () => {
              (0, A.d)(t, this.props.phoneNumber);
            });
          }
          render() {
            var e = this.props,
              t = e.displayText,
              s = e.phoneNumber,
              n = (0, br.c)(t || s);
            return (0, r.f)(1, "div", La, (0, r.f)(1, "span", _a, n, 0), 2);
          }
        },
        Pa = class extends h.b {
          addSoftKeys(e, t) {
            this.props.pressed ||
              e.setCenterLabel(807, () => {
                var e = this.props,
                  s = e.msg,
                  r = e.buttonIndex;
                t.quickReplyToHsm(s.id, r);
              });
          }
          render() {
            var e = this.props,
              t = e.displayText,
              s = e.pressed,
              n = (0, br.c)(t);
            return (0, r.f)(
              1,
              "div",
              La,
              (0, r.f)(1, "span", (0, Oe.a)(_a, s && "Pj"), n, 0),
              2
            );
          }
        },
        Aa = "Se GH GC GI GE";
      function Ea(e) {
        if ((0, Lt.p)(e)) {
          var t = Math.floor((0, Lt.z)(e) / Lt.d);
          return t >= 12
            ? [Math.floor(t / 24) + 1, 147]
            : [(0, xt.i)(e, "time"), 148];
        }
        return 462;
      }
      function Ra(e, t, s) {
        var r,
          n = null == (r = e[t]) ? void 0 : r[s.groupJid];
        return null != n && n >= s.inviteExpiration;
      }
      var Ga = (0, i.c)(
        function (e) {
          var t = e.expires,
            s = e.isRevoked,
            n = s || !(0, Lt.p)(t),
            a = s
              ? (0, r.b)(2, o.b, { l10n: 462 })
              : (0, r.b)(2, o.b, { l10n: Ea(t) });
          return (0, r.f)(1, "div", (0, Oe.a)(Aa, n && "Sf"), a, 0);
        },
        (e, t, s) => {
          var r;
          return (
            (r = s.fromMe
              ? e.sentGroupInviteRevokes
              : e.receivedGroupInviteRevokes),
            {
              expires: s.content.inviteExpiration,
              isRevoked: Ra(r, s.userJid, s.content),
            }
          );
        }
      );
      function Ua(e) {
        var t = e.className;
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)(t, Aa, "Sf"),
          (0, r.b)(2, o.b, { l10n: 462 }),
          2
        );
      }
      var Da = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(
              32,
              "g",
              null,
              [
                (0, r.f)(32, "path", null, null, 1, {
                  d:
                    "M6.994 1.167A5.83 5.83 0 001.167 7a5.83 5.83 0 005.827 5.833A5.837 5.837 0 0012.834 7a5.837 5.837 0 00-5.84-5.833zM7 11.667A4.665 4.665 0 012.333 7 4.665 4.665 0 017 2.333 4.665 4.665 0 0111.667 7 4.665 4.665 0 017 11.667z",
                }),
                (0, r.f)(32, "path", null, null, 1, {
                  d: "M7.292 4.083h-.875v3.5l3.062 1.838.438-.718-2.625-1.557z",
                }),
              ],
              4,
              { fill: "#000", "fill-rule": "nonzero" }
            ),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        ja = s(174),
        Ba = s(378),
        Va = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Us = !1),
              (this.onMultilineMount = (e) => {
                var t = e.overflowing,
                  s = this.props,
                  r = s.backend,
                  n = s.authorJid,
                  a = s.extended,
                  i = s.forceShowExtend,
                  o = s.content,
                  l = s.groupInvite;
                !t || a || i || Wa(r, n, o, l, !0);
              }),
              e
            );
          }
          componentDidMount() {
            var e = this.props,
              t = e.backend,
              s = e.groupInvite,
              r = e.content,
              n = e.authorJid;
            (this.Us = !0),
              s
                ? (0, ja.a)(t, s.group)
                : t
                    .sendAndReceive("backend", "queryAddRequest", {
                      group: r.groupJid,
                      code: r.inviteCode,
                      expiration: r.inviteExpiration,
                      admin: n,
                    })
                    .then((e) => {
                      if (this.Us)
                        return e.error
                          ? this.Ut(e)
                          : void Wa(t, n, r, e.result, !1);
                    });
          }
          componentWillUnmount() {
            this.Us = !1;
          }
          Ut(e) {
            var t,
              s = e.error;
            switch (s.reason) {
              case "already-in-group":
                return void this.Uu(s.extra);
              case "group-not-found":
                t = 407;
                break;
              case "too-many-participants":
                t = 4;
                break;
              case "malformed":
                t = 396;
                break;
              default:
                s.reason, (t = 396);
            }
            (0, y.a)(), (0, pe.a)(t);
          }
          Uu(e) {
            var t = this.props.backend;
            (0, y.a)(), (0, Ne.a)(t, e, "newest"), (0, pe.a)(390);
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.authorJid,
              n = e.contacts,
              a = e.groupInvite,
              i = e.extended;
            if (!a) return (0, r.b)(2, lr.a, { type: "dialog" });
            var o = (0, r.b)(2, ue.c, {
                jid: a.group,
                type: "thumb",
                addRequest: {
                  code: t.inviteCode,
                  expiration: t.inviteExpiration,
                  admin: s,
                },
              }),
              l = (0, r.f)(
                1,
                "div",
                "Sa",
                [
                  (0, r.b)(2, Da, { className: "Sb" }),
                  (0, r.b)(2, Ga, { fromMe: !1, userJid: s, content: t }),
                ],
                4
              ),
              d = (0, r.c)(
                [
                  a.description
                    ? (0, r.b)(2, le.a, {
                        textClassName: "SY GH GC",
                        maxLineClassName: "SZ",
                        truncated: !i,
                        onMount: this.onMultilineMount,
                        children: (0, c.b)(a.description),
                      })
                    : null,
                  l,
                ],
                0
              );
            return (0, r.b)(2, Ba.a, {
              avatar: o,
              contacts: n,
              extended: i,
              participants: a.participantJids,
              groupSize: a.size,
              includeYou: !1,
              subtitle: d,
              title: a.title,
            });
          }
        },
        Fa = (0, i.c)(Va, (e, t, s) => ({
          backend: t,
          authorJid: s.authorJid,
          content: s.content,
          groupInvite: s.groupInvite,
          contacts: e.contacts,
          forceShowExtend: s.forceShowExtend,
          extended: s.extended,
        }));
      function Wa(e, t, s, n, a, i) {
        if (n) {
          var o = n.size,
            l = n.participantJids,
            c = o - l.length > 0 ? 1 : 0,
            d = l.length + c,
            h = !i && (a || d > St.j),
            u = h
              ? () => {
                  Wa(e, t, s, n, !0, !0);
                }
              : void 0;
          (0, y.h)(
            {
              title: 395,
              right: 783,
              onSoftRight: () =>
                e.acceptGroupAddRequest(
                  s.groupJid,
                  s.inviteCode,
                  s.inviteExpiration,
                  t
                ),
              center: h ? 790 : void 0,
              onSoftCenter: u,
              left: 761,
              onSoftLeft: "CLOSE",
              onBack: "CLOSE",
            },
            (0, r.b)(2, Fa, {
              authorJid: t,
              content: s,
              groupInvite: n,
              forceShowExtend: a,
              extended: i || !1,
            })
          );
        } else
          (0, y.h)(
            { title: 395, left: 761, onSoftLeft: "CLOSE", onBack: "CLOSE" },
            (0, r.b)(2, Fa, {
              authorJid: t,
              content: s,
              groupInvite: n,
              forceShowExtend: a,
              extended: i || !1,
            })
          );
      }
      var Ka = s(179),
        za = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.onMultilineMount = (e) => {
                var t = e.overflowing,
                  s = this.props,
                  r = s.backend,
                  n = s.userJid,
                  a = s.extended,
                  i = s.forceShowExtend,
                  o = s.content,
                  l = s.contacts,
                  c = s.group;
                !t || a || i || Ja(r, n, c, o, l, !0);
              }),
              e
            );
          }
          render() {
            var e = this.props,
              t = e.userJid,
              s = e.content,
              n = e.group,
              a = e.contacts,
              i = e.extended,
              o = (0, r.b)(2, ue.c, { jid: n.jid, type: "thumb" }),
              l = (0, r.f)(
                1,
                "div",
                "SV",
                [
                  (0, r.b)(2, Da, { className: "SW" }),
                  (0, r.b)(2, Ga, { fromMe: !0, userJid: t, content: s }),
                ],
                4
              ),
              d = (0, r.c)(
                [
                  n.groupInfo.description
                    ? (0, r.b)(2, le.a, {
                        textClassName: "ST GH GC",
                        maxLineClassName: "SU",
                        truncated: !i,
                        onMount: this.onMultilineMount,
                        children: (0, c.b)(n.groupInfo.description),
                      })
                    : null,
                  l,
                ],
                0
              ),
              h = n.groupInfo.participants.length + 1;
            return (0, r.b)(2, Ba.a, {
              avatar: o,
              contacts: a,
              extended: i,
              participants: n.groupInfo.participants,
              groupSize: h,
              includeYou: !0,
              subtitle: d,
              title: n.groupInfo.title,
            });
          }
        },
        Ha = (0, i.c)(za, (e, t, s) => ({
          backend: t,
          userJid: s.userJid,
          content: s.content,
          group: s.group,
          contacts: e.contacts,
          forceShowExtend: s.forceShowExtend,
          extended: s.extended,
        }));
      function Ja(e, t, s, n, a, i, o) {
        var l = s.groupInfo.participants,
          c = l.some((e) => {
            var t = a[e];
            return null == t || null == t.phonebookPhone;
          })
            ? 1
            : 0,
          d = l.length + c + 1,
          h = !o && (i || d > St.j),
          u = h
            ? () => {
                Ja(e, t, s, n, a, !0, !0);
              }
            : void 0,
          p = { jid: t, code: n.inviteCode, expiration: n.inviteExpiration };
        (0, y.h)(
          {
            title: 395,
            right: 461,
            onSoftRight: () => e.revokeGroupInvitation(n.groupJid, p),
            center: h ? 790 : void 0,
            onSoftCenter: u,
            left: 761,
            onSoftLeft: "CLOSE",
            onBack: "CLOSE",
          },
          (0, r.b)(2, Ha, {
            userJid: t,
            group: s,
            content: n,
            forceShowExtend: i,
            extended: o || !1,
          })
        );
      }
      var Qa = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.fromMe !== e.fromMe ||
                s.content !== e.content ||
                s.chatJid !== e.chatJid ||
                s.userJid !== e.userJid ||
                s.receivedGroupInviteRevokes !== e.receivedGroupInviteRevokes ||
                s.sentGroupInviteRevokes !== e.sentGroupInviteRevokes ||
                s.contacts !== e.contacts ||
                s.group !== e.group)
            );
          }
          addSoftKeys(e, t) {
            ei(e, t, this.props, !1);
          }
          Tz() {
            return null != this.props.content.caption
              ? null
              : Ya(this.props)
              ? (0, r.b)(2, Ua, { className: "SD" })
              : null;
          }
          render() {
            var e = this.props.content,
              t = e.preview,
              s = e.groupName;
            return (0, r.c)(
              [
                (0, r.f)(
                  1,
                  "div",
                  "Ry",
                  [
                    (0, r.f)(
                      1,
                      "div",
                      "Rz GK",
                      null == t
                        ? (0, ue.a)()
                        : (0, r.b)(2, mr.f, { previewId: t }),
                      0
                    ),
                    (0, r.f)(
                      1,
                      "div",
                      "SA",
                      [
                        (0, r.f)(1, "div", "SB GF GC", (0, c.b)(s), 0),
                        (0, r.f)(
                          1,
                          "div",
                          "SC GH GC",
                          (0, r.b)(2, o.b, { l10n: 465 }),
                          2
                        ),
                      ],
                      4
                    ),
                  ],
                  4
                ),
                this.Tz(),
              ],
              0
            );
          }
        },
        Xa = (0, i.f)(
          Qa,
          (e, t) =>
            Object.assign({}, t, {
              chats: e.chatlist.chats,
              contacts: e.contacts,
              receivedGroupInviteRevokes: e.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: e.sentGroupInviteRevokes,
            }),
          (e) => {
            var t = e.chats,
              s = t[e.chatId],
              r = s ? (0, ee.q)(s.jid) : null;
            if (null == r) return null;
            var n = (0, Ka.f)(t, e.content.groupJid);
            return {
              selected: e.selected,
              content: e.content,
              fromMe: e.fromMe,
              msg: e.msg,
              chatJid: s.jid,
              userJid: r,
              contacts: e.contacts,
              group: n,
              receivedGroupInviteRevokes: e.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: e.sentGroupInviteRevokes,
            };
          }
        ),
        qa = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { overflow: !1 }),
              (this.overflowMultiLineText = (e) => {
                this.setState({ overflow: e.overflowing });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.msg !== e.msg ||
                  s.fromMe !== e.fromMe ||
                  s.content !== e.content ||
                  s.caption !== e.caption ||
                  s.formatting !== e.formatting ||
                  s.truncated !== e.truncated ||
                  s.icons !== e.icons ||
                  s.user !== e.user ||
                  s.chatJid !== e.chatJid ||
                  s.userJid !== e.userJid ||
                  s.receivedGroupInviteRevokes !==
                    e.receivedGroupInviteRevokes ||
                  s.sentGroupInviteRevokes !== e.sentGroupInviteRevokes ||
                  s.contacts !== e.contacts ||
                  s.group !== e.group)) ||
              (r !== t && r.overflow !== t.overflow)
            );
          }
          addSoftKeys(e, t) {
            ei(e, t, this.props, this.state.overflow);
          }
          renderExpiration() {
            return Ya(this.props) ? (0, r.b)(2, Ua, { className: "SD" }) : null;
          }
          render() {
            var e = this.props;
            return (0, r.c)(
              [
                (0, r.b)(2, xa, {
                  selected: !1,
                  msg: e.msg,
                  text: e.caption,
                  formatting: e.formatting,
                  truncated: e.truncated,
                  icons: e.icons,
                  fromMe: e.fromMe,
                  contacts: e.contacts,
                  user: e.user,
                  onOverflowMultiLineText: this.overflowMultiLineText,
                }),
                this.renderExpiration(),
              ],
              0
            );
          }
        },
        $a = (0, i.f)(
          qa,
          (e, t) =>
            Object.assign({}, t, {
              chats: e.chatlist.chats,
              receivedGroupInviteRevokes: e.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: e.sentGroupInviteRevokes,
              contacts: e.contacts,
            }),
          (e) => {
            var t = e.chats,
              s = t[e.chatId],
              r = (0, ee.q)(s.jid);
            if (null == r) return null;
            var n = (0, Ka.f)(t, e.content.groupJid);
            return {
              selected: e.selected,
              content: e.content,
              fromMe: e.fromMe,
              msg: e.msg,
              caption: e.caption,
              formatting: e.formatting,
              truncated: e.truncated,
              icons: e.icons,
              user: e.user,
              chatJid: s.jid,
              userJid: r,
              contacts: e.contacts,
              receivedGroupInviteRevokes: e.receivedGroupInviteRevokes,
              sentGroupInviteRevokes: e.sentGroupInviteRevokes,
              group: n,
            };
          }
        );
      function Ya(e) {
        var t = !!e.msg.meta.fromMe,
          s = t ? (0, ee.q)(e.chatJid) : e.msg.meta.author;
        return s
          ? Ra(
              t ? e.sentGroupInviteRevokes : e.receivedGroupInviteRevokes,
              s,
              e.content
            ) || !(0, Lt.p)(e.content.inviteExpiration)
          : (__LOG__(
              4
            )`Try to render group invite for ${e.msg.id} without associated user`,
            SEND_LOGS("group-invite-no-user"),
            !1);
      }
      function Za(e, t, s) {
        e.setCenterLabel(781, () => {
          t.openMsgInfo(s.msg);
        });
      }
      function ei(e, t, s, r) {
        var n = s.fromMe,
          a = s.content,
          i = s.userJid,
          o = s.sentGroupInviteRevokes,
          l = s.receivedGroupInviteRevokes;
        if (n) {
          if (!Ra(o, i, a) && (0, Lt.p)(a.inviteExpiration)) {
            var c = s.group;
            r || !c
              ? Za(e, t, s)
              : (function (e, t, s, r) {
                  e.setCenterLabel(833, () => {
                    Ja(t, r.userJid, s, r.content, r.contacts, !1);
                  });
                })(e, t, c, s);
          }
        } else
          !Ra(l, i, a) &&
            (0, Lt.p)(a.inviteExpiration) &&
            (r
              ? Za(e, t, s)
              : (function (e, t, s) {
                  e.setCenterLabel(833, () => {
                    Wa(t, s.userJid, s.content, void 0, !1);
                  });
                })(e, t, s));
      }
      var ti,
        si,
        ri = "Op",
        ni = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M11.168 4.509c0-.515.695-.772 1.1-.409l4.809 4.306a.644.576 0 010 .815l-4.809 4.305a.644.576 0 01-1.1-.408v-1.944c-4.053 0-7.023 1.035-9.23 3.28-.196.199-.559.03-.48-.224 1.138-3.68 3.918-7.118 9.71-7.859z",
            }),
            2,
            { viewBox: "0 0 18 18" }
          );
        },
        ai = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              "fill-rule": "nonzero",
              d:
                "M10.168 1.509c0-.515.695-.772 1.1-.409l4.809 4.306c.12.108.189.255.189.408a.547.547 0 01-.189.407l-4.809 4.305a.7.7 0 01-.703.125c-.24-.09-.398-.3-.397-.533V8.174c-4.053 0-7.023 1.035-9.23 3.28-.196.199-.559.03-.48-.224 1.138-3.68 3.918-7.118 9.71-7.859V1.509zm3.836 7.411 3.015-2.699a.547.547 0 00.189-.407c0-.153-.068-.3-.19-.408l-3.014-2.7V1.508c0-.515.695-.771 1.1-.408l4.707 4.306a.57.57 0 01.189.408.57.57 0 01-.189.407l-4.707 4.305a.7.7 0 01-.703.125c-.24-.09-.398-.3-.397-.533V8.92z",
            }),
            2,
            { viewBox: "0 0 21 12" }
          );
        },
        ii = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "circle", null, null, 1, {
                cx: "5",
                cy: "5",
                r: "5",
                fill: "#000",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#FFF",
                d:
                  "M4.973 8.172a.649.649 0 01-.649-.649V4.766a.649.649 0 011.298 0v2.757c0 .358-.29.649-.649.649zm-.708-5.547a.73.73 0 01.197-.527c.132-.137.311-.206.538-.206.224 0 .402.069.536.206a.73.73 0 01.2.527.728.728 0 01-.203.53.712.712 0 01-.533.207.712.712 0 01-.533-.206.728.728 0 01-.202-.531z",
              }),
            ],
            4,
            { viewBox: "0 0 11 11" }
          );
        },
        oi = s(234),
        li = s(355),
        ci = s(390),
        di = s(363),
        hi = (0, oi.d)("failureMark"),
        ui = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.chatJid !== e.chatJid ||
                s.className !== e.className)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.msg,
              n = s.chatJid,
              a = r.content;
            if (pi(r))
              (function (e) {
                return (
                  "image" === e.type ||
                  "video" === e.type ||
                  "gif" === e.type ||
                  "voice" === e.type ||
                  ("vcard" === e.type && e.isMMS) ||
                  "document" === e.type ||
                  ("rich_hsm" === e.type &&
                    !!e.richContent &&
                    ("image" === e.richContent.type ||
                      "video" === e.richContent.type ||
                      "document" === e.richContent.type))
                );
              })(a) ||
                e.setCenterLabel(812, () => {
                  (0, ci.a)(t, r.id, n);
                });
            else if (r.reactions && r.reactions.error) {
              var i = r.reactions.error;
              e.setCenterLabel(812, () => {
                (0, di.d)(r.id, i.id);
              });
            }
          }
          render() {
            return (0, r.b)(2, li.a, {
              className: (0, Oe.a)("PN", this.props.className),
            });
          }
        };
      function pi(e) {
        return (
          (!0 === e.meta.fromMe && (0, Ds.f)(e.meta.ack)) ||
          ("vcard" === e.content.type &&
            !0 === e.content.isMMS &&
            "idle" === e.content.mediaStatus.type)
        );
      }
      var vi = s(286);
      function fi(e) {
        return !e.meta.fromMe || (0, Ds.k)(e.meta.ack);
      }
      function gi(e) {
        var t = e.msg.meta.fromMe
          ? (0, r.b)(2, o.b, {
              l10n: 674,
              spacerSize: (0, Zs.d)(e.msg, fi(e.msg)),
            })
          : (0, r.b)(2, o.b, {
              l10n: 673,
              spacerSize: (0, Zs.d)(e.msg, fi(e.msg)),
            });
        return (0, r.f)(
          1,
          "div",
          "Ot Or",
          [(0, r.b)(2, jt.a, { className: "Os" }), t],
          0
        );
      }
      function bi(e) {
        var t;
        if ("sticker" === (null == (t = e.content) ? void 0 : t.type))
          return null;
        var s = !Bs(e.grouping, Gs.h.JOINED_WITH_PREV),
          n = Vs(e.msg.forwarded);
        return null != e.msg.forwarded && !n && s
          ? (0, r.f)(
              1,
              "div",
              "Ox GH GC",
              [
                (0, r.b)(2, ni, { className: "Oz" }),
                (0, r.b)(2, o.b, { l10n: 175 }),
              ],
              4
            )
          : n && s
          ? (0, r.f)(
              1,
              "div",
              "Oy Ox GH GC",
              [
                (0, r.b)(2, ai, { className: "Oz" }),
                (0, r.b)(2, o.b, { l10n: 176 }),
              ],
              4
            )
          : null;
      }
      var mi = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.part !== e.part ||
                s.selected !== e.selected ||
                s.playGif !== e.playGif ||
                s.truncated !== e.truncated ||
                s.showInfoIcon !== e.showInfoIcon ||
                s.setSelectionTarget !== e.setSelectionTarget ||
                s.contacts !== e.contacts ||
                s.user !== e.user ||
                s.player !== e.player ||
                s.chatJid !== e.chatJid)
            );
          }
          componentDidMount() {
            var e,
              t,
              s,
              r = this.props,
              n = r.part,
              a = r.chatJid;
            "special" !== n.type ||
              ("ciphertext" !== n.content.type &&
                "placeholder" !== n.content.type) ||
              ((e = n.msg),
              (t = n.content.type),
              (s = null != (0, ee.p)(a)),
              WAM.log("regular", 1980, void 0, [
                2,
                0,
                2,
                3,
                0,
                s ? 2 : 1,
                4,
                0,
                (0, Lt.B)(e.ts),
                1,
                0,
                "ciphertext" === t ? 1 : 3,
              ]));
          }
          render() {
            var e = this.props,
              t = e.part,
              n = e.chatJid,
              a = e.selected,
              i = t.msg.meta,
              o = null,
              l = null,
              c = null,
              d = Bs(e.part.grouping, Gs.h.JOINED_WITH_NEXT),
              h = { star: null != t.msg.starred && !d, kept: !1 },
              u = !0,
              p = !1;
            null != i.author &&
              Bs(e.part.grouping, Gs.h.SHOW_AUTHOR) &&
              (l = (0, r.b)(2, sr, {
                contacts: e.contacts,
                author: i.author,
                origin: null,
                isSticker: "sticker" === t.type,
              })),
              !0 === i.fromMe &&
                (Bs(e.part.grouping, Gs.h.JOINED_WITH_NEXT) || (c = i.ack));
            var v = (function (e, t, s, n) {
              var a = t.msg;
              return pi(a) ||
                (function (e) {
                  return null != e.reactions && null != e.reactions.error;
                })(a)
                ? (0, r.b)(2, ui, {
                    selected: !!s && hi,
                    msg: a,
                    chatJid: e,
                    className: n,
                  })
                : null;
            })(n, t, a, (0, Oe.a)("PC", i.fromMe ? "PB" : "PD"));
            switch (t.type) {
              case "quote":
                o = (0, r.b)(2, bn, {
                  selected: a,
                  quote: {
                    type: "bubble",
                    quotedMsg: t.quoted,
                    formatting: t.formatting,
                    setSelectionTarget: e.setSelectionTarget,
                  },
                  contacts: e.contacts,
                  user: e.user,
                  fromMe: !0 === i.fromMe,
                });
                break;
              case "quoteGroup":
                o = (0, r.b)(2, bn, {
                  selected: a,
                  quote: { type: "group", groupJid: t.groupJid },
                  contacts: e.contacts,
                  user: e.user,
                  fromMe: !0 === i.fromMe,
                });
                break;
              case "sticker":
                (o = (0, r.b)(2, on, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  ack: c,
                  icons: h,
                  parentWidth: D.k,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "image":
                (o = (0, r.b)(2, Wr, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  ack: c,
                  icons: h,
                  parentWidth: D.i,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "viewOnceImage":
                (o = (0, r.b)(2, ln.a, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  ack: c,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "video":
                (o = (0, r.b)(2, Kr, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  ack: c,
                  icons: h,
                  player: e.player,
                  parentWidth: D.i,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "viewOnceVideo":
                (o = (0, r.b)(2, ln.b, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  ack: c,
                  player: e.player,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "gif":
                (o = (0, r.b)(2, Hr, {
                  selected: a,
                  msg: t.msg,
                  playGif: e.playGif,
                  content: t.content,
                  player: e.player,
                  ack: c,
                  icons: h,
                  chatJid: n,
                })),
                  (c = null),
                  (u = !1);
                break;
              case "voice":
                (o = (0, r.b)(2, Un, {
                  selected: a,
                  content: t.content,
                  msg: t.msg,
                  user: e.user,
                  chatJid: n,
                })),
                  i.fromMe || (u = !1);
                break;
              case "text":
                var g;
                (null != c || h.star || h.kept) &&
                  (p =
                    (null !=
                    (g = (function (e) {
                      (function () {
                        if (!ti) {
                          var e = s(525).DATA,
                            t = e.length / 2;
                          (ti = new Int32Array(t)), (si = new Int32Array(t));
                          for (var r = 0, n = 0; r < t; r++, n += 2)
                            (ti[r] = e[n] + (0 === r ? 0 : ti[r - 1])),
                              (si[r] = e[n + 1]);
                        }
                      })();
                      for (var t = 0; t < e.length; t++) {
                        var r = 0 | e.charCodeAt(t);
                        if (55296 <= r && r < 56320) {
                          if (++t === e.length) break;
                          var n = e.charCodeAt(t);
                          if (!(56320 <= n && n < 57344)) continue;
                          r = 65536 + (((1023 & r) << 10) | (1023 & n));
                        } else if (56320 <= r && r < 57344) continue;
                        if (!(r < ti[0])) {
                          for (
                            var a = 0, i = ((0 | ti.length) - 1) | 0;
                            a < i;

                          ) {
                            var o = (i + a) >> 1;
                            if (ti[o] > r) i = (o - 1) | 0;
                            else {
                              if (ti[o + 1] > r) {
                                i = o;
                                break;
                              }
                              a = (o + 1) | 0;
                            }
                          }
                          var l = si[i];
                          if (r < ((ti[i] + Math.abs(l)) | 0))
                            return l < 0 ? "rtl" : "ltr";
                        }
                      }
                    })(t.content))
                      ? g
                      : "ltr") !== ((0, it.g)() ? "rtl" : "ltr")),
                  (o = (0, r.b)(2, xa, {
                    selected: a,
                    msg: t.msg,
                    text: t.content,
                    formatting: t.formatting,
                    truncated: e.truncated,
                    icons: h,
                    fromMe: !!i.fromMe,
                    contacts: e.contacts,
                    user: e.user,
                  }));
                break;
              case "locationMap":
                o = (0, r.b)(2, Ns.a, { selected: a, content: t.content });
                break;
              case "locationName":
                o = (0, r.b)(2, ta, {
                  selected: a,
                  content: t.content,
                  msg: t.msg,
                  truncated: e.truncated,
                });
                break;
              case "vcard":
                o = (0, r.b)(2, ea, {
                  jid: n,
                  msgId: t.msg.id,
                  ack: i.fromMe ? i.ack : void 0,
                  fromMe: i.fromMe,
                  selected: a,
                  content: t.content,
                  appendSpaces: (0, Zs.d)(t.msg),
                });
                break;
              case "linkPreview":
                o = (0, r.b)(2, ma, {
                  selected: a,
                  content: t.content,
                  truncated: e.truncated,
                  fromMe: i.fromMe,
                  msgId: t.msg.id,
                });
                break;
              case "groupInvite":
                o = (0, r.b)(2, Xa, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  chatId: t.msg.chatId,
                  fromMe: !!i.fromMe,
                });
                break;
              case "groupInviteCaption":
                o = (0, r.b)(2, $a, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  chatId: t.msg.chatId,
                  fromMe: !!i.fromMe,
                  user: e.user,
                  formatting: t.formatting,
                  truncated: e.truncated,
                  icons: h,
                  caption: t.caption,
                });
                break;
              case "richHsmText":
                t.msg.content.buttons &&
                  t.msg.content.buttons.length > 0 &&
                  ((h.star = !!t.msg.starred), (h.kept = !!t.msg.kept)),
                  (o = (0, r.b)(2, Ia, {
                    selected: a,
                    msg: t.msg,
                    title: t.content.title,
                    content: t.content.content,
                    footer: t.content.footer,
                    formatting: t.formatting,
                    truncated: e.truncated,
                    contacts: e.contacts,
                    user: e.user,
                  }));
                break;
              case "richHsmButton":
                (o = (0, r.b)(2, Na, {
                  selected: a,
                  msg: t.msg,
                  button: t.content,
                  buttonIndex: t.buttonIndex,
                })),
                  (u = !1);
                break;
              case "document":
                o = (0, r.b)(2, la, {
                  selected: a,
                  msg: t.msg,
                  content: t.content,
                  chatJid: n,
                });
                break;
              case "special":
                switch (t.content.type) {
                  case "revoked":
                    (o = (0, r.b)(2, gi, { msg: t.msg })),
                      fi(t.msg) && (c = null);
                    break;
                  case "futureproof":
                    o = (0, r.b)(2, ki, {
                      selected: a,
                      subtype: t.content.subtype,
                      spacerSize: (0, Zs.d)(t.msg),
                    });
                    break;
                  case "ciphertext":
                  case "placeholder":
                    o = (0, r.b)(2, yi, { selected: a });
                    break;
                  default:
                    return (0, f.a)(t.content.type);
                }
                break;
              default:
                return (0, f.a)(t);
            }
            return (0, r.c)(
              [
                l,
                bi(t),
                o,
                p && (0, r.f)(1, "div", "Om"),
                u &&
                  h.star &&
                  (0, r.b)(2, $s, {
                    className: (0, Oe.a)("Oo", i.fromMe && ri),
                  }),
                u &&
                  h.kept &&
                  (0, r.b)(2, Ys, {
                    className: (0, Oe.a)(
                      "On",
                      i.fromMe && !h.star && ri,
                      !i.fromMe && h.star && ri,
                      i.fromMe && h.star && "Oq"
                    ),
                  }),
                null != c
                  ? (0, r.b)(2, kr.a, { className: "Ol", ack: c })
                  : null,
                v,
                e.showInfoIcon &&
                  (0, r.b)(2, ii, {
                    className: (0, Oe.a)("PA", i.fromMe && "PB"),
                  }),
              ],
              0
            );
          }
        },
        Si = (0, i.c)(mi, (e, t, s) => {
          var r = e.chatlist.chats[s.part.msg.chatId];
          return null == r
            ? null
            : {
                contacts: e.contacts,
                user: e.user,
                player: e.player,
                part: s.part,
                selected: s.selected,
                playGif: s.playGif,
                truncated: s.truncated,
                chatJid: r.jid,
                showInfoIcon: s.showInfoIcon,
                setSelectionTarget: s.setSelectionTarget,
                backend: t,
              };
        }),
        yi = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(781, () => {
              (0, S.y)(t, S.g);
            });
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              "Ou Or",
              [
                (0, r.b)(2, qs, { className: "Os" }),
                (0, r.b)(2, o.b, { l10n: 133 }),
                l.c,
                (0, r.b)(2, o.b, { l10n: 134, className: "Ow" }),
              ],
              0
            );
          }
        },
        ki = class extends h.b {
          addSoftKeys(e) {
            "reaction" === this.props.subtype && e.setCenterLabel(829, vi.a);
          }
          render() {
            var e = this.props,
              t = e.subtype,
              s = e.spacerSize;
            return (0, r.b)(2, o.b, {
              l10n: (0, Rs.c)(t),
              className: "Ov Or",
              spacerSize: s,
            });
          }
        };
      function Ci(e) {
        var t,
          s = e.reactions;
        return (
          s.count >= 2 && (t = (0, r.f)(1, "span", "LG", s.count, 0)),
          (0, r.f)(1, "div", "LF", [s.reactions.map((e) => (0, c.c)(e)), t], 0)
        );
      }
      function wi(e, t, s, n, a) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Lt GC", a, t && (s ? "Lz" : "Ly")),
          n,
          0,
          null,
          null,
          e
        );
      }
      var xi = n.f((e, t) => {
          var s = e.notE2EE || e.support;
          return wi(
            t,
            e.selected,
            e.darkBackground,
            (0, r.f)(
              1,
              "div",
              (0, Oe.a)("MM MA ML MA", s && "MN"),
              e.children,
              0
            )
          );
        }),
        Ii = n.f((e, t) =>
          wi(
            t,
            e.selected,
            e.darkBackground,
            (0, r.f)(1, "div", "ML MA", e.children, 0)
          )
        ),
        Li = n.f((e, t) => {
          var s,
            n,
            a,
            i = e.setSelectionTarget,
            o = e.part,
            l = e.className,
            c = e.ephemeralInfo,
            d = (function (e, t) {
              var s = e.msg,
                r = e.type,
                n = s.meta.fromMe,
                a = t || (n ? "right" : "left"),
                i = "MB MA " + ("left" === a ? "MI" : "MH");
              return (
                (i = n ? i + " MG" : i),
                (i = null != s.starred ? i + " MK" : i),
                (i = null != s.kept ? i + " MJ" : i),
                (i = "sticker" === r ? i + " MC" : i),
                {
                  className: (i =
                    s.reactions && s.reactions.count > 0 && js(e.grouping)
                      ? i + " MP"
                      : i),
                  aligned: a,
                }
              );
            })(o, e.align),
            h = d.className,
            u = d.aligned,
            p = !o.msg.meta.fromMe && null != c && (0, Tt.h)(o, c),
            v = !!o.msg.bizConflict,
            f = (0, r.f)(
              1,
              "div",
              h,
              (0, r.f)(
                1,
                "div",
                ((s = o),
                (0, Oe.a)(
                  null != (a = s.msg).quoted ||
                    null != a.remoteJid ||
                    "sticker" === a.content.type ||
                    ("image" === a.content.type &&
                      null == a.content.viewOnceState) ||
                    ("video" === a.content.type &&
                      null == a.content.viewOnceState) ||
                    ("gif" === a.content.type && a.content.caption) ||
                    "voice" === a.content.type ||
                    "location" === a.content.type ||
                    "group_invite" === a.content.type ||
                    "rich_hsm" === a.content.type ||
                    ("text" === a.content.type && null != a.content.linkPreview)
                    ? "MD"
                    : "ME",
                  (function (e) {
                    switch (e.type) {
                      case "text":
                      case "voice":
                      case "vcard":
                      case "special":
                        return !0;
                      default:
                        return !1;
                    }
                  })(s) && "MF"
                )),
                [
                  (0, r.b)(2, Si, {
                    part: o,
                    setSelectionTarget: i,
                    selected: e.selected,
                    playGif: e.playGif,
                    truncated: e.truncated,
                    showInfoIcon: p || v,
                  }),
                  Ni(o.msg.reactions, o.grouping, u),
                ],
                0
              ),
              2
            );
          return wi(
            t,
            e.selected,
            e.darkBackground,
            f,
            (0, Oe.a)(
              l,
              ((n = o.grouping),
              (0, Oe.a)(
                Bs(n, Gs.h.GROUPED_WITH_PREV) && "Lu",
                Bs(n, Gs.h.GROUPED_WITH_NEXT) && "Lv",
                Bs(n, Gs.h.JOINED_WITH_PREV) && "Lw",
                Bs(n, Gs.h.JOINED_WITH_NEXT) && "Lx"
              ))
            )
          );
        }),
        _i = n.f((e, t) =>
          wi(
            t,
            e.selected,
            e.darkBackground,
            (0, r.f)(1, "div", "MO ML MA", e.children, 0)
          )
        );
      function Ni(e, t, s) {
        return null != e && e.count > 0 && js(t)
          ? (0, r.f)(
              1,
              "div",
              (0, Oe.a)("MQ", "left" === s ? "MS" : "MR"),
              (0, r.b)(2, Ci, { reactions: e }),
              2
            )
          : null;
      }
      function Mi(e) {
        var t = e.count;
        return (0, r.f)(
          1,
          "div",
          "Vg",
          (0, r.b)(2, o.b, { l10n: [t, 250] }),
          2
        );
      }
      s(274);
      var Oi = s(188),
        Ti = s(393),
        Pi = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              fill: "#000",
              "fill-rule": "evenodd",
              d:
                "M5.5.5a5 5 0 110 10 5 5 0 010-10zm-.027 4.118a.649.649 0 00-.649.648v2.757a.649.649 0 001.298 0V5.266a.649.649 0 00-.649-.648zM5.5 2.392c-.227 0-.406.069-.538.206a.73.73 0 00-.197.527c0 .216.067.393.202.53a.712.712 0 00.533.207.71.71 0 00.533-.206.728.728 0 00.202-.531.726.726 0 00-.2-.527.711.711 0 00-.535-.206z",
            }),
            2,
            { viewBox: "0 0 11 11" }
          );
        },
        Ai = s(325),
        Ei = "Vf Vd",
        Ri = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.content !== e.content ||
                s.contacts !== e.contacts ||
                s.userJid !== e.userJid)
            );
          }
          YJ(e, t) {
            (0, y.g)({
              text: t,
              center: 796,
              onSoftCenter: "CLOSE",
              right: 785,
              onSoftRight: () => (0, S.y)(e, S.f),
            });
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.content,
              n = s.userJid,
              a = s.contacts,
              i = (0, Ti.a)(r, n, a);
            i &&
              e.setCenterLabel(781, () => {
                this.YJ(t, i);
              });
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.userJid,
              n = e.contacts,
              a = (0, Ti.b)(t, s, n),
              i = a.l10n,
              c = a.hasAlert;
            return (0, r.c)(
              [
                (0, r.b)(2, Pi, { className: "Ve Vd" }),
                (0, r.b)(2, o.b, { l10n: i }),
                c && (0, r.c)([l.c, (0, r.b)(2, o.b, { l10n: 61 })], 0),
              ],
              0
            );
          }
        },
        Gi = n.f((e, t) =>
          (0, r.b)(
            2,
            _i,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, Ri, {
                selected: e.selected,
                contacts: e.contacts,
                msg: e.msg,
                content: e.content,
                userJid: e.userJid,
              }),
            },
            null,
            t
          )
        ),
        Ui = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.msg !== e.msg ||
                s.contacts !== e.contacts ||
                s.subtype !== e.subtype)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contacts,
              n = s.msg,
              a = s.subtype;
            "unavailable" !== a &&
              e.setCenterLabel(781, () => {
                (function (e, t, s, r) {
                  var n = s.meta.author;
                  if (null != n) {
                    var a = null,
                      i = (0, F.e)(t, n);
                    switch (r) {
                      case "add":
                        a = [i, 47];
                        break;
                      case "remove":
                        a = [i, 48];
                        break;
                      case "coalesced":
                        a = [i, 50];
                        break;
                      case "verification-failed":
                        a = [i, 49];
                        break;
                      default:
                        a = [i, 149];
                    }
                    var o = S.l,
                      l = (0, d.c)(n, t);
                    l.devices && l.devices.length > 1 && (o = S.m),
                      e.fetchMissingKeysForContact(n);
                    var c = {
                      text: a,
                      center: 796,
                      onSoftCenter: "CLOSE",
                      right: 785,
                      onSoftRight: () => (0, S.y)(e, o),
                    };
                    (0, kt.b)(l) &&
                      ((c.left = 512),
                      (c.onSoftLeft = () => {
                        (0, Ft.b)(e, n);
                      })),
                      (0, y.g)(c);
                  }
                })(t, r, n, a);
              });
          }
          render() {
            var e = this.props,
              t = e.msg,
              s = e.contacts,
              n = e.subtype;
            if ("unavailable" === n) return (0, r.b)(2, o.b, { l10n: 475 });
            var a = t.meta,
              i = !a.fromMe && a.author;
            return i
              ? "verification-failed" === n
                ? (0, r.b)(2, o.b, { l10n: [(0, F.e)(s, i), 49] })
                : (0, r.b)(2, o.b, { l10n: [(0, F.e)(s, i), 150] })
              : (__LOG__(3)`Ignoring keyschanged message without author`, null);
          }
        },
        Di = n.f((e, t) =>
          (0, r.b)(
            2,
            xi,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, Ui, {
                selected: e.selected,
                contacts: e.contacts,
                msg: e.msg,
                subtype: e.subtype,
              }),
            },
            null,
            t
          )
        ),
        ji = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.blocked !== e.blocked ||
                s.chat !== e.chat ||
                s.contacts !== e.contacts ||
                s.isCurrentlyBlocked !== e.isCurrentlyBlocked ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.blocked,
              n = s.chat,
              a = s.contacts,
              i = s.isCurrentlyBlocked,
              o = (0, ee.q)(n.jid);
            if (o) {
              var l = (0, d.c)(o, a);
              r &&
                i &&
                e.setCenterLabel(832, () => {
                  t.unblockUser(l.jid);
                });
            }
          }
          render() {
            return this.props.blocked
              ? (0, r.b)(2, o.b, { l10n: 59 })
              : (0, r.b)(2, o.b, { l10n: 949 });
          }
        },
        Bi = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, ji, {
                contacts: e.contacts,
                chat: e.chat,
                selected: e.selected,
                blocked: e.blocked,
                isCurrentlyBlocked: e.isCurrentlyBlocked,
              }),
            },
            null,
            t
          )
        );
      function Vi(e, t) {
        return (0, r.f)(
          1,
          "div",
          null,
          [
            (0, r.b)(2, Ai.a, { className: Ei }),
            t,
            e && (0, r.c)([l.c, (0, r.b)(2, o.b, { l10n: 546 })], 0),
          ],
          0
        );
      }
      var Fi = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.canChange !== e.canChange ||
                s.chat !== e.chat ||
                s.content !== e.content ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            this.props.canChange &&
              e.setCenterLabel(774, () => {
                t.openScreen("EPHEMERAL_SETTINGS", { chat: this.props.chat });
              });
          }
          render() {
            return Vi(this.props.canChange, this.props.content);
          }
        },
        Wi = n.f((e, t) => {
          var s = (0, r.b)(2, o.b, {
            l10n: (0, Oi.e)(e.meta, e.contacts, e.content),
          });
          return (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, Fi, {
                canChange: e.canChange && (0, Tt.a)(e.chat, e.contacts),
                chat: e.chat,
                selected: e.selected,
                content: s,
              }),
            },
            null,
            t
          );
        }),
        Ki = n.f((e, t) => {
          var s = e.chat;
          if ("ONE_TO_ONE" !== s.type) return null;
          var n = e.contacts,
            a = e.expiration,
            i = (0, Oi.d)(n, s.jid, a);
          return (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: [
                (0, r.b)(2, Ai.a, { className: Ei }),
                (0, r.b)(2, o.b, { l10n: i }),
              ],
            },
            null,
            t
          );
        }),
        zi = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.userJid !== e.userJid ||
                s.content !== e.content ||
                s.contacts !== e.contacts ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(774, () => {
              t.openScreen("DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS", {
                offline: !1,
                entryPoint: "system-message",
              });
            });
          }
          render() {
            var e = this.props,
              t = e.userJid,
              s = e.contacts,
              n = e.content,
              a = n.ephemeralExpiration,
              i = n.initiator,
              l = (0, r.b)(2, o.b, { l10n: (0, Oi.c)(t, s, a, i) });
            return (0, r.c)([(0, r.b)(2, Ai.a, { className: Ei }), l], 0);
          }
        },
        Hi = n.f((e, t) => {
          var s = e.userJid,
            n = e.content,
            a = e.contacts,
            i = e.selected,
            o = e.darkBackground;
          return (0, r.b)(
            2,
            Ii,
            {
              selected: i,
              darkBackground: o,
              children: (0, r.b)(2, zi, {
                selected: i,
                userJid: s,
                content: n,
                contacts: a,
              }),
            },
            null,
            t
          );
        }),
        Ji = s(326),
        Qi = s(257),
        Xi = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.canChange !== e.canChange ||
                s.chat !== e.chat ||
                s.content !== e.content ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            this.props.canChange &&
              e.setCenterLabel(774, () => {
                t.openScreen("EPHEMERAL_SETTINGS", { chat: this.props.chat });
              });
          }
          render() {
            return Vi(this.props.canChange, this.props.content);
          }
        },
        qi = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, Xi, {
                canChange: (0, Tt.a)(e.chat, e.contacts),
                chat: e.chat,
                selected: e.selected,
                content: e.content,
              }),
            },
            null,
            t
          )
        ),
        $i = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.content !== e.content ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              (0, Qi.d)(t, this.props.chat, "description");
            });
          }
          render() {
            return this.props.content;
          }
        },
        Yi = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, $i, {
                chat: e.chat,
                selected: e.selected,
                content: e.content,
              }),
            },
            null,
            t
          )
        ),
        Zi = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.content !== e.content ||
                s.jid !== e.jid ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.jid;
            s &&
              e.setCenterLabel(797, () => {
                (0, Ne.a)(t, s, "unread", null);
              });
          }
          render() {
            return this.props.content;
          }
        },
        eo = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, Zi, {
                content: e.content,
                jid: e.jid,
                selected: e.selected,
              }),
            },
            null,
            t
          )
        ),
        to = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.content !== e.content ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.chat;
            s.groupInfo.isAdmin &&
              e.setCenterLabel(797, () => {
                (0, Ji.c)(t, s);
              });
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.chat;
            return (0, r.f)(
              1,
              "div",
              null,
              [
                t,
                s.groupInfo.isAdmin &&
                  (0, r.c)([l.c, (0, r.b)(2, o.b, { l10n: 547 })], 0),
              ],
              0
            );
          }
        },
        so = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, to, {
                chat: e.chat,
                content: e.content,
                selected: e.selected,
              }),
            },
            null,
            t
          )
        ),
        ro = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.subtype !== e.subtype ||
                s.text !== e.text ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.chat,
              n = s.subtype;
            e.setCenterLabel(797, () => {
              if (r.groupInfo.isAdmin) {
                var e = r.groupInfo.growthLocked;
                if ("growth_locked" !== n) (0, Ji.c)(t, r);
                else {
                  var s = null == e ? 354 : 353;
                  (0, S.x)(t, s, S.a);
                }
              } else (0, y.e)({ text: 355 });
            });
          }
          render() {
            return this.props.text;
          }
        },
        no = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: (0, r.b)(2, ro, {
                subtype: e.subtype,
                text: e.text,
                chat: e.chat,
                selected: e.selected,
              }),
            },
            null,
            t
          )
        ),
        ao = n.f((e, t) =>
          (0, r.b)(
            2,
            Ii,
            {
              selected: e.selected,
              darkBackground: e.darkBackground,
              children: e.content,
            },
            null,
            t
          )
        );
      function io(e) {
        if ("GROUP" !== e.chat.type)
          return (
            __LOG__(4)`GroupNotifications shouldn't render for non-group chat`,
            SEND_LOGS("groupnotifications-bad-render"),
            null
          );
        var t = e.chat,
          s = e.contacts,
          n = e.content,
          a = e.darkBackground,
          i = e.meta,
          l = e.selected,
          c = (0, r.b)(2, o.b, { l10n: (0, Oi.b)(i, n, s) });
        switch (n.subtype) {
          case "description":
            return (0, r.b)(
              2,
              Yi,
              { chat: t, content: c, darkBackground: a, selected: l },
              n.subtype,
              e.selectedRef
            );
          case "ephemeral":
          case "ephemeral_authorless":
            return (0, r.b)(
              2,
              qi,
              {
                canChange: t.groupInfo.isAdmin,
                chat: t,
                content: c,
                contacts: s,
                darkBackground: a,
                selected: e.selected,
              },
              n.subtype,
              e.selectedRef
            );
          case "leave":
            return (0, r.b)(
              2,
              eo,
              { content: c, jid: n.subject, darkBackground: a, selected: l },
              n.subtype,
              e.selectedRef
            );
          case "revoke_invite":
            return (0, r.b)(
              2,
              so,
              { content: c, chat: t, darkBackground: a, selected: l },
              n.subtype,
              e.selectedRef
            );
          case "growth_unlocked":
          case "growth_locked":
            return (0, r.b)(
              2,
              no,
              {
                subtype: n.subtype,
                text: c,
                chat: t,
                darkBackground: a,
                selected: l,
              },
              n.subtype,
              e.selectedRef
            );
          default:
            return (
              n.subtype,
              (0, r.b)(
                2,
                ao,
                { content: c, darkBackground: a, selected: l },
                n.subtype,
                e.selectedRef
              )
            );
        }
      }
      var oo = (e) => {
        var t = e.className;
        return (0, r.f)(
          32,
          "svg",
          t,
          (0, r.f)(32, "path", null, null, 1, {
            fill: "#010101",
            d:
              "M5.008 1.6a2.593 2.593 0 012.586 2.427l.005.164v1.271h.158c.585 0 1.059.48 1.059 1.07v3.351c0 .59-.474 1.07-1.059 1.07h-5.5c-.582 0-1.057-.48-1.057-1.07V6.531c0-.59.474-1.069 1.058-1.069h.158V4.191a2.594 2.594 0 012.429-2.586l.163-.005zm0 1.248c-.696 0-1.272.534-1.337 1.214l-.006.129-.002 1.271H6.35l.001-1.271c0-.653-.47-1.2-1.088-1.319l-.126-.018-.129-.006z",
          }),
          2,
          { viewBox: "0 0 12 12" }
        );
      };
      function lo(e) {
        return e ? 681 : 682;
      }
      function co(e) {
        return e ? 679 : 680;
      }
      function ho(e) {
        return e ? 677 : 678;
      }
      var uo = {
          e2ee: {
            msg: (e) =>
              e
                ? (0, r.b)(2, o.b, { l10n: 690 })
                : (0, r.b)(2, o.b, { l10n: 692 }),
            alert: lo,
          },
          now_e2ee: {
            msg: (e) =>
              e
                ? (0, r.b)(2, o.b, { l10n: 691 })
                : (0, r.b)(2, o.b, { l10n: 693 }),
            alert: lo,
          },
          fb: { msg: () => (0, r.b)(2, o.b, { l10n: 684 }), alert: co },
          now_fb: { msg: () => (0, r.b)(2, o.b, { l10n: 687 }), alert: co },
          bsp: { msg: () => (0, r.b)(2, o.b, { l10n: 683 }), alert: ho },
          now_bsp: { msg: () => (0, r.b)(2, o.b, { l10n: 686 }), alert: ho },
        },
        po = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.content !== e.content ||
                s.chat !== e.chat ||
                s.contacts !== e.contacts ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          YH(e) {
            var t = this.props,
              s = t.chat,
              r = t.content,
              n = t.isVoipAvailable,
              a = (function (e, t, s, r) {
                if (vo(e)) return r ? 449 : 450;
                if ("api" === t.subtype) {
                  if ("GROUP" === e.type)
                    return __LOG__(4)`Invalid state`, null;
                  var n = e.jid;
                  return (0, kt.d)(n) ? 892 : [(0, F.e)(s, n), 196];
                }
                return uo[t.subtype].alert(r);
              })(s, r, t.contacts, n);
            a &&
              (0, y.g)({
                text: a,
                center: 796,
                onSoftCenter: "CLOSE",
                right: 785,
                onSoftRight: () => {
                  this.YI(e);
                },
              });
          }
          YI(e) {
            var t = this.props,
              s = t.content,
              r = t.chat,
              n = "api" === s.subtype,
              a = vo(r) ? S.w : n ? S.h : S.s;
            (0, S.y)(e, a);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(781, () => {
              this.YH(t);
            });
          }
          render() {
            var e = this.props,
              t = e.chat,
              s = e.contacts,
              n = e.isVoipAvailable,
              a = e.content,
              i = (function (e, t, s, n) {
                if (vo(e)) return (0, r.b)(2, o.b, { l10n: 448 });
                if ("api" === t.subtype) {
                  if ("GROUP" === e.type)
                    return __LOG__(4)`Invalid state`, null;
                  var a = e.jid;
                  if ((0, kt.d)(a))
                    return n
                      ? (0, r.b)(2, o.b, { l10n: 688 })
                      : (0, r.b)(2, o.b, { l10n: 689 });
                  var i = (0, F.e)(s, a);
                  return n
                    ? (0, r.b)(2, o.b, { l10n: [i, 197] })
                    : (0, r.b)(2, o.b, { l10n: [i, 198] });
                }
                return uo[t.subtype].msg(n);
              })(t, a, s, n),
              c = fo(a.subtype)
                ? (0, r.b)(2, Pi, { className: "Vk Vd" })
                : (0, r.b)(2, oo, { className: "Vj Vd" });
            return (0, r.c)([c, i, l.c, (0, r.b)(2, o.b, { l10n: 685 })], 0);
          }
        };
      function vo(e) {
        return (
          ("ONE_TO_ONE" === e.type && (0, kt.f)(e.jid)) ||
          ("GROUP" === e.type && e.groupInfo.support)
        );
      }
      function fo(e) {
        switch (e) {
          case "fb":
          case "now_fb":
          case "bsp":
          case "now_bsp":
            return !0;
          case "e2ee":
          case "now_e2ee":
          case "api":
            return !1;
        }
      }
      var go = n.f((e, t) => {
        var s = vo(e.chat),
          n = fo(e.content.subtype);
        return (0, r.b)(
          2,
          xi,
          {
            selected: e.selected,
            darkBackground: e.darkBackground,
            notE2EE: n,
            support: s,
            children: (0, r.b)(2, po, {
              selected: e.selected,
              chat: e.chat,
              content: e.content,
              contacts: e.contacts,
              isVoipAvailable: e.isVoipAvailable,
            }),
          },
          null,
          t
        );
      });
      function bo(e) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)(e.className, "WI GF GC"),
          (0, r.f)(
            1,
            "div",
            (0, Oe.a)("WJ", e.selected ? "WL" : null),
            [
              e.icon && (0, r.f)(1, "div", "WK", e.icon, 0),
              (0, r.b)(2, o.b, { l10n: e.l10n }),
            ],
            0
          ),
          2
        );
      }
      var mo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M14.3 3.7H5.7c-.7 0-1.4.5-1.7 1.1l-2.9 6.8c-.1.2-.1.4-.1.7v1.9c0 1 .9 1.9 1.9 1.9h6l-1 4.4v.3c0 .4.2.8.4 1l1 1 6.3-6.3c.4-.4.6-.8.6-1.3V5.6c0-1-.9-1.9-1.9-1.9zm3.8 0v11.4h3.8V3.7h-3.8z",
            }),
            2,
            { x: "0", y: "0", viewBox: "0 0 23 23" }
          );
        },
        So = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.darkBackground !== e.darkBackground ||
                s.innerRef !== e.innerRef ||
                s.chat !== e.chat ||
                s.contacts !== e.contacts ||
                s.connected !== e.connected ||
                s.blocked !== e.blocked ||
                s.moveToNextMessage !== e.moveToNextMessage)
            );
          }
          YD(e, t) {
            (0, y.f)(
              (0, B.a)({
                block: () => {
                  this.props.connected
                    ? e.blockUser(t.jid)
                    : (0, y.e)({ title: 229, text: 58 });
                },
              })
            );
          }
          YE(e, t) {
            this.props.connected
              ? (0, y.f)({
                  title: 639,
                  text: 637,
                  confirm: 809,
                  onConfirm: () => {
                    this.props.connected
                      ? (e.reportGroupSpam({
                          reportType: "chat",
                          groupChat: t,
                          spamFlow: "chat",
                          deleteGroup: !0,
                          exitGroup: !0,
                        }),
                        e.goBack())
                      : (0, y.e)({ title: 229, text: 635 });
                  },
                })
              : (0, y.e)({ title: 229, text: 635 });
          }
          YF(e, t) {
            this.props.connected
              ? (0, y.f)({
                  title: 642,
                  text: 633,
                  confirm: 809,
                  onConfirm: () => {
                    this.props.connected
                      ? (e.reportUserSpam({
                          reportType: "chat",
                          userJid: t.jid,
                          spamFlow: "chat",
                          blockUser: !0,
                          deleteChat: !0,
                        }),
                        e.goBack())
                      : (0, y.e)({ title: 229, text: 635 });
                  },
                })
              : (0, y.e)({ title: 229, text: 635 });
          }
          YG(e) {
            var t = this.props,
              s = t.chat,
              r = t.connected,
              n = t.blocked,
              a = new V.a("NO_TITLE");
            "ONE_TO_ONE" === s.type
              ? (a.add(642, () => {
                  this.YF(e, s);
                }),
                n
                  ? a.add(832, () => {
                      r
                        ? e.unblockUser(s.jid)
                        : (0, y.e)({ title: 229, text: 948 });
                    })
                  : a.add(759, () => {
                      if (r) {
                        var t = (0, d.c)(s.jid, this.props.contacts);
                        this.YD(e, t);
                      } else (0, y.e)({ title: 229, text: 58 });
                    }),
                (0, y.j)(a))
              : (a.add(643, () => {
                  this.YE(e, s);
                }),
                a.add(181, () => {
                  e.markGroupAsMessaged(s), this.props.moveToNextMessage();
                }),
                (0, y.j)(a));
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              this.YG(t);
            });
          }
          render() {
            var e = this.props,
              t = e.chat,
              s = e.selected,
              n = e.darkBackground,
              a = null;
            "ONE_TO_ONE" !== t.type &&
              (a = (0, r.b)(2, o.b, { className: "Vn GH GC", l10n: 195 }));
            var i = (0, r.b)(2, mo, { className: "Vp" });
            return (0, r.f)(
              1,
              "div",
              "Vl",
              [
                a,
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("Vm", s && (n ? "Vr" : "Vq")),
                  (0, r.b)(2, bo, {
                    className: "Vo",
                    l10n: 632,
                    icon: i,
                    selected: s,
                  }),
                  2
                ),
              ],
              0,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        yo = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.darkBackground !== e.darkBackground ||
                s.innerRef !== e.innerRef ||
                s.chat !== e.chat ||
                s.contacts !== e.contacts ||
                s.moveToNextMessage !== e.moveToNextMessage)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              var e = this.props,
                s = e.chat,
                r = e.contacts,
                n = e.moveToNextMessage,
                a = (0, d.c)(s.jid, r);
              if ((0, d.k)(a))
                __LOG__(
                  3
                )`Tried to add a contact that was already in the phonebook from spam UI`;
              else {
                var i = s.jid,
                  o = (0, mt.d)(i);
                (0, Vt.a)(t, { tel: o }, i);
              }
              n();
            });
          }
          render() {
            var e,
              t,
              s = this.props,
              n = s.chat,
              a = s.contacts,
              i = s.selected,
              l = s.darkBackground,
              c =
                null == (e = a[n.jid]) || null == (t = e.verifiedInfo)
                  ? void 0
                  : t.level,
              d = null == c ? 196 : "high" === c ? 197 : 194,
              h = (0, r.b)(2, Fn.a, { className: "VA" });
            return (0, r.f)(
              1,
              "div",
              "Uv",
              [
                (0, r.b)(2, o.b, {
                  className: (0, Oe.a)("Ux GH GC", l && "Uy"),
                  l10n: d,
                }),
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("Uw", i && (l ? "VC" : "VB")),
                  (0, r.b)(2, bo, {
                    className: "Uz",
                    l10n: 8,
                    icon: h,
                    selected: i,
                  }),
                  2
                ),
              ],
              4,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        ko = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected || s.innerRef !== e.innerRef)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("SETTINGS_PRIVACY", { start: "groupAdd" });
            });
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Ur", this.props.selected && "Uu"),
              (0, r.b)(2, o.b, {
                className: "Us GH GC",
                l10n: [(0, r.b)(2, o.b, { l10n: 198, className: "Ut" }), 40],
              }),
              2,
              null,
              null,
              this.props.innerRef
            );
          }
        },
        Co = s(27),
        wo = s.n(Co),
        xo = s(70),
        Io = 102400,
        Lo = 307200,
        _o = [
          "apple-touch-icon",
          "apple-touch-icon-precomposed",
          "icon",
          "image_src",
        ];
      function No(e) {
        var t = e.toLowerCase().indexOf("http");
        if (-1 === t) return null;
        var s = new RegExp(
          /\bhttps?:\/\/[a-z0-9-.]+\.[a-z]+(:[0-9]+)?(\/[a-z0-9@:%_+.~#?&=-]*)*/,
          "i"
        );
        s.lastIndex = t;
        var r = s.exec(e);
        if (null !== r) {
          var n = r[0],
            a = (0, pa.i)(n);
          if (null != a)
            return { normalizedLink: a.toString(), matchedText: n };
        }
      }
      function Mo(e, t) {
        return e ? !!t && e.matchedText === t.matchedText : !t;
      }
      function Oo(e) {
        return To.apply(this, arguments);
      }
      function To() {
        return (To = wo()(function* (e) {
          var t, s, r, n, a;
          try {
            var i = yield (0, pa.j)(e, {
              responseType: "text",
              maxSize: Io,
              keepPartial: !0,
            });
            (r = i.response), (n = i.responseURL);
          } catch (t) {
            return (
              __LOG__(4)`Failed to generate a link preview for ${e}: ${t}`, null
            );
          }
          try {
            a = new DOMParser().parseFromString(r, "text/html");
          } catch (t) {
            return (
              __LOG__(
                4
              )`Tried to parse content of ${e} for a link preview but failed: ${t}`,
              null
            );
          }
          var o,
            l = null != (t = Ao(a, ["og:url", "twitter:url"])) ? t : e,
            c =
              null != (s = Ao(a, ["og:title", "twitter:title", "title"]))
                ? s
                : a.title,
            d = Ao(a, ["og:description", "twitter:description", "description"]);
          if (null == c && null == d) return null;
          var h = Eo(a);
          if (null != h)
            try {
              h.startsWith("/") && (h = new URL(h, n).toString()),
                (o = (yield (0, pa.j)(h, {
                  responseType: "blob",
                  maxSize: Lo,
                  keepPartial: !1,
                })).response);
            } catch (t) {
              __LOG__(
                4
              )`Error when trying to fetch link preview image for ${e}: ${t}`;
            }
          return { imgBlob: o, canonicalUrl: l, description: d, title: c };
        })).apply(this, arguments);
      }
      function Po(e, t) {
        if (null == e.head) return null;
        var s = e.head,
          r =
            s.querySelector(`meta[name='${t}']`) ||
            s.querySelector(`meta[property='${t}']`) ||
            s.querySelector(`meta[itemprop='${t}']`);
        return null != r ? r.getAttribute("content") : void 0;
      }
      function Ao(e, t) {
        for (var s = 0; s < t.length; s++) {
          var r = Po(e, t[s]);
          if (null != r) return r;
        }
      }
      function Eo(e) {
        var t = Ao(e, ["og:image", "twitter:image", "image"]);
        if (null != t) return t;
        for (var s = e.querySelectorAll("link"), r = 0; r < s.length; r++) {
          var n = s[r],
            a = n.getAttribute("rel");
          if (_o.includes(a)) {
            var i = n.getAttribute("href");
            if (i) {
              var o = n.getAttribute("sizes");
              if (o) {
                if ("any" === o) return i;
                for (var l = o.split(" "), c = 0; c < l.length; c++) {
                  var d = l[c].split(/[xX]/).map((e) => parseInt(e, 10)),
                    h = yr()(d, 2),
                    u = h[0],
                    p = h[1];
                  if (u >= 100 && p >= 100) return i;
                }
              }
            }
          }
        }
      }
      var Ro = s(61),
        Go = { audio: !0 };
      function Uo(e) {
        var t = e.getTracks()[0];
        null != t && t.stop();
      }
      var Do = s(140),
        jo = s(55),
        Bo = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.items !== e.items ||
                s.icon !== e.icon ||
                s.selected !== e.selected ||
                s.selectedIndex !== e.selectedIndex)
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.PD = (e) => {
                this.PB = e;
              }),
              (this.PA = (0, it.g)());
          }
          componentDidMount() {
            this.PC(this.props.selectedIndex);
          }
          componentDidUpdate(e) {
            this.props.selectedIndex !== e.selectedIndex &&
              this.PC(e.selectedIndex);
          }
          PE(e, t, s) {
            if (this.PA) {
              var r = -1 * s,
                n = "previous" === t && e.scrollLeft < r,
                a = "next" === t && e.scrollLeft > r;
              (n || a) && (e.scrollLeft = r);
            } else {
              var i = "previous" === t && e.scrollLeft > s,
                o = "next" === t && e.scrollLeft < s;
              (i || o) && (e.scrollLeft = s);
            }
          }
          PC(e) {
            var t = this.PB;
            if (t) {
              var s = this.props,
                r = s.selectedIndex,
                n = s.items;
              if (0 !== r)
                if (r !== n.length - 1) {
                  var a = t.getElementsByClassName("Jc"),
                    i = t.scrollLeft;
                  if (r < e) {
                    var o = i + a[r].getBoundingClientRect().left;
                    this.PE(t, "previous", o - 25);
                  } else {
                    var l = i + a[r + 1].getBoundingClientRect().left;
                    this.PE(t, "next", l + 25 - D.n);
                  }
                } else
                  t.scrollLeft =
                    (this.PA ? -1 : 1) * t.getBoundingClientRect().width;
              else t.scrollLeft = 0;
            }
          }
          render() {
            var e = this.props,
              t = e.items,
              s = e.selected,
              n = e.selectedIndex,
              a = e.icon;
            return (0, r.f)(
              1,
              "div",
              "Jb",
              t.map((e, t) => {
                var i = e.icon || a;
                if (i) {
                  var o = "Jc";
                  return (
                    n === t && (o = s ? "Je Jc" : "Jd Jc"),
                    (0, r.b)(
                      2,
                      i,
                      { item: e, selected: n === t, className: o },
                      e.key
                    )
                  );
                }
                __LOG__(4)`IconRibbon: Icon not found in item nor in props`;
              }),
              0,
              null,
              null,
              this.PD
            );
          }
        },
        Vo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M11 5.7a.7.7 0 00-.7.7V11c0 .216.098.409.251.537.046.048.099.09.16.125l3.983 2.3a.7.7 0 10.7-1.212L11.7 10.617V6.4a.7.7 0 00-.7-.7z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d:
                  "M11 2a9 9 0 100 18 9 9 0 000-18zm-7.6 9a7.6 7.6 0 1015.2 0 7.6 7.6 0 00-15.2 0z",
                "clip-rule": "evenodd",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        Fo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M12 22.1C6.4 22.1 1.9 17.6 1.9 12S6.4 1.9 12 1.9 22.1 6.4 22.1 12 17.6 22.1 12 22.1zm0-18.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M8.9 11.6c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5zm8.2 2c-1.1.1-3 .4-5 .4s-4-.3-5-.4c-.4 0-.6.3-.4.7 1.1 2 3.1 3.5 5.5 3.5 2.3 0 4.4-1.5 5.5-3.5.1-.3-.2-.7-.6-.7zM12.3 16c-2.6 0-4.1-1-4.2-1.6 0 0 4.4.9 8 0 0 0-.5 1.6-3.8 1.6zm2.8-4.4c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Wo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M7.2 12.2c.608 0 1.1.627 1.1 1.4S7.808 15 7.2 15s-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm9.7 0c.608 0 1.1.627 1.1 1.4s-.492 1.4-1.1 1.4-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm4.6-1.1-1.2-2.4c.9-.4 1.7-1.3 2-2.2.3-.7.4-2.1-1-3.5-1-.9-2-1.2-2.9-1-1.1.3-1.9 1.2-2.3 1.9-1.4-.7-2.9-.8-4.1-.8-1.5 0-2.8.3-4 .9-.5-.9-1.2-1.8-2.3-2.1-1-.2-2 .1-2.9 1-1 1-1.4 2.2-1 3.4.4 1.1 1.2 1.9 2 2.3-.2.5-.4 1-.6 1.6l-.2.2c-.3.7-.5 1.3-.8 1.9-.4 1-.9 1.9-.9 3.1 0 1.6.8 6.7 10.5 6.7 3.8 0 6.6-.7 8.5-2.2s2.2-3.4 2.2-4.3c.2-2.1-.2-2.9-1-4.5zm-2.7-7.6c.4-.1.9.1 1.5.6.6.6.8 1.2.6 1.8-.2.6-.7 1.1-1.2 1.3-.6-1.2-1.3-2-2.1-2.6.2-.4.6-1 1.2-1.1zM3.3 5.9c-.2-.6 0-1.2.6-1.8.5-.5 1.1-.7 1.5-.6.5.1 1.1.7 1.3 1.2-.9.7-1.6 1.5-2.2 2.6C4 7 3.4 6.5 3.3 5.9zm17.8 9.7c0 .7-.2 2-1.6 3.1-1.5 1.2-4.1 1.8-7.5 1.8-8.3 0-8.9-3.9-8.9-5.1 0-.8.3-1.5.7-2.4.3-.6.6-1.2.8-2.1l.1-.2c.5-1.5 2-6.2 7.3-6.2 1.2 0 2.5.2 3.7.9.1.1.5.3.5.3.9.7 1.7 1.7 2.4 3.2.6 1.3 1 2.2 1.4 2.9.8 1.6 1.1 2.1 1.1 3.8zM14.6 17c-.1.1-.6.4-1.2.3-.4-.1-.7-.3-.9-.8 0-.1-.1-.1-.1-.2.8-.1 1.3-.6 1.3-1.3s-.7 0-1.7 0c-.9 0-1.7-.7-1.7 0 0 .6.6 1.2 1.4 1.3l-.1.1c-.3.4-.5.7-.9.8-.5.1-1.1-.1-1.3-.3-.2-.2-.5-.1-.7.1s-.1.5.1.7c.1.1.8.5 1.6.5.2 0 .4 0 .5-.1.4-.1.8-.3 1.1-.7.4.4.9.6 1.2.7.8.2 1.7-.2 2-.5.2-.2.2-.5 0-.7-.1 0-.4-.1-.6.1z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Ko = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M7.4 11.4c-.4 0-.8.4-.8.8V14c0 .4.4.8.8.8s.8-.4.6-.8v-1.8c0-.6-.2-.8-.6-.8zm-2.8-1c-.4 0-.8.4-.8.8V15c0 .4.4.8.8.8s.8-.4.8-.8v-3.8c0-.6-.4-.8-.8-.8z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M23 7.2c-.6-.6-1.6-.8-2.8-.6-.2 0-.4.2-.6.2V4.2c0-.6-.6-1.2-1.2-1.2h-17C.8 3 .2 3.6.2 4.2v7.4c0 5.4 3.2 9.6 8.4 9.6h2.2c4.2 0 7-2.6 8-6h.4c2.2-.4 4-2.6 4.4-4.8.4-1.4.2-2.4-.6-3.2zm-4.8-2.8v3H1.6v-3h16.6zM11 19.8H8.8c-5.2 0-7-4.4-7-8.2V8.8h16.6v2.8c-.2 4-2.4 8.2-7.4 8.2zm8.4-6.2c.2-.6.2-1.4.2-2V8.4c.4-.2.6-.4 1-.4.6-.2 1.2 0 1.4.4.4.4.6 1 .4 1.8-.2 1.4-1.6 3-3 3.4z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        zo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "m14.8 15.3 1.3-3.8c.1-.2 0-.5-.2-.6l-3.3-2.4c-.2-.1-.5-.1-.6 0l-3.3 2.4c-.2.1-.3.4-.2.6l1.3 3.8c.1.2.3.4.5.4h4c.2 0 .4-.2.5-.4z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M12 1.9C6.4 1.9 1.9 6.4 1.9 12S6.4 22.1 12 22.1 22.1 17.6 22.1 12 17.6 1.9 12 1.9zM9.8 20.3c.1-.2.1-.4 0-.6l-1.4-2.3c-.1-.1-.2-.2-.4-.3l-2.5-.6c-.2-.1-.5.1-.6.2-.9-1.3-1.4-2.9-1.5-4.5.2 0 .4 0 .5-.2l1.7-2c.1 0 .2-.2.2-.3l-.3-2.6c0-.2-.1-.3-.3-.4C6.2 5.4 7.5 4.5 9 4c0 .1.2.3.3.3l2.5 1.1c.1.1.3.1.4 0l2.5-1.1.3-.3c1.5.6 2.7 1.5 3.7 2.7-.1.1-.2.2-.2.4l-.2 2.6c0 .2 0 .3.1.4l1.7 2c.1.1.3.2.4.2 0 1.6-.5 3.1-1.3 4.4-.1-.1-.2-.1-.4-.1l-2.5.6c-.1 0-.3.1-.4.3l-1.4 2.3c-.1.2-.1.3 0 .5-.8.2-1.6.4-2.5.4-.7-.1-1.5-.2-2.2-.4z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Ho = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M21.5 11.5c0-.7-.1-1.4-.3-2l-1.5-4.3C19.2 3.9 18 3 16.6 3H7.3c-1.4 0-2.6.9-3.1 2.2L2.6 9.9c-.1.4-.2.7-.2 1.1v8.6c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-1.1h12.7v1.1c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-7.4l-.2-.7zM4.1 10.4l1.6-4.7c.2-.7.9-1.2 1.7-1.2h9.2c.7 0 1.4.5 1.6 1.2l1.5 4.3c.1.3.2.6.2.8H4c-.1-.1 0-.3.1-.4zm1.4 5.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5c-.1.8-.7 1.5-1.5 1.5zm9.4-.6H9.3c-.5 0-1-.4-1-1 0-.5.4-1 1-1h5.6c.5 0 1 .4 1 1-.1.6-.5 1-1 1zm3.7.6c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Jo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M18.8 6.7c-.9-2.6-3.2-4.6-6-4.9h-1.6c-2.8.3-5.1 2.2-6 4.9-1 3 .1 6.2 2.7 8H8c.2.1.3.4.3.6v2c0 .8.6 1.4 1.4 1.4h4.6c.8 0 1.4-.6 1.4-1.4v-2c0-.2.1-.5.3-.6l.1-.1c2.5-1.8 3.6-5 2.7-7.9zm-3.5 6.9-.1.1c-.5.4-.9 1-.9 1.7v2s0 .1-.1.1H9.8s-.1 0-.1-.1v-2c0-.7-.3-1.3-.9-1.7l-.1-.1c-2-1.4-3-4-2.2-6.5.7-2.1 2.6-3.7 4.9-3.9h1.3c2.2.2 4.2 1.8 4.9 3.9.7 2.4-.2 5-2.3 6.5zm-6.1 7.6c0 .6.5 1 1 1h3.7c.6 0 1-.5 1-1v-1H9.2v1z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M13.6 10.5c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3-.2.3-.5.5-.8.5s-.6-.2-.8-.5c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8 0 .4.3.7.7.8.3.4.7.7 1.1.8V15c0 .2.2.4.4.4s.4-.2.4-.4v-2.1c.4-.1.8-.4 1.1-.8.4 0 .8-.3.8-.8s-.3-.8-.7-.8z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Qo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M14.5 12.9V11h2.2l-.2-1.3h-2V7.3H13v2.5h-2V7.4H9.5v2.4H7.2l.2 1.2h2.1v1.9H7.3l.2 1.3h2v2.4H11v-2.4h2v2.4h1.5v-2.4h2.3l-.2-1.3h-2.1zM11 11h2v1.9h-2V11z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M16.1 2.6H7.9C5 2.6 2.6 5 2.6 7.9V16c0 3 2.4 5.3 5.3 5.3H16c3 0 5.3-2.4 5.3-5.3V7.9c.1-2.9-2.3-5.3-5.2-5.3zm3.7 13.5c0 2.1-1.6 3.8-3.7 3.8H7.9c-2.1 0-3.8-1.7-3.8-3.8V7.9c0-2.1 1.7-3.8 3.8-3.8H16c2.1 0 3.8 1.7 3.8 3.8v8.2z",
              }),
            ],
            4,
            { viewBox: "0 0 24 24" }
          );
        },
        Xo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M5.5 3.8v-.2c0-.3-.2-.5-.5-.5h-.5c-.3 0-.5.2-.5.5V21c0 .3.2.5.5.5H5c.3 0 .5-.2.5-.5v-6.2c5 1.8 9.3-2.7 14.5.6V4.1C14.9 1 10.3 5.6 5.5 3.8zm10.3 8.8c-1.4 0-2.8.3-4.1.6-1.2.3-2.4.5-3.5.5-.9 0-1.8-.2-2.6-.5V5.4c.8.2 1.5.3 2.3.3 1.5 0 2.9-.4 4.3-.7 1.3-.3 2.5-.6 3.8-.6.9 0 1.7.2 2.5.5V13c-.9-.2-1.8-.4-2.7-.4z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        qo = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d: "M17.278 9.5 9.5 1.722 1.722 9.5",
            }),
            2,
            { viewBox: "0 0 19 11" }
          );
        },
        $o = {
          "smileys & people": [
            "ðŸ˜€",
            "ðŸ˜ƒ",
            "ðŸ˜„",
            "ðŸ˜",
            "ðŸ˜†",
            "ðŸ˜…",
            "ðŸ˜‚",
            "ðŸ¤£",
            "ðŸ¥²",
            "â˜º",
            "ðŸ˜Š",
            "ðŸ˜‡",
            "ðŸ™‚",
            "ðŸ™ƒ",
            "ðŸ˜‰",
            "ðŸ˜Œ",
            "ðŸ˜",
            "ðŸ¥°",
            "ðŸ˜˜",
            "ðŸ˜—",
            "ðŸ˜™",
            "ðŸ˜š",
            "ðŸ˜‹",
            "ðŸ˜›",
            "ðŸ˜",
            "ðŸ˜œ",
            "ðŸ¤ª",
            "ðŸ¤¨",
            "ðŸ§",
            "ðŸ¤“",
            "ðŸ˜Ž",
            "ðŸ¥¸",
            "ðŸ¤©",
            "ðŸ¥³",
            "ðŸ˜",
            "ðŸ˜’",
            "ðŸ˜ž",
            "ðŸ˜”",
            "ðŸ˜Ÿ",
            "ðŸ˜•",
            "ðŸ™",
            "â˜¹",
            "ðŸ˜£",
            "ðŸ˜–",
            "ðŸ˜«",
            "ðŸ˜©",
            "ðŸ¥º",
            "ðŸ˜¢",
            "ðŸ˜­",
            "ðŸ˜¤",
            "ðŸ˜ ",
            "ðŸ˜¡",
            "ðŸ¤¬",
            "ðŸ¤¯",
            "ðŸ˜³",
            "ðŸ¥µ",
            "ðŸ¥¶",
            "ðŸ˜¶â€ðŸŒ«",
            "ðŸ˜±",
            "ðŸ˜¨",
            "ðŸ˜°",
            "ðŸ˜¥",
            "ðŸ˜“",
            "ðŸ¤—",
            "ðŸ¤”",
            "ðŸ¤­",
            "ðŸ¤«",
            "ðŸ¤¥",
            "ðŸ˜¶",
            "ðŸ˜",
            "ðŸ˜‘",
            "ðŸ˜¬",
            "ðŸ™„",
            "ðŸ˜¯",
            "ðŸ˜¦",
            "ðŸ˜§",
            "ðŸ˜®",
            "ðŸ˜²",
            "ðŸ¥±",
            "ðŸ˜´",
            "ðŸ¤¤",
            "ðŸ˜ª",
            "ðŸ˜®â€ðŸ’¨",
            "ðŸ˜µ",
            "ðŸ˜µâ€ðŸ’«",
            "ðŸ¤",
            "ðŸ¥´",
            "ðŸ¤¢",
            "ðŸ¤®",
            "ðŸ¤§",
            "ðŸ˜·",
            "ðŸ¤’",
            "ðŸ¤•",
            "ðŸ¤‘",
            "ðŸ¤ ",
            "ðŸ˜ˆ",
            "ðŸ‘¿",
            "ðŸ‘¹",
            "ðŸ‘º",
            "ðŸ¤¡",
            "ðŸ’©",
            "ðŸ‘»",
            "ðŸ’€",
            "â˜ ",
            "ðŸ‘½",
            "ðŸ‘¾",
            "ðŸ¤–",
            "ðŸŽƒ",
            "ðŸ˜º",
            "ðŸ˜¸",
            "ðŸ˜¹",
            "ðŸ˜»",
            "ðŸ˜¼",
            "ðŸ˜½",
            "ðŸ™€",
            "ðŸ˜¿",
            "ðŸ˜¾",
            "ðŸ¤²",
            "ðŸ‘",
            "ðŸ™Œ",
            "ðŸ‘",
            "ðŸ¤",
            "ðŸ‘",
            "ðŸ‘Ž",
            "ðŸ‘Š",
            "âœŠ",
            "ðŸ¤›",
            "ðŸ¤œ",
            "ðŸ¤ž",
            "âœŒ",
            "ðŸ¤Ÿ",
            "ðŸ¤˜",
            "ðŸ‘Œ",
            "ðŸ¤Œ",
            "ðŸ¤",
            "ðŸ‘ˆ",
            "ðŸ‘‰",
            "ðŸ‘†",
            "ðŸ‘‡",
            "â˜",
            "âœ‹",
            "ðŸ¤š",
            "ðŸ–",
            "ðŸ––",
            "ðŸ‘‹",
            "ðŸ¤™",
            "ðŸ’ª",
            "ðŸ¦¾",
            "ðŸ–•",
            "âœ",
            "ðŸ™",
            "ðŸ¦¶",
            "ðŸ¦µ",
            "ðŸ¦¿",
            "ðŸ’„",
            "ðŸ’‹",
            "ðŸ‘„",
            "ðŸ¦·",
            "ðŸ‘…",
            "ðŸ‘‚",
            "ðŸ¦»",
            "ðŸ‘ƒ",
            "ðŸ‘£",
            "ðŸ‘",
            "ðŸ‘€",
            "ðŸ«€",
            "ðŸ«",
            "ðŸ§ ",
            "ðŸ—£",
            "ðŸ‘¤",
            "ðŸ‘¥",
            "ðŸ«‚",
            "ðŸ‘¶",
            "ðŸ‘§",
            "ðŸ§’",
            "ðŸ‘¦",
            "ðŸ‘©",
            "ðŸ§‘",
            "ðŸ‘¨",
            "ðŸ‘©â€ðŸ¦±",
            "ðŸ§‘â€ðŸ¦±",
            "ðŸ‘¨â€ðŸ¦±",
            "ðŸ‘©â€ðŸ¦°",
            "ðŸ§‘â€ðŸ¦°",
            "ðŸ‘¨â€ðŸ¦°",
            "ðŸ‘±â€â™€",
            "ðŸ‘±â€â™‚",
            "ðŸ‘©â€ðŸ¦³",
            "ðŸ§‘â€ðŸ¦³",
            "ðŸ‘¨â€ðŸ¦³",
            "ðŸ‘©â€ðŸ¦²",
            "ðŸ§‘â€ðŸ¦²",
            "ðŸ‘¨â€ðŸ¦²",
            "ðŸ§”â€â™€",
            "ðŸ§”",
            "ðŸ‘µ",
            "ðŸ§“",
            "ðŸ‘´",
            "ðŸ‘²",
            "ðŸ‘³â€â™€",
            "ðŸ‘³â€â™‚",
            "ðŸ§•",
            "ðŸ‘®â€â™€",
            "ðŸ‘®â€â™‚",
            "ðŸ‘·â€â™€",
            "ðŸ‘·â€â™‚",
            "ðŸ’‚â€â™€",
            "ðŸ’‚â€â™‚",
            "ðŸ•µâ€â™€",
            "ðŸ•µâ€â™‚",
            "ðŸ‘©â€âš•",
            "ðŸ§‘â€âš•",
            "ðŸ‘¨â€âš•",
            "ðŸ‘©â€ðŸŒ¾",
            "ðŸ§‘â€ðŸŒ¾",
            "ðŸ‘¨â€ðŸŒ¾",
            "ðŸ‘©â€ðŸ³",
            "ðŸ§‘â€ðŸ³",
            "ðŸ‘¨â€ðŸ³",
            "ðŸ‘©â€ðŸŽ“",
            "ðŸ§‘â€ðŸŽ“",
            "ðŸ‘¨â€ðŸŽ“",
            "ðŸ‘©â€ðŸŽ¤",
            "ðŸ§‘â€ðŸŽ¤",
            "ðŸ‘¨â€ðŸŽ¤",
            "ðŸ‘©â€ðŸ«",
            "ðŸ§‘â€ðŸ«",
            "ðŸ‘¨â€ðŸ«",
            "ðŸ‘©â€ðŸ­",
            "ðŸ§‘â€ðŸ­",
            "ðŸ‘¨â€ðŸ­",
            "ðŸ‘©â€ðŸ’»",
            "ðŸ§‘â€ðŸ’»",
            "ðŸ‘¨â€ðŸ’»",
            "ðŸ‘©â€ðŸ’¼",
            "ðŸ§‘â€ðŸ’¼",
            "ðŸ‘¨â€ðŸ’¼",
            "ðŸ‘©â€ðŸ”§",
            "ðŸ§‘â€ðŸ”§",
            "ðŸ‘¨â€ðŸ”§",
            "ðŸ‘©â€ðŸ”¬",
            "ðŸ§‘â€ðŸ”¬",
            "ðŸ‘¨â€ðŸ”¬",
            "ðŸ‘©â€ðŸŽ¨",
            "ðŸ§‘â€ðŸŽ¨",
            "ðŸ‘¨â€ðŸŽ¨",
            "ðŸ‘©â€ðŸš’",
            "ðŸ§‘â€ðŸš’",
            "ðŸ‘¨â€ðŸš’",
            "ðŸ‘©â€âœˆ",
            "ðŸ§‘â€âœˆ",
            "ðŸ‘¨â€âœˆ",
            "ðŸ‘©â€ðŸš€",
            "ðŸ§‘â€ðŸš€",
            "ðŸ‘¨â€ðŸš€",
            "ðŸ‘©â€âš–",
            "ðŸ§‘â€âš–",
            "ðŸ‘¨â€âš–",
            "ðŸ‘°â€â™€",
            "ðŸ‘°",
            "ðŸ‘°â€â™‚",
            "ðŸ¤µâ€â™€",
            "ðŸ¤µ",
            "ðŸ¤µâ€â™‚",
            "ðŸ‘¸",
            "ðŸ¤´",
            "ðŸ¥·",
            "ðŸ¦¸â€â™€",
            "ðŸ¦¸â€â™‚",
            "ðŸ¦¹â€â™€",
            "ðŸ¦¹â€â™‚",
            "ðŸ¤¶",
            "ðŸ§‘â€ðŸŽ„",
            "ðŸŽ…",
            "ðŸ§™â€â™€",
            "ðŸ§™â€â™‚",
            "ðŸ§â€â™€",
            "ðŸ§â€â™‚",
            "ðŸ§›â€â™€",
            "ðŸ§›â€â™‚",
            "ðŸ§Ÿâ€â™€",
            "ðŸ§Ÿâ€â™‚",
            "ðŸ§žâ€â™€",
            "ðŸ§žâ€â™‚",
            "ðŸ§œâ€â™€",
            "ðŸ§œâ€â™‚",
            "ðŸ§šâ€â™€",
            "ðŸ§šâ€â™‚",
            "ðŸ‘¼",
            "ðŸ¤°",
            "ðŸ¤±",
            "ðŸ‘©â€ðŸ¼",
            "ðŸ§‘â€ðŸ¼",
            "ðŸ‘¨â€ðŸ¼",
            "ðŸ™‡â€â™€",
            "ðŸ™‡â€â™‚",
            "ðŸ’â€â™€",
            "ðŸ’â€â™‚",
            "ðŸ™…â€â™€",
            "ðŸ™…â€â™‚",
            "ðŸ™†â€â™€",
            "ðŸ™†â€â™‚",
            "ðŸ™‹â€â™€",
            "ðŸ™‹â€â™‚",
            "ðŸ§â€â™€",
            "ðŸ§",
            "ðŸ§â€â™‚",
            "ðŸ¤¦â€â™€",
            "ðŸ¤¦â€â™‚",
            "ðŸ¤·â€â™€",
            "ðŸ¤·â€â™‚",
            "ðŸ™Žâ€â™€",
            "ðŸ™Žâ€â™‚",
            "ðŸ™â€â™€",
            "ðŸ™â€â™‚",
            "ðŸ’‡â€â™€",
            "ðŸ’‡â€â™‚",
            "ðŸ’†â€â™€",
            "ðŸ’†â€â™‚",
            "ðŸ§–â€â™€",
            "ðŸ§–",
            "ðŸ§–â€â™‚",
            "ðŸ’…",
            "ðŸ¤³",
            "ðŸ’ƒ",
            "ðŸ•º",
            "ðŸ‘¯â€â™€",
            "ðŸ‘¯â€â™‚",
            "ðŸ•´",
            "ðŸ‘©â€ðŸ¦½",
            "ðŸ§‘â€ðŸ¦½",
            "ðŸ‘¨â€ðŸ¦½",
            "ðŸ‘©â€ðŸ¦¼",
            "ðŸ§‘â€ðŸ¦¼",
            "ðŸ‘¨â€ðŸ¦¼",
            "ðŸš¶â€â™€",
            "ðŸš¶",
            "ðŸš¶â€â™‚",
            "ðŸ‘©â€ðŸ¦¯",
            "ðŸ§‘â€ðŸ¦¯",
            "ðŸ‘¨â€ðŸ¦¯",
            "ðŸ§Žâ€â™€",
            "ðŸ§Ž",
            "ðŸ§Žâ€â™‚",
            "ðŸƒâ€â™€",
            "ðŸƒ",
            "ðŸƒâ€â™‚",
            "ðŸ§â€â™€",
            "ðŸ§",
            "ðŸ§â€â™‚",
            "ðŸ‘«",
            "ðŸ‘­",
            "ðŸ‘¬",
            "ðŸ‘©â€â¤â€ðŸ‘¨",
            "ðŸ‘©â€â¤â€ðŸ‘©",
            "ðŸ’‘",
            "ðŸ‘¨â€â¤â€ðŸ‘¨",
            "ðŸ‘©â€â¤â€ðŸ’‹â€ðŸ‘¨",
            "ðŸ‘©â€â¤â€ðŸ’‹â€ðŸ‘©",
            "ðŸ’",
            "ðŸ‘¨â€â¤â€ðŸ’‹â€ðŸ‘¨",
            "ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§",
            "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§",
            "ðŸ‘©â€ðŸ‘©â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘©â€ðŸ‘§",
            "ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§",
            "ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§",
            "ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§",
            "ðŸ‘©â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘§",
            "ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦",
            "ðŸ‘©â€ðŸ‘§â€ðŸ‘§",
            "ðŸ‘¨â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘§",
            "ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦",
            "ðŸ‘¨â€ðŸ‘§â€ðŸ‘§",
            "ðŸª¢",
            "ðŸ§¶",
            "ðŸ§µ",
            "ðŸª¡",
            "ðŸ§¥",
            "ðŸ¥¼",
            "ðŸ¦º",
            "ðŸ‘š",
            "ðŸ‘•",
            "ðŸ‘–",
            "ðŸ©²",
            "ðŸ©³",
            "ðŸ‘”",
            "ðŸ‘—",
            "ðŸ‘™",
            "ðŸ©±",
            "ðŸ‘˜",
            "ðŸ¥»",
            "ðŸ©´",
            "ðŸ¥¿",
            "ðŸ‘ ",
            "ðŸ‘¡",
            "ðŸ‘¢",
            "ðŸ‘ž",
            "ðŸ‘Ÿ",
            "ðŸ¥¾",
            "ðŸ§¦",
            "ðŸ§¤",
            "ðŸ§£",
            "ðŸŽ©",
            "ðŸ§¢",
            "ðŸ‘’",
            "ðŸŽ“",
            "â›‘",
            "ðŸª–",
            "ðŸ‘‘",
            "ðŸ’",
            "ðŸ‘",
            "ðŸ‘›",
            "ðŸ‘œ",
            "ðŸ’¼",
            "ðŸŽ’",
            "ðŸ§³",
            "ðŸ‘“",
            "ðŸ•¶",
            "ðŸ¥½",
            "ðŸŒ‚",
          ],
          "animals & nature": [
            "ðŸ¶",
            "ðŸ±",
            "ðŸ­",
            "ðŸ¹",
            "ðŸ°",
            "ðŸ¦Š",
            "ðŸ»",
            "ðŸ¼",
            "ðŸ»â€â„",
            "ðŸ¨",
            "ðŸ¯",
            "ðŸ¦",
            "ðŸ®",
            "ðŸ·",
            "ðŸ½",
            "ðŸ¸",
            "ðŸµ",
            "ðŸ™ˆ",
            "ðŸ™‰",
            "ðŸ™Š",
            "ðŸ’",
            "ðŸ”",
            "ðŸ§",
            "ðŸ¦",
            "ðŸ¤",
            "ðŸ£",
            "ðŸ¥",
            "ðŸ¦†",
            "ðŸ¦…",
            "ðŸ¦‰",
            "ðŸ¦‡",
            "ðŸº",
            "ðŸ—",
            "ðŸ´",
            "ðŸ¦„",
            "ðŸ",
            "ðŸª±",
            "ðŸ›",
            "ðŸ¦‹",
            "ðŸŒ",
            "ðŸž",
            "ðŸœ",
            "ðŸª°",
            "ðŸª²",
            "ðŸª³",
            "ðŸ¦Ÿ",
            "ðŸ¦—",
            "ðŸ•·",
            "ðŸ•¸",
            "ðŸ¦‚",
            "ðŸ¢",
            "ðŸ",
            "ðŸ¦Ž",
            "ðŸ¦–",
            "ðŸ¦•",
            "ðŸ™",
            "ðŸ¦‘",
            "ðŸ¦",
            "ðŸ¦ž",
            "ðŸ¦€",
            "ðŸ¡",
            "ðŸ ",
            "ðŸŸ",
            "ðŸ¬",
            "ðŸ³",
            "ðŸ‹",
            "ðŸ¦ˆ",
            "ðŸ¦­",
            "ðŸŠ",
            "ðŸ…",
            "ðŸ†",
            "ðŸ¦“",
            "ðŸ¦",
            "ðŸ¦§",
            "ðŸ¦£",
            "ðŸ˜",
            "ðŸ¦›",
            "ðŸ¦",
            "ðŸª",
            "ðŸ«",
            "ðŸ¦’",
            "ðŸ¦˜",
            "ðŸ¦¬",
            "ðŸƒ",
            "ðŸ‚",
            "ðŸ„",
            "ðŸŽ",
            "ðŸ–",
            "ðŸ",
            "ðŸ‘",
            "ðŸ¦™",
            "ðŸ",
            "ðŸ¦Œ",
            "ðŸ•",
            "ðŸ©",
            "ðŸ¦®",
            "ðŸ•â€ðŸ¦º",
            "ðŸˆ",
            "ðŸˆâ€â¬›",
            "ðŸª¶",
            "ðŸ“",
            "ðŸ¦ƒ",
            "ðŸ¦¤",
            "ðŸ¦š",
            "ðŸ¦œ",
            "ðŸ¦¢",
            "ðŸ¦©",
            "ðŸ•Š",
            "ðŸ‡",
            "ðŸ¦",
            "ðŸ¦¨",
            "ðŸ¦¡",
            "ðŸ¦«",
            "ðŸ¦¦",
            "ðŸ¦¥",
            "ðŸ",
            "ðŸ€",
            "ðŸ¿",
            "ðŸ¦”",
            "ðŸ¾",
            "ðŸ‰",
            "ðŸ²",
            "ðŸŒµ",
            "ðŸŽ„",
            "ðŸŒ²",
            "ðŸŒ³",
            "ðŸŒ´",
            "ðŸªµ",
            "ðŸŒ±",
            "ðŸŒ¿",
            "â˜˜",
            "ðŸ€",
            "ðŸŽ",
            "ðŸª´",
            "ðŸŽ‹",
            "ðŸƒ",
            "ðŸ‚",
            "ðŸ",
            "ðŸ„",
            "ðŸš",
            "ðŸª¨",
            "ðŸŒ¾",
            "ðŸ’",
            "ðŸŒ·",
            "ðŸŒ¹",
            "ðŸ¥€",
            "ðŸŒº",
            "ðŸŒ¸",
            "ðŸŒ¼",
            "ðŸŒ»",
            "ðŸŒž",
            "ðŸŒ",
            "ðŸŒ›",
            "ðŸŒœ",
            "ðŸŒš",
            "ðŸŒ•",
            "ðŸŒ–",
            "ðŸŒ—",
            "ðŸŒ˜",
            "ðŸŒ‘",
            "ðŸŒ’",
            "ðŸŒ“",
            "ðŸŒ”",
            "ðŸŒ™",
            "ðŸŒŽ",
            "ðŸŒ",
            "ðŸŒ",
            "ðŸª",
            "ðŸ’«",
            "â­",
            "ðŸŒŸ",
            "âœ¨",
            "âš¡",
            "â˜„",
            "ðŸ’¥",
            "ðŸ”¥",
            "ðŸŒª",
            "ðŸŒˆ",
            "â˜€",
            "ðŸŒ¤",
            "â›…",
            "ðŸŒ¥",
            "â˜",
            "ðŸŒ¦",
            "ðŸŒ§",
            "â›ˆ",
            "ðŸŒ©",
            "ðŸŒ¨",
            "â„",
            "â˜ƒ",
            "â›„",
            "ðŸŒ¬",
            "ðŸ’¨",
            "ðŸ’§",
            "ðŸ’¦",
            "â˜”",
            "â˜‚",
            "ðŸŒŠ",
            "ðŸŒ«",
          ],
          "food & drink": [
            "ðŸ",
            "ðŸŽ",
            "ðŸ",
            "ðŸŠ",
            "ðŸ‹",
            "ðŸŒ",
            "ðŸ‰",
            "ðŸ‡",
            "ðŸ“",
            "ðŸ«",
            "ðŸˆ",
            "ðŸ’",
            "ðŸ‘",
            "ðŸ¥­",
            "ðŸ",
            "ðŸ¥¥",
            "ðŸ¥",
            "ðŸ…",
            "ðŸ†",
            "ðŸ¥‘",
            "ðŸ¥¦",
            "ðŸ¥¬",
            "ðŸ¥’",
            "ðŸŒ¶",
            "ðŸ«‘",
            "ðŸŒ½",
            "ðŸ¥•",
            "ðŸ«’",
            "ðŸ§„",
            "ðŸ§…",
            "ðŸ¥”",
            "ðŸ ",
            "ðŸ¥",
            "ðŸ¥¯",
            "ðŸž",
            "ðŸ¥–",
            "ðŸ¥¨",
            "ðŸ§€",
            "ðŸ¥š",
            "ðŸ³",
            "ðŸ§ˆ",
            "ðŸ¥ž",
            "ðŸ§‡",
            "ðŸ¥“",
            "ðŸ¥©",
            "ðŸ—",
            "ðŸ–",
            "ðŸ¦´",
            "ðŸŒ­",
            "ðŸ”",
            "ðŸŸ",
            "ðŸ•",
            "ðŸ«“",
            "ðŸ¥ª",
            "ðŸ¥™",
            "ðŸ§†",
            "ðŸŒ®",
            "ðŸŒ¯",
            "ðŸ«”",
            "ðŸ¥—",
            "ðŸ¥˜",
            "ðŸ«•",
            "ðŸ¥«",
            "ðŸ",
            "ðŸœ",
            "ðŸ²",
            "ðŸ›",
            "ðŸ£",
            "ðŸ±",
            "ðŸ¥Ÿ",
            "ðŸ¦ª",
            "ðŸ¤",
            "ðŸ™",
            "ðŸš",
            "ðŸ˜",
            "ðŸ¥",
            "ðŸ¥ ",
            "ðŸ¥®",
            "ðŸ¢",
            "ðŸ¡",
            "ðŸ§",
            "ðŸ¨",
            "ðŸ¦",
            "ðŸ¥§",
            "ðŸ§",
            "ðŸ°",
            "ðŸŽ‚",
            "ðŸ®",
            "ðŸ­",
            "ðŸ¬",
            "ðŸ«",
            "ðŸ¿",
            "ðŸ©",
            "ðŸª",
            "ðŸŒ°",
            "ðŸ¥œ",
            "ðŸ¯",
            "ðŸ¥›",
            "ðŸ¼",
            "ðŸ«–",
            "â˜•",
            "ðŸµ",
            "ðŸ§ƒ",
            "ðŸ¥¤",
            "ðŸ§‹",
            "ðŸ¶",
            "ðŸº",
            "ðŸ»",
            "ðŸ¥‚",
            "ðŸ·",
            "ðŸ¥ƒ",
            "ðŸ¸",
            "ðŸ¹",
            "ðŸ§‰",
            "ðŸ¾",
            "ðŸ§Š",
            "ðŸ¥„",
            "ðŸ´",
            "ðŸ½",
            "ðŸ¥£",
            "ðŸ¥¡",
            "ðŸ¥¢",
            "ðŸ§‚",
          ],
          activity: [
            "âš½",
            "ðŸ€",
            "ðŸˆ",
            "âš¾",
            "ðŸ¥Ž",
            "ðŸŽ¾",
            "ðŸ",
            "ðŸ‰",
            "ðŸ¥",
            "ðŸŽ±",
            "ðŸª€",
            "ðŸ“",
            "ðŸ¸",
            "ðŸ’",
            "ðŸ‘",
            "ðŸ¥",
            "ðŸ",
            "ðŸªƒ",
            "ðŸ¥…",
            "â›³",
            "ðŸª",
            "ðŸ¹",
            "ðŸŽ£",
            "ðŸ¤¿",
            "ðŸ¥Š",
            "ðŸ¥‹",
            "ðŸŽ½",
            "ðŸ›¹",
            "ðŸ›¼",
            "ðŸ›·",
            "â›¸",
            "ðŸ¥Œ",
            "ðŸŽ¿",
            "â›·",
            "ðŸ‚",
            "ðŸª‚",
            "ðŸ‹â€â™€",
            "ðŸ‹â€â™‚",
            "ðŸ¤¼â€â™€",
            "ðŸ¤¼â€â™‚",
            "ðŸ¤¸â€â™€",
            "ðŸ¤¸",
            "ðŸ¤¸â€â™‚",
            "â›¹â€â™€",
            "â›¹",
            "â›¹â€â™‚",
            "ðŸ¤º",
            "ðŸ¤¾â€â™€",
            "ðŸ¤¾",
            "ðŸ¤¾â€â™‚",
            "ðŸŒâ€â™€",
            "ðŸŒ",
            "ðŸŒâ€â™‚",
            "ðŸ‡",
            "ðŸ§˜â€â™€",
            "ðŸ§˜",
            "ðŸ§˜â€â™‚",
            "ðŸ„â€â™€",
            "ðŸ„",
            "ðŸ„â€â™‚",
            "ðŸŠâ€â™€",
            "ðŸŠ",
            "ðŸŠâ€â™‚",
            "ðŸ¤½â€â™€",
            "ðŸ¤½",
            "ðŸ¤½â€â™‚",
            "ðŸš£â€â™€",
            "ðŸš£",
            "ðŸš£â€â™‚",
            "ðŸ§—â€â™€",
            "ðŸ§—",
            "ðŸ§—â€â™‚",
            "ðŸšµâ€â™€",
            "ðŸšµ",
            "ðŸšµâ€â™‚",
            "ðŸš´â€â™€",
            "ðŸš´",
            "ðŸš´â€â™‚",
            "ðŸ†",
            "ðŸ¥‡",
            "ðŸ¥ˆ",
            "ðŸ¥‰",
            "ðŸ…",
            "ðŸŽ–",
            "ðŸµ",
            "ðŸŽ—",
            "ðŸŽ«",
            "ðŸŽŸ",
            "ðŸŽª",
            "ðŸ¤¹â€â™€",
            "ðŸ¤¹â€â™‚",
            "ðŸŽ­",
            "ðŸ©°",
            "ðŸŽ¨",
            "ðŸŽ¬",
            "ðŸŽ¤",
            "ðŸŽ§",
            "ðŸŽ¼",
            "ðŸŽ¹",
            "ðŸ¥",
            "ðŸª˜",
            "ðŸŽ·",
            "ðŸŽº",
            "ðŸª—",
            "ðŸŽ¸",
            "ðŸª•",
            "ðŸŽ»",
            "ðŸŽ²",
            "â™Ÿ",
            "ðŸŽ¯",
            "ðŸŽ³",
            "ðŸŽ®",
            "ðŸŽ°",
            "ðŸ§©",
          ],
          "travel & places": [
            "ðŸš—",
            "ðŸš•",
            "ðŸš™",
            "ðŸšŒ",
            "ðŸšŽ",
            "ðŸŽ",
            "ðŸš“",
            "ðŸš‘",
            "ðŸš’",
            "ðŸš",
            "ðŸ›»",
            "ðŸšš",
            "ðŸš›",
            "ðŸšœ",
            "ðŸ¦¯",
            "ðŸ¦½",
            "ðŸ¦¼",
            "ðŸ›´",
            "ðŸš²",
            "ðŸ›µ",
            "ðŸ",
            "ðŸ›º",
            "ðŸš¨",
            "ðŸš”",
            "ðŸš",
            "ðŸš˜",
            "ðŸš–",
            "ðŸš¡",
            "ðŸš ",
            "ðŸšŸ",
            "ðŸšƒ",
            "ðŸš‹",
            "ðŸšž",
            "ðŸš",
            "ðŸš„",
            "ðŸš…",
            "ðŸšˆ",
            "ðŸš‚",
            "ðŸš†",
            "ðŸš‡",
            "ðŸšŠ",
            "ðŸš‰",
            "âœˆ",
            "ðŸ›«",
            "ðŸ›¬",
            "ðŸ›©",
            "ðŸ’º",
            "ðŸ›°",
            "ðŸš€",
            "ðŸ›¸",
            "ðŸš",
            "ðŸ›¶",
            "â›µ",
            "ðŸš¤",
            "ðŸ›¥",
            "ðŸ›³",
            "â›´",
            "ðŸš¢",
            "âš“",
            "ðŸª",
            "â›½",
            "ðŸš§",
            "ðŸš¦",
            "ðŸš¥",
            "ðŸš",
            "ðŸ—º",
            "ðŸ—¿",
            "ðŸ—½",
            "ðŸ—¼",
            "ðŸ°",
            "ðŸ¯",
            "ðŸŸ",
            "ðŸŽ¡",
            "ðŸŽ¢",
            "ðŸŽ ",
            "â›²",
            "â›±",
            "ðŸ–",
            "ðŸ",
            "ðŸœ",
            "ðŸŒ‹",
            "â›°",
            "ðŸ”",
            "ðŸ—»",
            "ðŸ•",
            "â›º",
            "ðŸ›–",
            "ðŸ ",
            "ðŸ¡",
            "ðŸ˜",
            "ðŸš",
            "ðŸ—",
            "ðŸ­",
            "ðŸ¢",
            "ðŸ¬",
            "ðŸ£",
            "ðŸ¤",
            "ðŸ¥",
            "ðŸ¦",
            "ðŸ¨",
            "ðŸª",
            "ðŸ«",
            "ðŸ©",
            "ðŸ’’",
            "ðŸ›",
            "â›ª",
            "ðŸ•Œ",
            "ðŸ•",
            "ðŸ›•",
            "ðŸ•‹",
            "â›©",
            "ðŸ›¤",
            "ðŸ›£",
            "ðŸ—¾",
            "ðŸŽ‘",
            "ðŸž",
            "ðŸŒ…",
            "ðŸŒ„",
            "ðŸŒ ",
            "ðŸŽ‡",
            "ðŸŽ†",
            "ðŸŒ‡",
            "ðŸŒ†",
            "ðŸ™",
            "ðŸŒƒ",
            "ðŸŒŒ",
            "ðŸŒ‰",
            "ðŸŒ",
          ],
          objects: [
            "âŒš",
            "ðŸ“±",
            "ðŸ“²",
            "ðŸ’»",
            "âŒ¨",
            "ðŸ–¥",
            "ðŸ–¨",
            "ðŸ–±",
            "ðŸ–²",
            "ðŸ•¹",
            "ðŸ—œ",
            "ðŸ’½",
            "ðŸ’¾",
            "ðŸ’¿",
            "ðŸ“€",
            "ðŸ“¼",
            "ðŸ“·",
            "ðŸ“¸",
            "ðŸ“¹",
            "ðŸŽ¥",
            "ðŸ“½",
            "ðŸŽž",
            "ðŸ“ž",
            "â˜Ž",
            "ðŸ“Ÿ",
            "ðŸ“ ",
            "ðŸ“º",
            "ðŸ“»",
            "ðŸŽ™",
            "ðŸŽš",
            "ðŸŽ›",
            "ðŸ§­",
            "â±",
            "â²",
            "â°",
            "ðŸ•°",
            "âŒ›",
            "â³",
            "ðŸ“¡",
            "ðŸ”‹",
            "ðŸ”Œ",
            "ðŸ’¡",
            "ðŸ”¦",
            "ðŸ•¯",
            "ðŸª”",
            "ðŸ§¯",
            "ðŸ›¢",
            "ðŸ’¸",
            "ðŸ’µ",
            "ðŸ’´",
            "ðŸ’¶",
            "ðŸ’·",
            "ðŸª™",
            "ðŸ’°",
            "ðŸ’³",
            "ðŸ’Ž",
            "âš–",
            "ðŸªœ",
            "ðŸ§°",
            "ðŸª›",
            "ðŸ”§",
            "ðŸ”¨",
            "âš’",
            "ðŸ› ",
            "â›",
            "ðŸªš",
            "ðŸ”©",
            "âš™",
            "ðŸª¤",
            "ðŸ§±",
            "â›“",
            "ðŸ§²",
            "ðŸ”«",
            "ðŸ’£",
            "ðŸ§¨",
            "ðŸª“",
            "ðŸ”ª",
            "ðŸ—¡",
            "âš”",
            "ðŸ›¡",
            "ðŸš¬",
            "âš°",
            "ðŸª¦",
            "âš±",
            "ðŸº",
            "ðŸ”®",
            "ðŸ“¿",
            "ðŸ§¿",
            "ðŸ’ˆ",
            "âš—",
            "ðŸ”­",
            "ðŸ”¬",
            "ðŸ•³",
            "ðŸ©¹",
            "ðŸ©º",
            "ðŸ’Š",
            "ðŸ’‰",
            "ðŸ©¸",
            "ðŸ§¬",
            "ðŸ¦ ",
            "ðŸ§«",
            "ðŸ§ª",
            "ðŸŒ¡",
            "ðŸ§¹",
            "ðŸª ",
            "ðŸ§º",
            "ðŸ§»",
            "ðŸš½",
            "ðŸš°",
            "ðŸš¿",
            "ðŸ›",
            "ðŸ›€",
            "ðŸ§¼",
            "ðŸª¥",
            "ðŸª’",
            "ðŸ§½",
            "ðŸª£",
            "ðŸ§´",
            "ðŸ›Ž",
            "ðŸ”‘",
            "ðŸ—",
            "ðŸšª",
            "ðŸª‘",
            "ðŸ›‹",
            "ðŸ›",
            "ðŸ›Œ",
            "ðŸ§¸",
            "ðŸª†",
            "ðŸ–¼",
            "ðŸªž",
            "ðŸªŸ",
            "ðŸ›",
            "ðŸ›’",
            "ðŸŽ",
            "ðŸŽˆ",
            "ðŸŽ",
            "ðŸŽ€",
            "ðŸª„",
            "ðŸª…",
            "ðŸŽŠ",
            "ðŸŽ‰",
            "ðŸŽŽ",
            "ðŸ®",
            "ðŸŽ",
            "ðŸ§§",
            "âœ‰",
            "ðŸ“©",
            "ðŸ“¨",
            "ðŸ“§",
            "ðŸ’Œ",
            "ðŸ“¥",
            "ðŸ“¤",
            "ðŸ“¦",
            "ðŸ·",
            "ðŸª§",
            "ðŸ“ª",
            "ðŸ“«",
            "ðŸ“¬",
            "ðŸ“­",
            "ðŸ“®",
            "ðŸ“¯",
            "ðŸ“œ",
            "ðŸ“ƒ",
            "ðŸ“„",
            "ðŸ“‘",
            "ðŸ§¾",
            "ðŸ“Š",
            "ðŸ“ˆ",
            "ðŸ“‰",
            "ðŸ—’",
            "ðŸ—“",
            "ðŸ“†",
            "ðŸ“…",
            "ðŸ—‘",
            "ðŸ“‡",
            "ðŸ—ƒ",
            "ðŸ—³",
            "ðŸ—„",
            "ðŸ“‹",
            "ðŸ“",
            "ðŸ“‚",
            "ðŸ—‚",
            "ðŸ—ž",
            "ðŸ“°",
            "ðŸ““",
            "ðŸ“”",
            "ðŸ“’",
            "ðŸ“•",
            "ðŸ“—",
            "ðŸ“˜",
            "ðŸ“™",
            "ðŸ“š",
            "ðŸ“–",
            "ðŸ”–",
            "ðŸ§·",
            "ðŸ”—",
            "ðŸ“Ž",
            "ðŸ–‡",
            "ðŸ“",
            "ðŸ“",
            "ðŸ§®",
            "ðŸ“Œ",
            "ðŸ“",
            "âœ‚",
            "ðŸ–Š",
            "ðŸ–‹",
            "âœ’",
            "ðŸ–Œ",
            "ðŸ–",
            "ðŸ“",
            "âœ",
            "ðŸ”",
            "ðŸ”Ž",
            "ðŸ”",
            "ðŸ”",
            "ðŸ”’",
            "ðŸ”“",
          ],
          symbols: [
            "â¤",
            "ðŸ§¡",
            "ðŸ’›",
            "ðŸ’š",
            "ðŸ’™",
            "ðŸ’œ",
            "ðŸ–¤",
            "ðŸ¤",
            "ðŸ¤Ž",
            "ðŸ’”",
            "â¤â€ðŸ”¥",
            "â¤â€ðŸ©¹",
            "â£",
            "ðŸ’•",
            "ðŸ’ž",
            "ðŸ’“",
            "ðŸ’—",
            "ðŸ’–",
            "ðŸ’˜",
            "ðŸ’",
            "ðŸ’Ÿ",
            "â˜®",
            "âœ",
            "â˜ª",
            "ðŸ•‰",
            "â˜¸",
            "âœ¡",
            "ðŸ”¯",
            "ðŸ•Ž",
            "â˜¯",
            "â˜¦",
            "ðŸ›",
            "â›Ž",
            "â™ˆ",
            "â™‰",
            "â™Š",
            "â™‹",
            "â™Œ",
            "â™",
            "â™Ž",
            "â™",
            "â™",
            "â™‘",
            "â™’",
            "â™“",
            "ðŸ†”",
            "âš›",
            "ðŸ‰‘",
            "â˜¢",
            "â˜£",
            "ðŸ“´",
            "ðŸ“³",
            "ðŸˆ¶",
            "ðŸˆš",
            "ðŸˆ¸",
            "ðŸˆº",
            "ðŸˆ·",
            "âœ´",
            "ðŸ†š",
            "ðŸ’®",
            "ðŸ‰",
            "ãŠ™",
            "ãŠ—",
            "ðŸˆ´",
            "ðŸˆµ",
            "ðŸˆ¹",
            "ðŸˆ²",
            "ðŸ…°",
            "ðŸ…±",
            "ðŸ†Ž",
            "ðŸ†‘",
            "ðŸ…¾",
            "ðŸ†˜",
            "âŒ",
            "â­•",
            "ðŸ›‘",
            "â›”",
            "ðŸ“›",
            "ðŸš«",
            "ðŸ’¯",
            "ðŸ’¢",
            "â™¨",
            "ðŸš·",
            "ðŸš¯",
            "ðŸš³",
            "ðŸš±",
            "ðŸ”ž",
            "ðŸ“µ",
            "ðŸš­",
            "â—",
            "â•",
            "â“",
            "â”",
            "â€¼",
            "â‰",
            "ðŸ”…",
            "ðŸ”†",
            "ã€½",
            "âš ",
            "ðŸš¸",
            "ðŸ”±",
            "âšœ",
            "ðŸ”°",
            "â™»",
            "âœ…",
            "ðŸˆ¯",
            "ðŸ’¹",
            "â‡",
            "âœ³",
            "âŽ",
            "ðŸŒ",
            "ðŸ’ ",
            "â“‚",
            "ðŸŒ€",
            "ðŸ’¤",
            "ðŸ§",
            "ðŸš¾",
            "â™¿",
            "ðŸ…¿",
            "ðŸ›—",
            "ðŸˆ³",
            "ðŸˆ‚",
            "ðŸ›‚",
            "ðŸ›ƒ",
            "ðŸ›„",
            "ðŸ›…",
            "ðŸš¹",
            "ðŸšº",
            "ðŸš¼",
            "âš§",
            "ðŸš»",
            "ðŸš®",
            "ðŸŽ¦",
            "ðŸ“¶",
            "ðŸˆ",
            "ðŸ”£",
            "â„¹",
            "ðŸ”¤",
            "ðŸ”¡",
            "ðŸ” ",
            "ðŸ†–",
            "ðŸ†—",
            "ðŸ†™",
            "ðŸ†’",
            "ðŸ†•",
            "ðŸ†“",
            "0âƒ£",
            "1âƒ£",
            "2âƒ£",
            "3âƒ£",
            "4âƒ£",
            "5âƒ£",
            "6âƒ£",
            "7âƒ£",
            "8âƒ£",
            "9âƒ£",
            "ðŸ”Ÿ",
            "ðŸ”¢",
            "#âƒ£",
            "*âƒ£",
            "â",
            "â–¶",
            "â¸",
            "â¯",
            "â¹",
            "âº",
            "â­",
            "â®",
            "â©",
            "âª",
            "â«",
            "â¬",
            "â—€",
            "ðŸ”¼",
            "ðŸ”½",
            "âž¡",
            "â¬…",
            "â¬†",
            "â¬‡",
            "â†—",
            "â†˜",
            "â†™",
            "â†–",
            "â†•",
            "â†”",
            "â†ª",
            "â†©",
            "â¤´",
            "â¤µ",
            "ðŸ”€",
            "ðŸ”",
            "ðŸ”‚",
            "ðŸ”„",
            "ðŸ”ƒ",
            "ðŸŽµ",
            "ðŸŽ¶",
            "âž•",
            "âž–",
            "âž—",
            "âœ–",
            "â™¾",
            "ðŸ’²",
            "ðŸ’±",
            "â„¢",
            "Â©",
            "Â®",
            "ðŸ‘â€ðŸ—¨",
            "ðŸ”š",
            "ðŸ”™",
            "ðŸ”›",
            "ðŸ”",
            "ðŸ”œ",
            "ã€°",
            "âž°",
            "âž¿",
            "âœ”",
            "â˜‘",
            "ðŸ”˜",
            "ðŸ”´",
            "ðŸŸ ",
            "ðŸŸ¡",
            "ðŸŸ¢",
            "ðŸ”µ",
            "ðŸŸ£",
            "âš«",
            "âšª",
            "ðŸŸ¤",
            "ðŸ”º",
            "ðŸ”»",
            "ðŸ”¸",
            "ðŸ”¹",
            "ðŸ”¶",
            "ðŸ”·",
            "ðŸ”³",
            "ðŸ”²",
            "â–ª",
            "â–«",
            "â—¾",
            "â—½",
            "â—¼",
            "â—»",
            "ðŸŸ¥",
            "ðŸŸ§",
            "ðŸŸ¨",
            "ðŸŸ©",
            "ðŸŸ¦",
            "ðŸŸª",
            "â¬›",
            "â¬œ",
            "ðŸŸ«",
            "ðŸ”ˆ",
            "ðŸ”‡",
            "ðŸ”‰",
            "ðŸ”Š",
            "ðŸ””",
            "ðŸ”•",
            "ðŸ“£",
            "ðŸ“¢",
            "ðŸ’¬",
            "ðŸ’­",
            "ðŸ—¯",
            "â™ ",
            "â™£",
            "â™¥",
            "â™¦",
            "ðŸƒ",
            "ðŸŽ´",
            "ðŸ€„",
            "ðŸ•",
            "ðŸ•‘",
            "ðŸ•’",
            "ðŸ•“",
            "ðŸ•”",
            "ðŸ••",
            "ðŸ•–",
            "ðŸ•—",
            "ðŸ•˜",
            "ðŸ•™",
            "ðŸ•š",
            "ðŸ•›",
            "ðŸ•œ",
            "ðŸ•",
            "ðŸ•ž",
            "ðŸ•Ÿ",
            "ðŸ• ",
            "ðŸ•¡",
            "ðŸ•¢",
            "ðŸ•£",
            "ðŸ•¤",
            "ðŸ•¥",
            "ðŸ•¦",
            "ðŸ•§",
          ],
          flags: [
            "ðŸ³",
            "ðŸ´",
            "ðŸ´â€â˜ ",
            "ðŸ",
            "ðŸš©",
            "ðŸ³â€ðŸŒˆ",
            "ðŸ³â€âš§",
            "ðŸ³â€ðŸŸ§â€â¬›â€ðŸŸ§",
            "ðŸ‡ºðŸ‡³",
            "ðŸ‡¦ðŸ‡«",
            "ðŸ‡¦ðŸ‡½",
            "ðŸ‡¦ðŸ‡±",
            "ðŸ‡©ðŸ‡¿",
            "ðŸ‡¦ðŸ‡¸",
            "ðŸ‡¦ðŸ‡©",
            "ðŸ‡¦ðŸ‡´",
            "ðŸ‡¦ðŸ‡®",
            "ðŸ‡¦ðŸ‡¶",
            "ðŸ‡¦ðŸ‡¬",
            "ðŸ‡¦ðŸ‡·",
            "ðŸ‡¦ðŸ‡²",
            "ðŸ‡¦ðŸ‡¼",
            "ðŸ‡¦ðŸ‡º",
            "ðŸ‡¦ðŸ‡¹",
            "ðŸ‡¦ðŸ‡¿",
            "ðŸ‡§ðŸ‡¸",
            "ðŸ‡§ðŸ‡­",
            "ðŸ‡§ðŸ‡©",
            "ðŸ‡§ðŸ‡§",
            "ðŸ‡§ðŸ‡¾",
            "ðŸ‡§ðŸ‡ª",
            "ðŸ‡§ðŸ‡¿",
            "ðŸ‡§ðŸ‡¯",
            "ðŸ‡§ðŸ‡²",
            "ðŸ‡§ðŸ‡¹",
            "ðŸ‡§ðŸ‡´",
            "ðŸ‡§ðŸ‡¦",
            "ðŸ‡§ðŸ‡¼",
            "ðŸ‡§ðŸ‡·",
            "ðŸ‡»ðŸ‡¬",
            "ðŸ‡§ðŸ‡³",
            "ðŸ‡§ðŸ‡¬",
            "ðŸ‡§ðŸ‡«",
            "ðŸ‡§ðŸ‡®",
            "ðŸ‡°ðŸ‡­",
            "ðŸ‡¨ðŸ‡²",
            "ðŸ‡¨ðŸ‡¦",
            "ðŸ‡®ðŸ‡¨",
            "ðŸ‡¨ðŸ‡»",
            "ðŸ‡§ðŸ‡¶",
            "ðŸ‡°ðŸ‡¾",
            "ðŸ‡¨ðŸ‡«",
            "ðŸ‡¹ðŸ‡©",
            "ðŸ‡®ðŸ‡´",
            "ðŸ‡¨ðŸ‡±",
            "ðŸ‡¨ðŸ‡³",
            "ðŸ‡¨ðŸ‡½",
            "ðŸ‡¨ðŸ‡¨",
            "ðŸ‡¨ðŸ‡´",
            "ðŸ‡°ðŸ‡²",
            "ðŸ‡¨ðŸ‡¬",
            "ðŸ‡¨ðŸ‡©",
            "ðŸ‡¨ðŸ‡°",
            "ðŸ‡¨ðŸ‡·",
            "ðŸ‡¨ðŸ‡®",
            "ðŸ‡­ðŸ‡·",
            "ðŸ‡¨ðŸ‡º",
            "ðŸ‡¨ðŸ‡¼",
            "ðŸ‡¨ðŸ‡¾",
            "ðŸ‡¨ðŸ‡¿",
            "ðŸ‡©ðŸ‡°",
            "ðŸ‡©ðŸ‡¯",
            "ðŸ‡©ðŸ‡²",
            "ðŸ‡©ðŸ‡´",
            "ðŸ‡ªðŸ‡¨",
            "ðŸ‡ªðŸ‡¬",
            "ðŸ‡¸ðŸ‡»",
            "ðŸ‡¬ðŸ‡¶",
            "ðŸ‡ªðŸ‡·",
            "ðŸ‡ªðŸ‡ª",
            "ðŸ‡¸ðŸ‡¿",
            "ðŸ‡ªðŸ‡¹",
            "ðŸ‡ªðŸ‡º",
            "ðŸ‡«ðŸ‡°",
            "ðŸ‡«ðŸ‡´",
            "ðŸ‡«ðŸ‡¯",
            "ðŸ‡«ðŸ‡®",
            "ðŸ‡«ðŸ‡·",
            "ðŸ‡¬ðŸ‡«",
            "ðŸ‡µðŸ‡«",
            "ðŸ‡¹ðŸ‡«",
            "ðŸ‡¬ðŸ‡¦",
            "ðŸ‡¬ðŸ‡²",
            "ðŸ‡¬ðŸ‡ª",
            "ðŸ‡©ðŸ‡ª",
            "ðŸ‡¬ðŸ‡­",
            "ðŸ‡¬ðŸ‡®",
            "ðŸ‡¬ðŸ‡·",
            "ðŸ‡¬ðŸ‡±",
            "ðŸ‡¬ðŸ‡©",
            "ðŸ‡¬ðŸ‡µ",
            "ðŸ‡¬ðŸ‡º",
            "ðŸ‡¬ðŸ‡¹",
            "ðŸ‡¬ðŸ‡¬",
            "ðŸ‡¬ðŸ‡³",
            "ðŸ‡¬ðŸ‡¼",
            "ðŸ‡¬ðŸ‡¾",
            "ðŸ‡­ðŸ‡¹",
            "ðŸ‡­ðŸ‡³",
            "ðŸ‡­ðŸ‡°",
            "ðŸ‡­ðŸ‡º",
            "ðŸ‡®ðŸ‡¸",
            "ðŸ‡®ðŸ‡³",
            "ðŸ‡®ðŸ‡©",
            "ðŸ‡®ðŸ‡·",
            "ðŸ‡®ðŸ‡¶",
            "ðŸ‡®ðŸ‡ª",
            "ðŸ‡®ðŸ‡²",
            "ðŸ‡®ðŸ‡±",
            "ðŸ‡®ðŸ‡¹",
            "ðŸ‡¯ðŸ‡²",
            "ðŸ‡¯ðŸ‡µ",
            "ðŸŽŒ",
            "ðŸ‡¯ðŸ‡ª",
            "ðŸ‡¯ðŸ‡´",
            "ðŸ‡°ðŸ‡¿",
            "ðŸ‡°ðŸ‡ª",
            "ðŸ‡°ðŸ‡®",
            "ðŸ‡½ðŸ‡°",
            "ðŸ‡°ðŸ‡¼",
            "ðŸ‡°ðŸ‡¬",
            "ðŸ‡±ðŸ‡¦",
            "ðŸ‡±ðŸ‡»",
            "ðŸ‡±ðŸ‡§",
            "ðŸ‡±ðŸ‡¸",
            "ðŸ‡±ðŸ‡·",
            "ðŸ‡±ðŸ‡¾",
            "ðŸ‡±ðŸ‡®",
            "ðŸ‡±ðŸ‡¹",
            "ðŸ‡±ðŸ‡º",
            "ðŸ‡²ðŸ‡´",
            "ðŸ‡²ðŸ‡¬",
            "ðŸ‡²ðŸ‡¼",
            "ðŸ‡²ðŸ‡¾",
            "ðŸ‡²ðŸ‡»",
            "ðŸ‡²ðŸ‡±",
            "ðŸ‡²ðŸ‡¹",
            "ðŸ‡²ðŸ‡­",
            "ðŸ‡²ðŸ‡¶",
            "ðŸ‡²ðŸ‡·",
            "ðŸ‡²ðŸ‡º",
            "ðŸ‡¾ðŸ‡¹",
            "ðŸ‡²ðŸ‡½",
            "ðŸ‡«ðŸ‡²",
            "ðŸ‡²ðŸ‡©",
            "ðŸ‡²ðŸ‡¨",
            "ðŸ‡²ðŸ‡³",
            "ðŸ‡²ðŸ‡ª",
            "ðŸ‡²ðŸ‡¸",
            "ðŸ‡²ðŸ‡¦",
            "ðŸ‡²ðŸ‡¿",
            "ðŸ‡²ðŸ‡²",
            "ðŸ‡³ðŸ‡¦",
            "ðŸ‡³ðŸ‡·",
            "ðŸ‡³ðŸ‡µ",
            "ðŸ‡³ðŸ‡±",
            "ðŸ‡³ðŸ‡¨",
            "ðŸ‡³ðŸ‡¿",
            "ðŸ‡³ðŸ‡®",
            "ðŸ‡³ðŸ‡ª",
            "ðŸ‡³ðŸ‡¬",
            "ðŸ‡³ðŸ‡º",
            "ðŸ‡³ðŸ‡«",
            "ðŸ‡°ðŸ‡µ",
            "ðŸ‡²ðŸ‡°",
            "ðŸ‡²ðŸ‡µ",
            "ðŸ‡³ðŸ‡´",
            "ðŸ‡´ðŸ‡²",
            "ðŸ‡µðŸ‡°",
            "ðŸ‡µðŸ‡¼",
            "ðŸ‡µðŸ‡¸",
            "ðŸ‡µðŸ‡¦",
            "ðŸ‡µðŸ‡¬",
            "ðŸ‡µðŸ‡¾",
            "ðŸ‡µðŸ‡ª",
            "ðŸ‡µðŸ‡­",
            "ðŸ‡µðŸ‡³",
            "ðŸ‡µðŸ‡±",
            "ðŸ‡µðŸ‡¹",
            "ðŸ‡µðŸ‡·",
            "ðŸ‡¶ðŸ‡¦",
            "ðŸ‡·ðŸ‡ª",
            "ðŸ‡·ðŸ‡´",
            "ðŸ‡·ðŸ‡º",
            "ðŸ‡·ðŸ‡¼",
            "ðŸ‡¼ðŸ‡¸",
            "ðŸ‡¸ðŸ‡²",
            "ðŸ‡¸ðŸ‡¹",
            "ðŸ‡¸ðŸ‡¦",
            "ðŸ‡¸ðŸ‡³",
            "ðŸ‡·ðŸ‡¸",
            "ðŸ‡¸ðŸ‡¨",
            "ðŸ‡¸ðŸ‡±",
            "ðŸ‡¸ðŸ‡¬",
            "ðŸ‡¸ðŸ‡½",
            "ðŸ‡¸ðŸ‡°",
            "ðŸ‡¸ðŸ‡®",
            "ðŸ‡¬ðŸ‡¸",
            "ðŸ‡¸ðŸ‡§",
            "ðŸ‡¸ðŸ‡´",
            "ðŸ‡¿ðŸ‡¦",
            "ðŸ‡°ðŸ‡·",
            "ðŸ‡¸ðŸ‡¸",
            "ðŸ‡ªðŸ‡¸",
            "ðŸ‡±ðŸ‡°",
            "ðŸ‡§ðŸ‡±",
            "ðŸ‡¸ðŸ‡­",
            "ðŸ‡°ðŸ‡³",
            "ðŸ‡±ðŸ‡¨",
            "ðŸ‡µðŸ‡²",
            "ðŸ‡»ðŸ‡¨",
            "ðŸ‡¸ðŸ‡©",
            "ðŸ‡¸ðŸ‡·",
            "ðŸ‡¸ðŸ‡ª",
            "ðŸ‡¨ðŸ‡­",
            "ðŸ‡¸ðŸ‡¾",
            "ðŸ‡¹ðŸ‡¼",
            "ðŸ‡¹ðŸ‡¯",
            "ðŸ‡¹ðŸ‡¿",
            "ðŸ‡¹ðŸ‡­",
            "ðŸ‡¹ðŸ‡±",
            "ðŸ‡¹ðŸ‡¬",
            "ðŸ‡¹ðŸ‡°",
            "ðŸ‡¹ðŸ‡´",
            "ðŸ‡¹ðŸ‡¹",
            "ðŸ‡¹ðŸ‡³",
            "ðŸ‡¹ðŸ‡·",
            "ðŸ‡¹ðŸ‡²",
            "ðŸ‡¹ðŸ‡¨",
            "ðŸ‡¹ðŸ‡»",
            "ðŸ‡»ðŸ‡®",
            "ðŸ‡ºðŸ‡¬",
            "ðŸ‡ºðŸ‡¦",
            "ðŸ‡¦ðŸ‡ª",
            "ðŸ‡¬ðŸ‡§",
            "ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿",
            "ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿",
            "ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿",
            "ðŸ‡ºðŸ‡¸",
            "ðŸ´ó µó ³ó ´ó ¸ó ¿",
            "ðŸ‡ºðŸ‡¾",
            "ðŸ‡ºðŸ‡¿",
            "ðŸ‡»ðŸ‡º",
            "ðŸ‡»ðŸ‡¦",
            "ðŸ‡»ðŸ‡ª",
            "ðŸ‡»ðŸ‡³",
            "ðŸ‡¼ðŸ‡«",
            "ðŸ‡ªðŸ‡­",
            "ðŸ‡¾ðŸ‡ª",
            "ðŸ‡¿ðŸ‡²",
            "ðŸ‡¿ðŸ‡¼",
          ],
        },
        Yo = [
          "recents",
          "smileys & people",
          "animals & nature",
          "food & drink",
          "activity",
          "travel & places",
          "objects",
          "symbols",
          "flags",
        ],
        Zo = 12,
        el = D.e
          ? [
              ["w", "e", "r", "t"],
              ["s", "d", "f", "g"],
              ["z", "x", "c", "v"],
            ]
          : [
              ["1", "2", "3"],
              ["4", "5", "6"],
              ["7", "8", "9"],
              ["*", "0", "#"],
            ],
        tl = D.e
          ? {
              w: 0,
              e: 1,
              r: 2,
              t: 3,
              s: 4,
              d: 5,
              f: 6,
              g: 7,
              z: 8,
              x: 9,
              c: 10,
              v: 11,
            }
          : {
              1: 0,
              2: 1,
              3: 2,
              4: 3,
              5: 4,
              6: 5,
              7: 6,
              8: 7,
              9: 8,
              "*": 9,
              0: 10,
              "#": 11,
            },
        sl = null,
        rl = !1,
        nl = null,
        al = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.KT = 0),
              (this.KU = !1),
              (this.KV = n.e()),
              (this.KW = !1),
              (this.KX = new Array(Yo.length).fill(0)),
              (this.KZ = !1),
              (this.Ka = [
                { key: "recents", icon: Vo },
                { key: "people", icon: Fo },
                { key: "nature", icon: Wo },
                { key: "food", icon: Ko },
                { key: "activity", icon: zo },
                { key: "travel", icon: Ho },
                { key: "objects", icon: Jo },
                { key: "symbols", icon: Qo },
                { key: "flag", icon: Xo },
              ]),
              (this.state = {
                loading: null == sl,
                viewMode: "category",
                categoryIndex: 0,
                emojiIndex: 0,
                emojis: [],
                recents: [],
                pages: 1,
              }),
              (this.onKeyDown = (e) => {
                var t = (0, jo.m)(e),
                  s = tl[t];
                null != s &&
                  (this.inputEmoji(s), e.preventDefault(), e.stopPropagation());
              }),
              (this.Ke = () => {
                var e = this.state,
                  t = e.emojiIndex;
                if ("category" !== e.viewMode) {
                  var s = this.Kj(t),
                    r = this.state.emojiIndex - el[0].length;
                  s.rowIndex > 0 ? this.Kk(r) : this.Ki("category");
                } else this.Ki("emoji", !1);
              }),
              (this.Kf = () => {
                var e = this.state,
                  t = e.emojiIndex;
                if ("category" !== e.viewMode) {
                  var s = this.Kj(t),
                    r = t + el[0].length;
                  s.rowIndex < el.length - 1 && this.state.emojis[r]
                    ? this.Kk(r)
                    : this.Ki("category", !0);
                } else this.Ki("emoji");
              }),
              (this.Kd = () => {
                this.KZ = !0;
                var e = this.state,
                  t = e.categoryIndex;
                if ("category" !== e.viewMode) {
                  var s = this.state.emojiIndex,
                    r = s - 1;
                  if (this.Kj(s).colIndex > 0) this.Kk(r);
                  else {
                    var n = (0 === t ? Yo.length : t) - 1;
                    this.Kk(r + el[0].length, n);
                  }
                } else {
                  var a = (0 === t ? Yo.length : t) - 1;
                  this.Kk(0, a);
                }
              }),
              (this.Kc = () => {
                this.KZ = !0;
                var e = this.state,
                  t = e.categoryIndex;
                if ("category" !== e.viewMode) {
                  var s = this.state.emojiIndex,
                    r = this.Kj(s),
                    n = s + 1;
                  if (r.colIndex < el[0].length - 1 && this.state.emojis[n])
                    this.Kk(n);
                  else {
                    var a = (t + 1) % Yo.length;
                    this.Kk(r.rowIndex * el[0].length, a);
                  }
                } else {
                  var i = (t + 1) % Yo.length;
                  this.Kk(0, i);
                }
              }),
              (this.Kh = () => {
                var e = this.state,
                  t = e.emojiIndex,
                  s = e.categoryIndex,
                  r = this.KX[s];
                this.Kb(t, s, r - 1);
              }),
              (this.Kg = () => {
                var e = this.state,
                  t = e.emojiIndex,
                  s = e.categoryIndex,
                  r = this.KX[s];
                this.Kb(t, s, r + 1);
              }),
              (this.KW = (0, it.g)()),
              null != sl && (this.state.recents = ol(e.backend, sl));
          }
          componentDidMount() {
            (this.KY = (0, Lt.u)()),
              (this.KU = !0),
              this.KV.current && (this.KS = this.KV.current.clientHeight),
              null != sl
                ? this.Kb(0, this.state.recents.length > 0 ? 0 : 1)
                : ((nl = (e) => {
                    if (this.KU) {
                      var t = ol(this.props.backend, e);
                      this.KZ
                        ? 0 === this.state.categoryIndex
                          ? (__LOG__(
                              2
                            )`EmojiPicker user overrided to see recents`,
                            this.Kb(0, 0, 0, t))
                          : (__LOG__(2)`EmojiPicker user overrided movement`,
                            this.setState({ loading: !1, recents: t }))
                        : t.length > 0
                        ? (__LOG__(2)`EmojiPicker auto loading recents`,
                          this.Kb(0, 0, 0, t))
                        : (__LOG__(2)`EmojiPicker auto loading people`,
                          this.Kb(0, 1));
                    }
                  }),
                  il(this.props.backend)),
              super.componentDidMount();
          }
          componentWillUnmount() {
            var e = (0, Lt.v)(this.KY);
            WAM.log("regular", 2272, void 0, [1, 0, this.KT, 2, 0, e]),
              (this.KU = !1),
              (nl = null),
              super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            e.setBack(() => {
              (0, y.a)(), this.props.cancelEmoji && this.props.cancelEmoji();
            }),
              this.KW
                ? e.setLeftRightArrows(this.Kc, this.Kd)
                : e.setLeftRightArrows(this.Kd, this.Kc);
            var s = this.state,
              n = s.categoryIndex,
              a = s.emojis,
              i = s.emojiIndex,
              o = s.viewMode,
              l = s.pages;
            ("recents" === Yo[n] && 0 === a.length) ||
              (e.setUpDownArrows(this.Ke, this.Kf),
              l > 1 &&
                (e.setRightIcon((0, r.b)(2, qo, { className: "Iz" }), this.Kg),
                e.setLeftIcon((0, r.b)(2, qo, { className: "JA" }), this.Kh)),
              "emoji" === o && e.setCenterLabel(818, () => this.inputEmoji(i)));
          }
          inputEmoji(e) {
            var t = this.state.emojis[e];
            if (t) {
              var s = t.emoji;
              (function (e, t, s) {
                null == t.get(s) && t.set(s, 0),
                  t.forEach((e, r) => {
                    var n = e;
                    r === s ? (n += 1) : (n *= 0.9);
                    var a = Math.round(1e3 * n) / 1e3;
                    t.set(r, a);
                  }),
                  ll(e, t);
              })(this.props.backend, sl || new Map(), s),
                (this.KT += 1),
                (0, y.a)(),
                this.props.addEmoji(s);
            }
          }
          Kb(e, t) {
            var s =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : 0,
              r = arguments.length > 3 ? arguments[3] : void 0,
              n = Yo[t];
            if (n) {
              var a;
              if ("recents" === n) {
                if (0 === (a = r || this.state.recents).length)
                  return void this.setState({
                    loading: null == sl,
                    viewMode: "category",
                    categoryIndex: t,
                    emojis: [],
                    pages: 1,
                  });
              } else a = $o[n];
              var i,
                o = Math.floor(a.length / Zo);
              s < 0
                ? (i = o) * Zo === a.length && (i = o - 1)
                : (i = s % (o + 1)) * Zo === a.length && (i = 0);
              var l = i * Zo,
                d = l + Zo,
                h = a.slice(l, d);
              if (0 !== h.length) {
                var u = h.map((e) => ({ emoji: e, node: (0, c.b)(e) })),
                  p = u.length - 1,
                  v = e;
                if (p < e) {
                  var f = el[0].length;
                  if (0 == e % f) {
                    var g = Math.floor(p / f);
                    v = g * f;
                  } else v = p;
                }
                (this.KX[t] = i),
                  this.setState((e) => {
                    var s = null != r ? r : e.recents;
                    return {
                      loading: !1,
                      categoryIndex: t,
                      emojis: u,
                      emojiIndex: v,
                      pages: Math.ceil(a.length / Zo),
                      recents: s,
                    };
                  });
              }
            } else __LOG__(3)`EmojiPicker could not load category at ${t}`;
          }
          Kk(e, t) {
            if (null != t) {
              var s = this.KX[t];
              this.Kb(e, t, s);
            } else
              this.state.emojis[e]
                ? this.setState({ emojiIndex: e })
                : __LOG__(3)`EmojiPicker cannot move to emojiIndex ${e}`;
          }
          Ki(e, t) {
            if (null != t) {
              for (
                var s = this.state,
                  r = s.emojiIndex,
                  n = s.emojis,
                  a = el[0].length * (!0 === t ? 1 : -1),
                  i = !1,
                  o = r;
                !i;

              )
                (o = (o + a) % Zo) < 0 && (o += Zo), (i = null != n[o]);
              this.setState({ viewMode: e, emojiIndex: o });
            } else this.setState({ viewMode: e });
          }
          Kj(e) {
            var t = el[0].length;
            return { rowIndex: Math.floor(e / t), colIndex: e % t };
          }
          Kl(e, t) {
            var s = t + e * el[0].length,
              r = this.state.emojis[s];
            if (r) return r.node;
          }
          Km() {
            for (var e = [], t = 0, s = el.length; t < s; ++t)
              for (var n = el[t], a = 0, i = n.length; a < i; ++a)
                e.push((0, r.f)(1, "div", "It Is", null, 1, null, n[a]));
            return e;
          }
          Kn() {
            return [
              (0, r.f)(1, "div", "Ix", (0, r.b)(2, lr.a), 2, null, "spinner"),
              ...this.Km(),
            ];
          }
          Ko() {
            return [
              (0, r.f)(
                1,
                "div",
                "Iy",
                (0, r.b)(2, o.b, { l10n: 242 }),
                2,
                null,
                "emptyText"
              ),
              ...this.Km(),
            ];
          }
          Kp() {
            for (
              var e = this.state,
                t = e.emojiIndex,
                s = e.viewMode,
                n = this.Kj(t),
                a = "emoji" === s,
                i = [],
                o = 0,
                l = el.length;
              o < l;
              ++o
            )
              for (var c = el[o], d = 0, h = c.length; d < h; ++d) {
                var u = c[d],
                  p = o === n.rowIndex && d === n.colIndex,
                  v = this.Kl(o, d);
                i.push(
                  (0, r.f)(
                    1,
                    "div",
                    (0, Oe.a)("Is", p && a && "Iw"),
                    [v, (0, r.f)(1, "div", "*" === u ? "Iv Iu" : "Iu", u, 0)],
                    0,
                    null,
                    u
                  )
                );
              }
            return i;
          }
          Kq(e) {
            if (this.state.loading || null == this.KS || this.state.pages <= 1)
              return null;
            var t = this.KX[e],
              s = {},
              a = this.KS / this.state.pages;
            if (a > 30) {
              var i = t * a;
              (s.height = a + "px"), (s.top = i + "px");
            } else {
              var o = t * ((this.KS - 30) / (this.state.pages - 1));
              s.top = o + "px";
            }
            return (0, r.f)(1, "div", "JB", null, 1, { style: n.h(s) });
          }
          render() {
            var e,
              t = this.state,
              s = t.categoryIndex,
              n = t.emojis,
              a = t.loading,
              i = t.viewMode,
              o = 0 === s && 0 === n.length;
            return (
              (e = a ? this.Kn() : o ? this.Ko() : this.Kp()),
              (0, r.b)(2, Do.b.div, {
                className: "Iq",
                hasFocusPriority: !0,
                onKeyDown: this.onKeyDown,
                tabIndex: "1",
                children: [
                  (0, r.b)(2, Bo, {
                    items: this.Ka,
                    selected: "category" === i,
                    selectedIndex: s,
                  }),
                  (0, r.f)(
                    1,
                    "div",
                    "Ir",
                    [e, this.Kq(s)],
                    0,
                    null,
                    null,
                    this.KV
                  ),
                ],
              })
            );
          }
        };
      function il(e) {
        rl ||
          ((rl = !0),
          e
            .sendAndReceive("backend", "getRecentEmojis", {})
            .then((e) => {
              (sl = e || new Map()), nl && nl(sl);
            })
            .catch((e) => {
              __LOG__(3)`EmojiPicker getRecentEmojis failed`,
                (sl = new Map()),
                nl && nl(sl);
            }));
      }
      function ol(e, t) {
        var s = t.size;
        if (0 === s) return [];
        for (
          var r = Array.from(t).sort((e, t) => {
              var s = yr()(e, 2),
                r = (s[0], s[1]),
                n = yr()(t, 2);
              return n[0], n[1] - r;
            }),
            n = r[0],
            a = r[Math.min(36, s) - 1],
            i = n && a && (n[1] >= 10 || a[1] <= 0.01),
            o = [],
            l = 0;
          l < r.length;
          l++
        ) {
          var c = r[l][0];
          if (l >= 36) t.delete(c);
          else {
            if (i) {
              var d = 1 + ((s - l) / s) * 3;
              t.set(c, d);
            }
            o.push(c);
          }
        }
        return ll(e, t), o;
      }
      function ll(e, t) {
        e.sendAndReceive("backend", "setRecentEmojis", { recentEmojis: t });
      }
      function cl(e, t, s) {
        (0, y.b)((0, r.b)(2, al, { backend: e, addEmoji: t, cancelEmoji: s }));
      }
      var dl = (0, r.b)(2, Fo, { className: "Fa p" }),
        hl = s(345),
        ul = 12;
      function pl(e) {
        switch (e) {
          case 0:
            return null;
          case 1:
            return "GIPHY";
          default:
            return "TENOR";
        }
      }
      function vl(e) {
        switch (e) {
          case "GIPHY":
            return 0;
          default:
            return 1;
        }
      }
      function fl(e, t, s) {
        switch (e) {
          case "GIPHY":
            return (function (e) {
              var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : "",
                s = (0, it.d)().lg;
              return gl(
                (0, pa.c)(Sl, "/v1/gifs/search", {
                  api_key: ml,
                  limit: ul,
                  rating: "pg-13",
                  offset: t,
                  lang: s,
                  q: e,
                }),
                t,
                yl,
                Cl,
                kl
              );
            })(t, s);
          case "TENOR":
            return (function (e) {
              var t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : "",
                s = (0, it.d)().lg;
              return gl(
                (0, pa.c)(Il, "/v1/search", {
                  key: xl,
                  limit: ul,
                  contentfilter: "low",
                  media_filter: "basic",
                  locale: s,
                  pos: t,
                  q: e,
                }),
                t,
                Ll,
                Nl,
                _l
              );
            })(t, s);
          default:
            return (0, f.a)(e);
        }
      }
      function gl(e, t, s, r, n) {
        return (0, pa.k)(e)
          .then((e) => (e.ok ? e.json() : null))
          .then((a) => {
            if (null == a) return null;
            var i = s(a);
            if (null == i)
              return (
                __LOG__(
                  4
                )`Couldn't extract GIFs from URL ${e}. API response was ${JSON.stringify(
                  a
                )}`,
                SEND_LOGS("gif-api-json-malformed", 0.01),
                { type: "remote", gifs: [], nextFetchPosition: null }
              );
            for (var o = [], l = 0; l < i.length; l++) {
              var c = r(i[l], t);
              null != c && o.push(c);
            }
            return { type: "remote", gifs: o, nextFetchPosition: n(a) };
          })
          .catch(
            (t) => (
              __LOG__(
                4
              )`Error when fetching and normalizing GIFs for ${e}: ${t}`,
              null
            )
          );
      }
      function bl(e, t, s) {
        return (0, pa.k)(e)
          .then((e) => (e.ok ? e.json() : null))
          .then((r) => {
            if (null == r)
              return {
                type: "error",
                reason: "HTTP request failed or invalid JSON",
              };
            var n = t(r);
            if (null == n)
              return (
                __LOG__(
                  4
                )`Couldn't extract autocomplete terms from URL ${e}. API response was ${JSON.stringify(
                  r
                )}`,
                SEND_LOGS("autocomplete-api-json-malformed", 0.01),
                { type: "ok", terms: [] }
              );
            for (var a = [], i = 0, o = n.length; i < 5 && i < o; ++i) {
              var l = s(n[i]);
              null != l && a.push(l);
            }
            return { type: "ok", terms: a };
          });
      }
      var ml = "gVIs3e66hyE3f7OslxrpFO6nX4WJcf9P",
        Sl = "https://api.giphy.com";
      function yl(e) {
        return null == e ? null : Array.isArray(e.data) ? e.data : void 0;
      }
      function kl(e) {
        if ((0, U.l)(e) && (0, U.l)(e.pagination)) {
          var t = e.pagination,
            s = t.count,
            r = t.offset;
          if ("number" == typeof s && "number" == typeof r)
            return (s + r).toString();
        }
      }
      function Cl(e, t) {
        if ((0, U.l)(e)) {
          var s = e.id,
            r = e.images;
          if ((0, U.l)(r) && "string" == typeof s) {
            var n = r.preview_gif,
              a = r.downsized_small;
            if ((0, U.l)(n) && (0, U.l)(a)) {
              var i = n.url,
                o = a.mp4;
              if ("string" == typeof i && "string" == typeof o)
                return { gifPreviewUrl: i, mp4Url: o, id: s, fetchPosition: t };
            }
          }
        }
      }
      function wl(e) {
        if ((0, U.l)(e)) {
          var t = e.name;
          if ("string" == typeof t) return t;
        }
      }
      var xl = "E00N76RQL5XM",
        Il = "https://api.tenor.com";
      function Ll(e) {
        return null == e ? null : Array.isArray(e.results) ? e.results : void 0;
      }
      function _l(e) {
        return (0, U.l)(e) ? ("string" != typeof e.next ? "" : e.next) : "";
      }
      function Nl(e, t) {
        if ((0, U.l)(e) && Array.isArray(e.media)) {
          var s = e.id;
          if ("string" == typeof s) {
            var r = e.media[0];
            if ((0, U.l)(r)) {
              var n = r.nanogif,
                a = r.tinymp4;
              if ((0, U.l)(n) && (0, U.l)(a)) {
                var i = n.url,
                  o = a.url;
                if ("string" == typeof i && "string" == typeof o)
                  return {
                    gifPreviewUrl: i,
                    mp4Url: o,
                    id: s,
                    fetchPosition: t,
                  };
              }
            }
          }
        }
      }
      function Ml(e) {
        if ("string" == typeof e) return e;
      }
      function Ol(e) {
        return e
          .sendAndReceive("backend", "getRecentGifs", {})
          .then((e) => ({ type: "recents", gifs: e }));
      }
      var Tl = s(359),
        Pl = s(268),
        Al = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M13.099.5c6.959 0 12.6 5.642 12.6 12.6 0 6.958-5.641 12.6-12.6 12.6S.5 20.058.5 13.1C.5 6.142 6.14.5 13.099.5zm8.489 13.47c-2.263.718-5.375 1.104-8.488 1.121-3.114-.017-6.226-.403-8.49-1.12-.234-.076-.676.085-.633.616.362 4.404 4.364 7.832 9.123 7.832 4.759 0 8.76-3.428 9.123-7.832.043-.53-.4-.692-.635-.617zm-.596 1.411c-.088.376-.64 1.508-.793 1.87-.992.35-2.964 1.248-6.894 1.248-4.07 0-6.392-.918-7.405-1.248-.146-.349-.62-1.508-.705-1.87 2.23.557 5.003.87 7.892.884 2.9-.015 5.675-.328 7.905-.884zm-3.599-7.36c-1.462 0-2.65 1.273-2.65 2.838 0 .192.017.38.052.563a.553.553 0 00.544.464.516.516 0 00.465-.292c.322-.625.931-1.014 1.59-1.014.658 0 1.267.39 1.587 1.015a.518.518 0 00.464.291.566.566 0 00.547-.473c.053-.28.064-.57.036-.862-.13-1.313-1.114-2.37-2.338-2.513a2.488 2.488 0 00-.297-.017zm-8.6 0c-1.46 0-2.65 1.273-2.65 2.838 0 .193.017.381.054.562.05.274.274.465.544.465a.516.516 0 00.465-.292c.321-.625.93-1.014 1.588-1.014.659 0 1.267.39 1.588 1.015a.518.518 0 00.464.291.566.566 0 00.547-.473 3.1 3.1 0 00.037-.862c-.131-1.313-1.114-2.37-2.338-2.513a2.493 2.493 0 00-.298-.017z",
            }),
            2,
            { viewBox: "0 0 26 26" }
          );
        },
        El = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M6.98 11.516c0-2.75 2.247-4.979 5.02-4.979 2.773 0 5.02 2.23 5.02 4.979 0 2.75-2.247 4.979-5.02 4.979-2.773 0-5.02-2.23-5.02-4.98zm12.044 0c0-3.847-3.144-6.966-7.024-6.966s-7.025 3.119-7.025 6.966c0 3.848 3.145 6.966 7.025 6.966 3.88 0 7.024-3.118 7.024-6.966zM6.388 3 8.118.657A1.769 1.769 0 019.496 0h5.01a1.77 1.77 0 011.377.657L17.612 3h4.27A2.11 2.11 0 0124 5.1v13.8c0 1.16-.949 2.1-2.118 2.1H2.118A2.11 2.11 0 010 18.9V5.1C0 3.94.948 3 2.118 3h4.27z",
            }),
            2,
            { viewBox: "0 0 24 21" }
          );
        },
        Rl = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "rect", null, null, 1, {
                width: "25",
                height: "19",
                x: "1",
                y: "1",
                rx: "2.1",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M11.597 5.754 17.3 9.676a1 1 0 010 1.648l-5.704 3.922a.7.7 0 01-1.096-.576V6.331a.7.7 0 011.097-.577z",
              }),
            ],
            4,
            { viewBox: "0 0 27 21" }
          );
        },
        Gl = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M12.058 14v9.98l-8.063.016a2 2 0 01-1.998-1.842l-.006-.15L1.955 14h10.103zm12.015 0-.058 8.01a2 2 0 01-1.856 1.98l-.148.006-8.04-.016h.028V14h10.074zM18.851 0c1.028 0 1.94.4 2.597 1.113.571.628.885 1.484.885 2.37 0 .884-.314 1.712-.913 2.34-.371.4-1 .856-1.97.998l4.543-.014c1.112 0 2.007.895 2.007 2V12H13.97V6.907h-1.94V12H0V8.8a2 2 0 012.007-1.993l4.543.014c-.97-.142-1.598-.599-1.97-.998-.6-.6-.913-1.456-.913-2.34C3.667 1.797 4.894 0 7.15 0c1.627 0 3.368.913 5.195 2.74.228.257.456.485.656.714.2-.229.428-.486.656-.714C15.483.913 17.224 0 18.851 0zm0 1.94c-1.541 0-3.31 1.6-4.538 2.97h4.395c.571 0 1-.144 1.285-.458a1.48 1.48 0 00.37-.998c0-.571-.313-1.513-1.512-1.513zm-11.73 0c-1.199 0-1.513.943-1.513 1.514 0 .713.428 1.455 1.655 1.455h4.396C10.43 3.511 8.662 1.941 7.12 1.941z",
            }),
            2,
            { viewBox: "0 0 26 24" }
          );
        },
        Ul = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M17.488 0c.808 0 1.462.633 1.462 1.415 0 .781-.654 1.414-1.462 1.414H11.35v14.654C11.35 20.53 8.798 23 5.65 23s-5.7-2.47-5.7-5.517 2.552-5.376 5.7-5.376c.987 0 2.312.087 3.362.41V1.132C9.012.507 9.535 0 10.18 0h7.307z",
            }),
            2,
            { viewBox: "0 0 19 23" }
          );
        },
        Dl = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.TU = () => {
                this.TT(this.TR.previousRow(this.state.selectionIndex));
              }),
              (this.TV = () => {
                this.TT(this.TR.nextRow(this.state.selectionIndex));
              }),
              (this.TW = () => {
                this.TT(this.TR.defaultLeft(this.state.selectionIndex));
              }),
              (this.TX = () => {
                this.TT(this.TR.defaultRight(this.state.selectionIndex));
              });
            var s = e.items.length,
              r = ct();
            this.TR = new ot({ loop: !0, length: s, rowLength: r });
            var n = s % r || r;
            this.TS = s - n - 1;
            var a = 0;
            e.initialSelectedKey &&
              (a = e.items.findIndex((t) => t.key === e.initialSelectedKey)),
              a < 0 &&
                (__LOG__(
                  4
                )`Invalid initialSelectedKey for AttachmentGrid, value should be one of the key property of items, received value: ${
                  e.initialSelectedKey
                }, possible values: ${e.items.map((e) => e.key)}`,
                (a = 0));
            var i = s <= (D.e ? 1 : 2) * r;
            a > this.TS && (i = !0),
              (this.state = {
                selectionIndex: a,
                direction: "nextRow",
                expanded: i,
              });
          }
          TT(e) {
            if (null != e) {
              var t = e.index;
              this.setState((s) => ({
                selectionIndex: t,
                direction: e.direction,
                expanded: s.expanded || t > this.TS,
              }));
            }
          }
          addSoftKeys(e, t) {
            e.setUpDownArrows(this.TU, this.TV),
              e.setLeftRightArrows(this.TW, this.TX),
              e.setLeftLabel(761, y.a),
              e.setBack(y.a);
            var s = this.props.items[this.state.selectionIndex];
            null != s && e.setCenterLabel(s.label, s.action);
          }
          render() {
            var e = this.state,
              t = e.selectionIndex,
              s = e.expanded;
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Nl", s && "Nm", dt(this.TR.options.rowLength)),
              this.props.items.map((e, s) =>
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("Nn", t === s && "No"),
                  [
                    e.icon,
                    (0, r.f)(
                      1,
                      "div",
                      "Np GI GE",
                      (0, r.b)(2, o.b, { l10n: e.label }),
                      2
                    ),
                  ],
                  0,
                  null,
                  e.key
                )
              ),
              0
            );
          }
        };
      function jl() {
        return (0, r.f)(
          1,
          "div",
          "Ns Nq",
          (0, r.b)(2, Al, { className: "Nt Nr" }),
          2
        );
      }
      function Bl() {
        return (0, r.f)(
          1,
          "div",
          "Nu Nq",
          (0, r.b)(2, El, { className: "Nv Nr" }),
          2
        );
      }
      function Vl() {
        return (0, r.f)(
          1,
          "div",
          "Nw Nq",
          (0, r.b)(2, Rl, { className: "Nx Nr" }),
          2
        );
      }
      function Fl() {
        return (0, r.f)(
          1,
          "div",
          "Ny Nq",
          (0, r.b)(2, Gl, { className: "Nz Nr" }),
          2
        );
      }
      function Wl() {
        return (0, r.f)(
          1,
          "div",
          "OA Nq",
          (0, r.b)(2, cr.a, { className: "OB Nr" }),
          2
        );
      }
      function Kl() {
        return (0, r.f)(
          1,
          "div",
          "OC Nq",
          (0, r.b)(2, Ul, { className: "OD Nr" }),
          2
        );
      }
      function zl() {
        return (0, r.f)(
          1,
          "div",
          "OE Nq",
          (0, r.b)(2, vr.a, { className: "OF Nr" }),
          2
        );
      }
      var Hl,
        Jl,
        Ql = s(6),
        Xl = s(369),
        ql = s(204),
        $l = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M7.979 15.462v3.131a.652.652 0 01-.643.657h-.657a.652.652 0 01-.642-.657v-3.131a6.667 6.667 0 01-2.694-1.031 6.97 6.97 0 01-3.029-4.7 4.96 4.96 0 01-.063-.476.633.633 0 01.17-.463.607.607 0 01.446-.193h.652a.742.742 0 01.713.652c.058.474.178.939.357 1.38a4.929 4.929 0 002.602 2.56 4.766 4.766 0 003.58.03 4.927 4.927 0 002.602-2.437 5.639 5.639 0 00.421-1.534.753.753 0 01.72-.65h.652a.577.577 0 01.433.194.6.6 0 01.148.459 8.296 8.296 0 01-.357 1.735c-.87 2.41-2.96 4.113-5.411 4.474zM9.165.913c.574.586.896 1.38.896 2.207v5.462a3.135 3.135 0 01-1.514 2.745 3.003 3.003 0 01-3.086 0 3.135 3.135 0 01-1.513-2.745V3.12C3.948 1.397 5.316 0 7.004 0c.81 0 1.588.328 2.161.913z",
            }),
            2,
            { viewBox: "0 0 14 20" }
          );
        },
        Yl = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              "fill-rule": "nonzero",
              d:
                "M5.805 8.188h-4.63a1.175 1.175 0 010-2.35h4.63v-4.65a1.188 1.188 0 112.377 0v4.65h4.643a1.175 1.175 0 010 2.35H8.182v4.624a1.188 1.188 0 11-2.377 0V8.188z",
            }),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        Zl = "Jg",
        ec = "Jn",
        tc = "Jq GF GC",
        sc = (0, oi.d)("composeBox"),
        rc = (0, oi.d)("composeBoxVoice"),
        nc =
          ((Hl = class extends h.b {
            shouldComponentUpdate(e, t) {
              var s = this.props,
                r = this.state;
              return (
                (s !== e &&
                  (s.selected !== e.selected ||
                    s.contacts !== e.contacts ||
                    s.user !== e.user ||
                    s.hasFocusPriority !== e.hasFocusPriority ||
                    s.draft !== e.draft ||
                    s.connected !== e.connected ||
                    s.serverPropGifProvider !== e.serverPropGifProvider ||
                    s.onSent !== e.onSent ||
                    s.onSentFromAnotherScreen !== e.onSentFromAnotherScreen ||
                    s.type !== e.type ||
                    s.chat !== e.chat ||
                    s.readOnly !== e.readOnly ||
                    s.isBlocked !== e.isBlocked ||
                    s.isAtBottom !== e.isAtBottom ||
                    s.updateParent !== e.updateParent ||
                    s.authorJid !== e.authorJid)) ||
                (r !== t &&
                  (r.status !== t.status ||
                    r.value !== t.value ||
                    r.opened !== t.opened))
              );
            }
            constructor(e, t) {
              var s, r;
              super(e, t), Jl.call(this);
              var n,
                a = { type: "input", preRecording: !1 },
                i = !0,
                o = null == (s = e.draft) ? void 0 : s.voice,
                l = null == (r = e.draft) ? void 0 : r.text;
              (this.NL = l || ""),
                "status" === e.type
                  ? (this.NG = e.authorJid)
                  : ((this.NG = e.chat.jid),
                    e.readOnly
                      ? ((a = { type: "readonly", reason: e.readOnly }),
                        (o = null),
                        (l = null))
                      : null != o &&
                        (a = {
                          type: "recorded",
                          direct: !l && !e.isAtBottom,
                          duration: o.duration,
                          blob: o.blob,
                          waveform: o.waveform,
                        }),
                    (i =
                      e.isAtBottom ||
                      !!o ||
                      !!l ||
                      !!(null == (n = this.props.draft) ? void 0 : n.quote)),
                    (this.NK = new xo.a(() => {
                      var e = No(this.NM());
                      if (!Mo(e, this.NJ))
                        if (((this.NJ = e), e)) {
                          var t = e.normalizedLink,
                            s = e.matchedText,
                            r = this.NH.get(t);
                          if (null == r) {
                            var n = Oo(t).then((e) => {
                              this.NB &&
                                (this.NH.set(t, e || !1),
                                this.NI === n &&
                                  ((this.NI = null),
                                  e &&
                                    this.NO(
                                      Object.assign({}, e, { matchedText: s })
                                    )));
                            });
                            (this.NI = n), this.NN();
                          } else
                            !1 !== r
                              ? this.NO(
                                  Object.assign({}, r, { matchedText: s })
                                )
                              : this.NN();
                        } else this.NN();
                    }))),
                (this.state = { status: a, value: this.NL, opened: i });
            }
            componentDidMount() {
              (this.NB = !0),
                this.NP(),
                document.addEventListener("visibilitychange", this.NS),
                super.componentDidMount();
            }
            componentDidUpdate(e, t) {
              "" === this.state.value && this.NT();
              var s = this.state.status.type;
              this.Mz &&
                "recording" !== s &&
                (this.Mz = clearInterval(this.Mz)),
                "recording" === s &&
                  null == this.NA &&
                  (this.NA = navigator.requestWakeLock("screen")),
                "recording" !== s &&
                  null != this.NA &&
                  (this.NA.unlock(), (this.NA = null)),
                this.props.readOnly && this.props.readOnly !== e.readOnly
                  ? (null != this.My && (this.My.stop(), (this.My = null)),
                    this.setState({
                      status: { type: "readonly", reason: this.props.readOnly },
                    }))
                  : !this.props.readOnly &&
                    e.readOnly &&
                    this.setState({
                      status: { type: "input", preRecording: !1 },
                    }),
                this.NP(),
                super.componentDidUpdate(e, t);
            }
            componentWillUnmount() {
              this.NB = !1;
              var e = this.props,
                t = this.state;
              if (
                ((this.NI = null),
                null != this.NK && this.NK.cancel(),
                this.Mz && clearInterval(this.Mz),
                this.NC && this.NF.forceRunNow(),
                null != this.NA && this.NA.unlock(),
                null != this.My)
              ) {
                var s = t.status;
                "recording" === s.type
                  ? this.NU(this.My, s.started)
                  : (__LOG__(
                      3
                    )`Forcing recorder to stop whilst the conversation not in the recording state`,
                    this.My.stop());
              }
              if ("status" !== e.type) {
                var r = this.NG,
                  n = this.NV();
                null != n
                  ? (0, ql.d)(this.props.backend, r, n)
                  : (0, ql.a)(this.props.backend, r);
              }
              document.removeEventListener("visibilitychange", this.NS),
                super.componentWillUnmount();
            }
            NP() {
              var e = this.props.updateParent;
              null != e &&
                e({
                  opened: this.NW(),
                  isInput: "input" === this.state.status.type,
                });
            }
            NM() {
              return this.state.value;
            }
            NX(e) {
              var t = this.Mx.current;
              null != t && t.getValue() !== e && t.setValue(e, !0),
                this.state.value !== e && this.setState({ value: e });
            }
            NT() {
              this.NX("");
            }
            NO(e) {
              (0, ql.e)(this.props.backend, this.NG, e);
            }
            NN() {
              (0, ql.b)(this.props.backend, this.NG);
            }
            NV() {
              var e,
                t = this.state,
                s = t.status,
                r = t.value,
                n = null == (e = this.props.draft) ? void 0 : e.quote;
              if ("readonly" === s.type) return null;
              var a =
                  "recorded" === s.type
                    ? {
                        blob: s.blob,
                        waveform: s.waveform,
                        duration: s.duration,
                      }
                    : void 0,
                i = this.NY();
              return null != a || "" !== r || null != n || null != i
                ? { text: r, voice: a, quote: n, link: i || void 0 }
                : null;
            }
            pasteText(e) {
              var t = this.Mx.current;
              t && t.pasteText(e), null != this.NK && this.NK.forceRunNow();
            }
            NY() {
              var e,
                t = No(this.NM()),
                s = null == (e = this.props.draft) ? void 0 : e.link;
              return Mo(t, s) ? s : null;
            }
            Nc(e, t, s) {
              return this.props.isBlocked
                ? (this.Nd(this.props.chat.jid), !1)
                : (__LOG__(2)`Send recorded message`,
                  this.props.backend.sendMediaMsg(
                    this.NG,
                    { type: "voice", plaintext: e, duration: t, waveform: s },
                    null == (r = this.props.draft) ? void 0 : r.quote
                  ),
                  !0);
              var r;
            }
            NW() {
              return this.state.opened;
            }
            Ni(e) {
              return null != this.My && this.My === e;
            }
            NU(e, t) {
              var s = (0, Lt.v)(t);
              hc(s) &&
                e.stop().then((e) => {
                  var t = {
                    blob: e.blob,
                    waveform: e.waveform,
                    duration: dc(s),
                  };
                  (0, ql.d)(this.props.backend, this.NG, {
                    voice: t,
                    link: void 0,
                    quote: void 0,
                    text: "",
                  });
                });
            }
            Na() {
              this.NG !== Ql.r.get() &&
                (this.NC || ((this.NC = !0), this.NE()),
                this.NF.debounce(2500));
            }
            NE() {
              var e = null;
              switch (this.state.status.type) {
                case "input":
                  e = "typing";
                  break;
                case "recording":
                  e = "recording_audio";
              }
              null != e &&
                (this.ND.debounce(1e4), uc(this.props.backend, this.NG, e));
            }
            getHeight() {
              var e;
              return (
                (null == (e = this.Mw.current) ? void 0 : e.offsetHeight) || 0
              );
            }
            hasValue() {
              var e;
              if (null != (null == (e = this.props.draft) ? void 0 : e.quote))
                return !0;
              switch (this.state.status.type) {
                case "readonly":
                  return !1;
                case "input":
                  return "" !== this.state.value;
                case "voice":
                  return !1;
                case "recording":
                case "postRecording":
                  return !0;
                default:
                  return this.state.status.type, !0;
              }
            }
            Nk() {
              switch (this.state.status.type) {
                case "readonly":
                  return !1;
                case "input":
                  return "" !== this.state.value.trim();
                case "voice":
                case "recording":
                case "postRecording":
                  return !1;
                default:
                  return this.state.status.type, !0;
              }
            }
            Nd(e) {
              var t = this.props,
                s = t.backend,
                r = t.connected,
                n = (0, d.c)(e, this.props.contacts);
              (0, y.f)(
                (0, B.d)({
                  contact: n,
                  unblock: () => {
                    r ? s.unblockUser(e) : (0, y.e)({ title: 229, text: 948 });
                  },
                })
              );
            }
            Nl(e) {
              var t;
              switch (e) {
                case "image":
                  t = { type: "image" };
                  break;
                case "video":
                  t = { type: "video" };
                  break;
                default:
                  t = { type: "audio" };
              }
              var s = this.props,
                r = s.backend,
                n = s.draft,
                a = s.onSentFromAnotherScreen,
                i = s.type,
                o = s.chat,
                l = "status" === i ? "statusReply" : "conversation";
              r.openScreen("SEND_MEDIA", {
                from: l,
                jid: this.NG,
                media: t,
                defaultCaption: this.NM(),
                quote: null == n ? void 0 : n.quote,
                actionAfterSending: a,
                chat: o,
              });
            }
            Nm() {
              cl(this.props.backend, (e) => {
                var t = this.Mx.current;
                t && t.pasteText(e);
              });
            }
            Nn(e) {
              var t = this.props,
                s = t.backend,
                r = t.draft,
                n = t.onSentFromAnotherScreen,
                a = "status" === t.type ? "statusReply" : "conversation";
              s.openScreen("SEND_GIF", {
                from: a,
                chatJid: this.NG,
                gifProvider: e,
                defaultCaption: this.NM(),
                quote: null == r ? void 0 : r.quote,
                actionAfterSending: n,
              });
            }
            No() {
              var e = this.props,
                t = e.backend,
                s = e.draft,
                r = e.onSentFromAnotherScreen;
              (function (e, t, s, r) {
                var n = (0, Pl.b)().then((n) => () => {
                  e.openScreen("SHARE_CONTACTS", {
                    jid: t,
                    phoneContacts: n,
                    quote: r,
                    actionAfterSending: s,
                  });
                });
                e.spinUntilReady(n, 840);
              })(t, this.NG, r, null == s ? void 0 : s.quote);
            }
            Np() {
              var e = this.props,
                t = e.backend,
                s = e.onSentFromAnotherScreen,
                r = this.NG;
              t.openScreen("SEND_LOCATION", { jid: r, actionAfterSending: s });
            }
            Nq() {
              var e,
                t = this.props.backend,
                s = pl(this.props.serverPropGifProvider);
              null != s &&
                (0, Tn.a)("gif_search_enabled") &&
                (e = {
                  key: "gif",
                  label: 27,
                  icon: (0, r.b)(2, Fl),
                  action: () => this.Nn(s),
                });
              var n = {
                key: "location",
                label: 28,
                icon: (0, r.b)(2, zl),
                action: () => this.Np(),
              };
              (function (e, t, s) {
                (0, y.b)(
                  (0, r.b)(2, Dl, { items: t, initialSelectedKey: void 0 })
                ),
                  il(e);
              })(
                t,
                [
                  {
                    key: "emoji",
                    label: 172,
                    icon: (0, r.b)(2, jl),
                    action: () => this.Nm(),
                  },
                  {
                    key: "photo",
                    label: 29,
                    icon: (0, r.b)(2, Bl),
                    action: () => this.Nl("image"),
                  },
                  {
                    key: "video",
                    label: 30,
                    icon: (0, r.b)(2, Vl),
                    action: () => this.Nl("video"),
                  },
                  e || n,
                  {
                    key: "contact",
                    label: 26,
                    icon: (0, r.b)(2, Wl),
                    action: () => this.No(),
                  },
                  {
                    key: "audio",
                    label: 25,
                    icon: (0, r.b)(2, Kl),
                    action: () => this.Nl("audio"),
                  },
                  e ? n : null,
                ].filter(Boolean)
              );
            }
            Nr(e) {
              (0, y.g)({
                left: 784,
                onSoftLeft: "CLOSE",
                right: 769,
                onSoftRight: this.Ng,
                text: 191,
              });
            }
            addSoftKeys(e, t) {
              var s,
                n = this.props;
              if (
                (n.readOnly ||
                  e.setHoldCenter(
                    () => this.NQ("longPress"),
                    () => this.NR("stop")
                  ),
                this.NW())
              ) {
                if (n.readOnly)
                  if ("only-admins" === n.readOnly) {
                    var a = n.chat;
                    e.setCenterLabel(503, () => {
                      n.backend.openScreen("MESSAGE_ADMIN", { chat: a });
                    });
                  } else
                    "tos-not-accepted" === n.readOnly
                      ? e.setCenterLabel(833, () => {
                          (0, Xl.a)(t, St.S),
                            WAM.log("regular", 3154, void 0, [1, 0, 3]);
                        })
                      : n.readOnly;
                else
                  n.isBlocked
                    ? e.setLeftLabel(790, () => this.Nd(n.chat.jid))
                    : e.setLeftIcon(
                        (0, r.b)(2, Yl, { className: "Jp p" }),
                        () => this.Nq()
                      );
                null == (null == (s = n.draft) ? void 0 : s.quote) ||
                  ("one" !== n.type && "group" !== n.type) ||
                  e.setBack(() => {
                    (0, ql.c)(t, n.chat.jid);
                  });
                var i = this.state.status;
                switch (i.type) {
                  case "readonly":
                    n.isAtBottom || e.setLeftLabel(761, () => this.close());
                    break;
                  case "input":
                    this.Nk()
                      ? e.setCenterLabel(823, () => this.Ne())
                      : e.setCenterLabel(199, this.Nh),
                      i.preRecording && e.disableBar();
                    break;
                  case "voice":
                    e.setLeftLabel(761, () => this.Ng()),
                      e.setCenterLabel(199, () => this.NQ("shortPress")),
                      e.setBack(() => this.Ng()),
                      i.preRecording && e.disableBar();
                    break;
                  case "recording":
                    i.longPress
                      ? e.setFull(193)
                      : (e.setLeftLabel(769, () => this.NR("delete")),
                        e.setCenterLabel(823, () => this.NR("send")),
                        e.setRightLabel(828, () => this.NR("stop")),
                        e.setBack(() => this.Ng()));
                    break;
                  case "postRecording":
                    i.longPress
                      ? (e.setFull(193),
                        e.setBack(() => {
                          this.Ng(), i.direct && this.close();
                        }))
                      : (e.setLeftLabel(769, () => {}),
                        e.setCenterLabel(823, () => {}),
                        e.setRightLabel(828, () => {}),
                        e.setBack(() => this.Nr(t)));
                    break;
                  default:
                    i.type,
                      e.setLeftLabel(769, () => {
                        this.Ng(), i.direct && this.close();
                      }),
                      e.setCenterLabel(823, () => this.Ne()),
                      e.setBack(() => this.Nr(t));
                }
              } else
                e.setLeftLabel(180, () => {
                  this.open("");
                });
            }
            render() {
              var e,
                t,
                s = this.NW(),
                n = this.state.status,
                a = !s || "input" === n.type,
                i = s && "input" === n.type,
                o = "readonly" === n.type,
                l = null == (e = this.props.draft) ? void 0 : e.link,
                c = "Jh",
                d = null;
              switch (n.type) {
                case "readonly":
                  d = ac(this.props.chat, !0, n.reason);
                  break;
                case "input":
                  break;
                case "voice":
                  d = (0, r.b)(2, ic);
                  break;
                case "recording":
                case "postRecording":
                  (d = (0, r.b)(2, oc, { duration: n.duration })), (c = "Ji");
                  break;
                default:
                  n.type,
                    (d = (0, r.b)(2, cc, {
                      selected: rc,
                      duration: n.duration,
                      blob: n.blob,
                    }));
              }
              var h,
                u,
                p,
                v = (0, Oe.a)("Jf", c, s && Zl);
              return (0, r.f)(
                1,
                "div",
                v,
                [
                  o
                    ? null
                    : ((h = null == (t = this.props.draft) ? void 0 : t.quote),
                      (u = this.props.contacts),
                      (p = this.props.user),
                      null == h
                        ? null
                        : (0, r.f)(
                            1,
                            "div",
                            "Jt",
                            (0, r.b)(2, bn, {
                              selected: !1,
                              quote: h,
                              contacts: u,
                              user: p,
                              fromMe: !1,
                            }),
                            2
                          )),
                  null != l && !o && (0, r.b)(2, Sa, { content: l }),
                  (0, r.b)(
                    2,
                    hl.a,
                    {
                      className: (0, Oe.a)("Jk", !i && "Jl"),
                      onChange: this.NZ,
                      onKeyDown: this.Nb,
                      hasFocusPriority: this.props.hasFocusPriority && a,
                      type: "text",
                      placeholder: 554,
                      defaultValue: this.NL,
                    },
                    null,
                    this.Mx
                  ),
                  (0, r.b)(2, Do.b.div, {
                    hasFocusPriority: this.props.hasFocusPriority && !a,
                    children: d,
                  }),
                ],
                0,
                null,
                null,
                this.Mw
              );
            }
          }),
          (Jl = function () {
            (this.Mw = n.e()),
              (this.Mx = n.e()),
              (this.My = null),
              (this.Mz = null),
              (this.NA = null),
              (this.NC = !1),
              (this.ND = new xo.a(() => {
                this.NE();
              })),
              (this.NF = new xo.a(() => {
                (this.NC = !1),
                  this.ND.cancel(),
                  uc(this.props.backend, this.NG, "idle");
              })),
              (this.NH = new Map()),
              (this.NI = null),
              (this.NJ = null),
              (this.NK = null),
              (this.NL = ""),
              (this.NZ = (e) => {
                var t = null;
                this.NW()
                  ? (t = "input" === this.state.status.type)
                  : ((t = !this.props.readOnly), this.open(t ? e : "")),
                  t
                    ? (this.Na(),
                      this.setState({ value: e }),
                      null != this.NK && this.NK.debounce(700))
                    : this.NT();
              }),
              (this.NS = () => {
                "visible" !== document.visibilityState && this.NR("stop");
              }),
              (this.Nb = () => {
                null != this.NK && this.NK.debounce(700);
              }),
              (this.Ne = (e, t) => {
                var s = this.props;
                this.NI = null;
                var r = this.state.status,
                  n = !1;
                switch (r.type) {
                  case "readonly":
                    __LOG__(
                      3
                    )`You should not be able to send at this point ${r.type}`;
                    break;
                  case "input":
                    var a,
                      i,
                      o = this.state.value.trim();
                    "" !== o
                      ? s.isBlocked
                        ? this.Nd(s.chat.jid)
                        : (s.backend.sendTextMsg(
                            this.NG,
                            o,
                            null == (a = s.draft) ? void 0 : a.quote,
                            this.NY(),
                            (null == (i = s.draft) ? void 0 : i.waMeInfo) ||
                              null
                          ),
                          this.NT(),
                          (n = !0))
                      : __LOG__(
                          3
                        )`We should not allow user to send blank messages`;
                    break;
                  case "voice":
                  case "recording":
                    __LOG__(
                      3
                    )`You should not be able to send at this point ${r.type}`;
                    break;
                  case "postRecording":
                    null != e
                      ? (n = this.Nc(e, r.duration, t))
                      : __LOG__(
                          3
                        )`You should not be able to send at this point ${r.type}`;
                    break;
                  default:
                    r.type, (n = this.Nc(r.blob, r.duration, r.waveform));
                }
                n &&
                  ((this.NC = !1),
                  this.Nf(),
                  s.isAtBottom ? this.Ng() : this.close(),
                  s.onSent());
              }),
              (this.open = (e) => {
                this.NW() ||
                  (this.NX(e),
                  this.setState((e) =>
                    "recording" === e.status.type
                      ? { opened: !0 }
                      : {
                          opened: !0,
                          status: this.props.readOnly
                            ? { type: "readonly", reason: this.props.readOnly }
                            : { type: "input", preRecording: !1 },
                        }
                  ));
              }),
              (this.close = () => {
                this.NW() && this.setState({ opened: !1 });
              }),
              (this.Nh = () => {
                this.props.readOnly
                  ? __LOG__(
                      3
                    )`Read only group, you should not be able to display voice`
                  : "input" === this.state.status.type &&
                    this.setState({
                      status: { type: "voice", preRecording: !1 },
                    });
              }),
              (this.Ng = () => {
                this.setState({ status: { type: "input", preRecording: !1 } });
              }),
              (this.NQ = (e) => {
                if (this.props.readOnly)
                  return (
                    __LOG__(
                      4
                    )`Read only group, you should not be able to start recording`,
                    void SEND_LOGS("composeBox-startRecording-readOnlyGroup")
                  );
                if (this.props.isBlocked) this.Nd(this.props.chat.jid);
                else {
                  var t = this.state.status;
                  if ("input" === t.type)
                    this.setState({
                      status: Object.assign({}, t, { preRecording: !0 }),
                    });
                  else {
                    if ("voice" !== t.type)
                      return (
                        __LOG__(
                          4
                        )`You should only be able to record from an input or voice compose box`,
                        void SEND_LOGS(
                          "composeBox-startRecording-notInputOrVoice",
                          0.001
                        )
                      );
                    this.setState({
                      status: Object.assign({}, t, { preRecording: !0 }),
                    });
                  }
                  null != this.My && this.My.stop();
                  var s = new (class {
                    constructor() {
                      var e;
                      (this.chunks = []),
                        (this.onStop = new Ro.a()),
                        (this.rawWaveformData = []),
                        (this.collectWaveformData = () => {
                          var e = this.getCurrentAmplitude();
                          this.rawWaveformData.push(e);
                        }),
                        (this.status = { type: "idle" }),
                        (this.audioCtx = new AudioContext()),
                        (this.analyser = this.audioCtx.createAnalyser()),
                        ((e = this.analyser).fftSize = 32),
                        (e.smoothingTimeConstant = 0),
                        (e.minDecibels = -80),
                        (e.maxDecibels = 0),
                        (this.frequencyData = new Uint8Array(
                          this.analyser.frequencyBinCount
                        ));
                    }
                    processWaveformData(e, t) {
                      for (
                        var s = Math.floor(e.length / t), r = [], n = 0;
                        n < t;
                        n++
                      ) {
                        for (var a = s * n, i = 0, o = 0; o < s; o++)
                          i += Math.abs(e[a + o]);
                        r.push((i / s) * 100);
                      }
                      return r;
                    }
                    getWaveformData() {
                      var e;
                      return (
                        (e =
                          this.rawWaveformData.length > 64
                            ? this.processWaveformData(this.rawWaveformData, 64)
                            : 64 === this.rawWaveformData.length
                            ? this.rawWaveformData
                            : Ln(this.rawWaveformData, 64).map((e) => 100 * e)),
                        new Uint8Array(e).buffer
                      );
                    }
                    getCurrentAmplitude() {
                      return (
                        this.analyser.getByteFrequencyData(this.frequencyData),
                        Math.max(...Array.from(this.frequencyData)) / 255
                      );
                    }
                    initAudioAnalyser(e) {
                      this.audioCtx
                        .createMediaStreamSource(e)
                        .connect(this.analyser);
                    }
                    start() {
                      var e = this.status;
                      return "idle" !== e.type
                        ? Promise.reject(
                            new Error(`recorder.start called while ${e.type}!`)
                          )
                        : ((this.status = { type: "starting" }),
                          (null != navigator.mediaDevices &&
                          navigator.mediaDevices.getUserMedia
                            ? Promise.resolve(
                                navigator.mediaDevices.getUserMedia(Go)
                              )
                            : Promise.reject("Recording not supported")
                          ).then((e) => {
                            if ("starting" === this.status.type) {
                              this.initAudioAnalyser(e);
                              var t = (function (e, t) {
                                var s, r, n, a;
                                (a = 1e3 / 6), (n = performance.now());
                                var i = (t) => {
                                  var o = t - n;
                                  o > a && ((n = t - (o % a)), e()),
                                    r || (s = requestAnimationFrame(i));
                                };
                                return (
                                  (s = requestAnimationFrame(i)),
                                  () => {
                                    (r = !0), cancelAnimationFrame(s);
                                  }
                                );
                              })(this.collectWaveformData);
                              (this.status = {
                                type: "recording",
                                stream: e,
                                media: new MediaRecorder(e),
                              }),
                                (this.status.media.ondataavailable = (e) => {
                                  this.chunks.push(e.data);
                                }),
                                (this.status.media.onstop = () => {
                                  t();
                                  var e = (0, Tn.a)("ptt_waveform_send")
                                    ? this.getWaveformData()
                                    : void 0;
                                  this.analyser.disconnect();
                                  var s = new Blob(this.chunks, {
                                    type: "audio/ogg; codecs=opus",
                                  });
                                  this.onStop.resolve({ blob: s, waveform: e });
                                }),
                                this.status.media.start();
                            } else Uo(e);
                          }));
                    }
                    stop() {
                      var e = this.status,
                        t = { type: "stopped", data: new Ro.a() };
                      switch (e.type) {
                        case "idle":
                          (this.status = t),
                            t.data.reject(
                              "Stopped recorder while idle rather than recording"
                            );
                          break;
                        case "starting":
                          (this.status = t),
                            t.data.reject(
                              "Stopped recorder while starting rather than recording"
                            );
                          break;
                        case "recording":
                          (this.status = t),
                            t.data.resolve(this.onStop.promise),
                            e.media.stop(),
                            Uo(e.stream);
                          break;
                        case "stopped":
                          return e.data.promise;
                        default:
                          return (0, f.a)(e.type);
                      }
                      return t.data.promise;
                    }
                  })();
                  (this.My = s),
                    (0, ht.g)(200),
                    s
                      .start()
                      .then((t) => {
                        this.setState(
                          (t) =>
                            this.Ni(s)
                              ? ((this.Mz = setInterval(() => {
                                  this.setState((e) => {
                                    if (!this.Ni(s)) return null;
                                    var t = e.status;
                                    if ("recording" === t.type) {
                                      var r = dc((0, Lt.v)(t.started));
                                      return r === t.duration
                                        ? null
                                        : (this.Na(),
                                          {
                                            status: Object.assign({}, t, {
                                              duration: r,
                                            }),
                                          });
                                    }
                                  });
                                }, 50)),
                                {
                                  status: {
                                    type: "recording",
                                    direct: !this.NW(),
                                    started: (0, Lt.u)(),
                                    duration: 0,
                                    longPress: "longPress" === e,
                                  },
                                })
                              : null,
                          () => {
                            this.Ni(s) && (this.Na(), this.open(""));
                          }
                        );
                      })
                      .catch((e) => {
                        this.Ni(s) && (this.My = null),
                          __LOG__(
                            4
                          )`Failed to start recording, could not get media stream: ${e}`,
                          this.Ng();
                      });
                }
              }),
              (this.NR = (e) => {
                var t = this.state.status,
                  s = this.My;
                if (null != s)
                  if (((0, ht.g)(200), "recording" === t.type)) {
                    var r = (0, Lt.v)(t.started),
                      n = s.stop();
                    hc(r)
                      ? (this.setState({
                          status: {
                            type: "postRecording",
                            direct: t.direct,
                            duration: dc(r),
                            longPress: t.longPress,
                          },
                        }),
                        n.then((t) => {
                          var r = t.blob,
                            n = t.waveform;
                          return this.Nj(e, s, r, n);
                        }))
                      : this.Ng();
                  } else
                    s.stop().catch((e) => {
                      __LOG__(3)`Catched error while recording: ${e}`,
                        this.setState({
                          status: { type: "voice", preRecording: !1 },
                        });
                    }),
                      (this.My = null);
                else
                  __LOG__(
                    3
                  )`Tried to end recording while not doing it (this warning is fine if due to the app put in the background)`;
              }),
              (this.Nj = (e, t, s, r) => {
                var n = this.state.status;
                if ("postRecording" === n.type && this.Ni(t))
                  switch (((this.My = null), e)) {
                    case "delete":
                      this.Ng();
                      break;
                    case "stop":
                      this.setState({
                        status: {
                          type: "recorded",
                          direct: n.direct,
                          duration: Math.max(1, n.duration),
                          blob: s,
                          waveform: r,
                        },
                      });
                      break;
                    default:
                      this.Ne(s, r);
                  }
              }),
              (this.Nf = () => {
                this.ND.cancel(), this.NF.cancel();
              });
          }),
          Hl);
      function ac(e, t, s) {
        var n;
        switch (s) {
          case "not-participant":
            n = 342;
            break;
          case "support-closed":
            n = 446;
            break;
          case "only-admins":
            n = 341;
            break;
          case "tos-not-accepted":
            var a;
            n =
              (null == e || null == (a = e.msgInfo) ? void 0 : a.preview) &&
              !e.msgInfo.preview.meta.fromMe
                ? 909
                : 914;
            break;
          default:
            n = 205;
        }
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Jj", t && Zl),
          (0, r.b)(2, o.b, { l10n: n }),
          2
        );
      }
      function ic() {
        return (0, r.f)(
          1,
          "div",
          tc,
          [
            (0, r.b)(2, $l, { className: ec }),
            (0, r.f)(1, "div", null, (0, r.b)(2, o.b, { l10n: 200 }), 2),
          ],
          4
        );
      }
      function oc(e) {
        return (0, r.f)(
          1,
          "div",
          tc,
          [
            (0, r.b)(2, $l, { className: (0, Oe.a)(ec, "Jv") }),
            (0, r.f)(1, "div", "Jr", (0, xt.b)(e.duration), 0),
          ],
          4
        );
      }
      function lc() {
        return (0, r.f)(
          1,
          "div",
          "Ju GG GC",
          (0, r.b)(2, o.b, { l10n: 192 }),
          2
        );
      }
      var cc = class extends h.b {
        constructor(e, t) {
          super(e, t),
            (this.state = {
              uri: null,
              canPlay: !1,
              paused: !0,
              currentTime: 0,
              showVolumeTooltip: !1,
            }),
            (this.Nt = () => {
              this.Ns.setPlaying(!0);
            }),
            (this.pause = () => {
              this.Ns.setPlaying(!1);
            }),
            (this.Nu = () => {
              this.Ns.seekToward("backward");
            }),
            (this.Nv = () => {
              this.Ns.seekToward("forward");
            }),
            (this.Ns = new Tl.a(this)),
            this.Ns.enableWarnIfMuted(() =>
              this.setState({ showVolumeTooltip: !0 })
            );
        }
        componentDidMount() {
          this.setState({ uri: (0, Rr.a)(this.props.blob) }),
            super.componentDidMount();
        }
        componentWillUnmount() {
          this.state.uri && (0, Rr.b)(this.state.uri),
            super.componentWillUnmount();
        }
        mediaDuration() {
          return this.props.duration;
        }
        handleCanPlay() {
          this.setState({ canPlay: !0 });
        }
        handlePlay() {
          this.setState({ paused: !1 });
        }
        handlePause() {
          this.setState({ paused: !0 });
        }
        handleTimeUpdate(e) {
          this.setState({ currentTime: e });
        }
        handleEnded() {
          this.Ns.seekTo(0), this.setState({ paused: !0, currentTime: 0 });
        }
        addSoftKeys(e, t) {
          this.state.canPlay
            ? (e.setLeftRightArrows(this.Nu, this.Nv),
              this.state.paused
                ? e.setRightLabel(801, this.Nt)
                : (e.setUpDownArrows(ht.i, ht.h),
                  e.setRightLabel(798, this.pause)))
            : e.setRightLabel(801, this.Nt);
        }
        render() {
          var e = this.props.duration,
            t = this.state,
            s = t.uri,
            n = t.paused,
            a = t.currentTime,
            i = t.showVolumeTooltip;
          return (0, r.f)(
            1,
            "div",
            "Js",
            [
              (0, r.b)(2, $l, { className: ec }),
              n
                ? (0, r.b)(2, wr.a, { className: "Jo" })
                : (0, r.b)(2, Cn, { className: "Jo" }),
              (0, r.b)(2, yn, {
                kind: "composeBox",
                progress: a / e,
                duration: n && 0 === a ? e : a,
              }),
              s &&
                (0, r.f)(
                  1,
                  "audio",
                  null,
                  null,
                  1,
                  { src: s, preload: "metadata" },
                  null,
                  this.Ns.ref
                ),
              i ? (0, r.b)(2, lc) : null,
            ],
            0
          );
        }
      };
      function dc(e) {
        return Math.ceil(e / 1e3);
      }
      function hc(e) {
        return e >= 500;
      }
      function uc(e, t, s) {
        e.fireAndForget("backend", "sendChatState", { jid: t, type: s });
      }
      var pc = s(307),
        vc = s(374),
        fc = s(156),
        gc = s(135),
        bc = s(180),
        mc = (0, bc.a)((e) =>
          "solid-color" === e.type ? { backgroundColor: e.color } : null
        ),
        Sc = (0, bc.b)((e, t) => {
          var s,
            r = e || t || { type: "default" };
          return {
            chatBackground: r,
            isDarkBackground:
              "solid-color" === r.type && ((s = r.color), Xe.includes(s)),
          };
        }),
        yc = s(296),
        kc = (0, r.f)(1, "div", "IC", null, 1, null, "filler");
      function Cc(e, t) {
        return Rs.d(e.msglist.viewport, t.msglist.viewport);
      }
      function wc(e) {
        var t = e.type;
        return (
          "datetime" !== t &&
          "unreadBar" !== t &&
          "loading" !== t &&
          "filler" !== t
        );
      }
      function xc(e) {
        return null != e.selection && e.selection.key === St.f;
      }
      function Ic() {}
      var Lc = class extends h.a {
          static getDerivedStateFromProps(e, t) {
            var s,
              r = e.msglist,
              n = Nc(r);
            if (
              null != t.selectionTarget.msgId &&
              n.msgId !== t.selectionTarget.msgId
            )
              return (
                __LOG__(
                  2
                )`Conversation: Selection target changed from ${t.selectionTarget.msgId} to ${n.msgId}`,
                {
                  composeBox: { opened: !1, isInput: !1 },
                  quote: null == (s = e.draft) ? void 0 : s.quote,
                  selectionTarget: n,
                  selection: Mc(r, n),
                }
              );
            if (null != t.selection) {
              var a,
                i = t.selection.index,
                o = Mc(r, {
                  type: "item",
                  key: t.selection.key,
                  msgId: null == (a = t.selection.item.msg) ? void 0 : a.id,
                });
              if (null != o) return { selection: o };
              __LOG__(
                3
              )`Conversation selection is outside the range of rendered items`;
              do {
                var l,
                  c = r.items[i];
                if (c && wc(c))
                  return {
                    selection: Mc(r, {
                      type: "item",
                      key: c.key,
                      msgId: null == (l = c.msg) ? void 0 : l.id,
                    }),
                  };
                i--;
              } while (i >= 0);
              return {
                selection: Mc(r, { type: "item", key: St.f, msgId: null }),
              };
            }
            return null;
          }
          constructor(e, t) {
            var s;
            super(e, t), _c.call(this);
            var r = e.msglist,
              n = Nc(r);
            (this.state = {
              composeBox: { opened: !1, isInput: !1 },
              quote: null == (s = e.draft) ? void 0 : s.quote,
              selectionTarget: n,
              selection: Mc(r, n),
            }),
              (this.Wi = { type: "openChatNewest", chatJid: r.chat.jid });
          }
          componentDidMount() {
            var e = this.props,
              t = e.msglist,
              s = e.readOnly;
            __LOG__(2)`Opened Conversation ${t.chat.id}`, this.Wk();
            var r,
              n,
              a,
              i = this.Wc.current;
            if (i) {
              var o = i.getBoundingClientRect();
              this.Wb = {
                element: i,
                width: o.width,
                height: o.height,
                top: o.top,
                bottom: o.bottom,
              };
            }
            this.state.selection ? this.Wl() : this.Wm(),
              t.withComposeBoxOpened && this.Wn(),
              t.opening &&
                (WAM.log("regular", 1096, void 0, [1, 0, Date.now() - this.Wh]),
                (0, Tn.a)("kaios_privatestats_phase3_enabled") &&
                  (WAM.log("private", 2958, 248614979, []),
                  WAM.log("private", 2960, 191000728, [])),
                "ONE_TO_ONE" === t.chat.type &&
                  ("country-disabled" === s
                    ? (function (e) {
                        (0, y.e)({ text: 204 });
                        var t = Tc(e);
                        WAM.log("regular", 3150, void 0, [1, 0, 2, 2, 1, !t]);
                      })(t.chat)
                    : "tos-not-accepted" === s &&
                      ((a = Tc(t.chat))
                        ? ((r = 911), (n = 910))
                        : ((r = 913), (n = 912)),
                      (0, y.g)({
                        title: r,
                        text: n,
                        center: 813,
                        onSoftCenter: (e) => {
                          (0, Xl.a)(e, St.S), Pc("review-modal");
                        },
                        right: 795,
                        onSoftRight: () => {
                          Pc("cancelled");
                        },
                        onBack: () => {
                          Pc("cancelled");
                        },
                      }),
                      WAM.log("regular", 3150, void 0, [1, 0, 1, 2, 1, !a]))),
                this.props.backend.dispatch({
                  type: "OPENED_CHAT",
                  chatId: t.chat.id,
                })),
              super.componentDidMount();
          }
          getSnapshotBeforeUpdate(e, t) {
            return (
              super.getSnapshotBeforeUpdate(e, t),
              Cc(this.props, e) && this.We.current && this.Wb
                ? { previousTop: this.We.current.getBoundingClientRect().top }
                : null
            );
          }
          componentDidUpdate(e, t, s) {
            var r,
              n,
              a,
              i,
              o,
              l,
              c = this.state,
              d = c.selection,
              h = c.composeBox,
              u = this.props,
              p = u.msglist,
              v = u.backend,
              f = u.contacts,
              g = u.activePlayer;
            if (
              (null == g ? void 0 : g.autoPlay) &&
              (null == (r = p.selectedItem) ? void 0 : r.msgId) &&
              p.msgs[null == (n = p.selectedItem) ? void 0 : n.msgId].content
                .isPtt &&
              (null == g ? void 0 : g.commonMsgId) ===
                (null == (a = p.selectedItem) ? void 0 : a.msgId) &&
              (null == g ? void 0 : g.commonMsgId) !==
                (null == (i = e.activePlayer) ? void 0 : i.commonMsgId)
            ) {
              var b = Nc(p),
                m = Mc(p, b);
              this.setState({ selectionTarget: b, selection: m });
            }
            if (
              (null != d &&
                (!(function (e) {
                  return !(!e.loading || !e.loading.older);
                })(p) &&
                  d.index < 5 &&
                  (void 0 === (l = p).oldestIndex ||
                    l.viewport.loadedRange.end <= l.oldestIndex) &&
                  (0, yc.a)(v, p, "older"),
                !(function (e) {
                  return !(!e.loading || !e.loading.newer);
                })(p) &&
                  d.index > p.items.length - 5 &&
                  (function (e) {
                    return (
                      void 0 === e.newestIndex ||
                      e.viewport.loadedRange.start > e.newestIndex
                    );
                  })(p) &&
                  (0, yc.a)(v, p, "newer")),
              d !== t.selection && this.Wo(),
              Cc(e, this.props))
            )
              if (null != s && this.We.current && null != this.Wb) {
                var S = this.Wb.element.scrollTop,
                  k = this.We.current.getBoundingClientRect();
                this.Wp(S + k.top - s.previousTop);
              } else this.Wm();
            else
              ((null != d &&
                d.key !== (null == (o = t.selection) ? void 0 : o.key)) ||
                h.opened !== t.composeBox.opened ||
                (h.opened && Ac(this.props) !== Ac(e))) &&
                this.Wl();
            var C = xc(this.state),
              w = xc(t);
            C && !w ? this.Wn() : C || !w || this.Wq() || this.Wr(),
              (0, Tt.e)(v, f, p.chat),
              !e.msglist.missingAnchor &&
                p.missingAnchor &&
                (function (e) {
                  (0, y.e)({
                    title: 229,
                    text: 507,
                    onClose: () => {
                      e.goBack();
                    },
                  });
                })(v),
              this.Ws(),
              this.Wk(),
              super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            var e = this.props,
              t = e.msglist,
              s = e.backend,
              r = t.chat.id;
            if (
              (__LOG__(2)`Closing Conversation ${r}`,
              null != this.state.selection)
            ) {
              var n = this.state.selection.item;
              s.dispatch({ type: "SELECT_MSG", item: n });
            }
            this.Wo(),
              s.dispatch({ type: "STOP_ANY_MEDIA" }),
              t.withComposeBoxOpened &&
                s.dispatch({
                  type: "REMOVE_WITH_COMPOSE_BOX_OPENED",
                  chatId: r,
                }),
              super.componentWillUnmount();
          }
          Wo() {
            var e, t, s;
            this.Wg ||
              (this.Wg = (0, Us.d)(
                this.props.activePlayer,
                null == (e = this.state.selection) || null == (t = e.item.msg)
                  ? void 0
                  : t.id,
                null == (s = this.state.selection) ? void 0 : s.key
              ));
          }
          Wk() {
            if ("hidden" !== document.visibilityState) {
              var e = this.props.msglist.chat;
              this.Wf !== e.msgInfo.newest &&
                ((this.Wf = e.msgInfo.newest),
                this.props.backend.markChatAsRead(e.id));
            }
          }
          Wt(e, t) {
            var s = this.props,
              r = s.backend,
              n = s.readOnly,
              a = s.draft,
              i = this.state.composeBox;
            i.opened &&
              "" !== Ut() &&
              i.isInput &&
              e.add(187, () => {
                this.handlePaste();
              }),
              n ||
                null == (null == a ? void 0 : a.quote) ||
                e.add(806, () => {
                  (0, ql.c)(r, t.jid);
                }),
              n ||
                null == (null == a ? void 0 : a.link) ||
                e.add(805, () => {
                  (0, ql.b)(r, t.jid);
                });
          }
          Wu(e, t) {
            var s = this.props,
              r = s.backend,
              n = s.contacts,
              a = s.isBlocked,
              i = s.isVoipAvailable;
            switch (t.type) {
              case "ONE_TO_ONE":
                var o = t.jid;
                zs(e, r, n, o),
                  e.add(null == (0, Pt.b)(t, n) ? 127 : 126, () => {
                    (0, Vn.a)(r, o);
                  }),
                  i &&
                    e.add(108, () =>
                      (0, _e.a)((0, d.c)(o, n), r, a, "conversationOptions")
                    );
                break;
              case "GROUP":
                e.add(128, Qi.d, r, t),
                  t.groupInfo.isAdmin &&
                    e.add(18, r.openScreen, "ADD_GROUP_PARTICIPANTS", {
                      chat: t,
                    });
            }
          }
          maybeAppendQuoteOptions(e, t, s) {
            var r = this.props,
              n = r.backend,
              a = r.readOnly,
              i = r.draft,
              o = (function (e) {
                var t = null;
                if (e.meta.fromMe) t = { fromMe: !0 };
                else {
                  if (null == e.meta.author) return;
                  t = { author: e.meta.author };
                }
                var s = e.content,
                  r = null,
                  n = null,
                  a = null,
                  i = null;
                switch (s.type) {
                  case "image":
                    null != s.viewOnceState
                      ? (r = {
                          type: "viewOnceImage",
                          viewOnceState: s.viewOnceState,
                        })
                      : ((n = s.preview),
                        (a = s.bg),
                        (r = { type: "image", caption: (0, se.l)(s.caption) }));
                    break;
                  case "sticker":
                    (r = { type: "sticker" }), (i = e.id);
                    break;
                  case "gif":
                    (n = s.preview),
                      (a = s.bg),
                      (r = { type: "gif", caption: (0, se.l)(s.caption) });
                    break;
                  case "video":
                    null != s.viewOnceState
                      ? (r = {
                          type: "viewOnceVideo",
                          viewOnceState: s.viewOnceState,
                        })
                      : ((n = s.preview),
                        (a = s.bg),
                        (r = {
                          type: "video",
                          caption: (0, se.l)(s.caption),
                          duration: s.duration,
                        }));
                    break;
                  case "voice":
                    r = { type: "voice", isPtt: s.isPtt, duration: s.duration };
                    break;
                  case "vcard":
                    r = {
                      type: "vcard",
                      displayNames: s.contacts.map((e) =>
                        (0, se.m)(e.displayName)
                      ),
                      total: s.total,
                    };
                    break;
                  case "text":
                    (r = { type: "text", text: (0, se.m)(s.text) }),
                      null != s.linkPreview &&
                        ((n = s.linkPreview.preview), (a = s.linkPreview.bg));
                    break;
                  case "location":
                    (n = s.preview),
                      (r = {
                        type: "location",
                        name: s.name,
                        address: s.address,
                      });
                    break;
                  case "group_invite":
                    r = { type: "group_invite", caption: (0, se.l)(s.caption) };
                    break;
                  case "document":
                    (n = s.preview),
                      (r = {
                        type: "document",
                        fileName: (0, ir.a)(s),
                        mimetype: s.mimetype,
                      });
                    break;
                  case "rich_hsm":
                    var o = s.richContent;
                    o && (n = o.preview),
                      (r = {
                        type: "rich_hsm",
                        text: (0, gc.c)(
                          (0, se.l)(s.title),
                          (0, se.m)(s.content)
                        ),
                        subtype: (0, gc.e)(o),
                      });
                }
                if (r)
                  return {
                    id: e.id,
                    ts: e.ts,
                    remoteJid: null,
                    meta: t,
                    content: r,
                    preview: n,
                    bg: a,
                    stickerPreviewMsgId: i,
                    mentionedJids: e.mentionedJids,
                  };
              })(t);
            if (null != o) {
              a ||
                null != (null == i ? void 0 : i.quote) ||
                e.add(807, () => {
                  (0, ql.f)(n, s.jid, {
                    type: "reply",
                    quotedMsg: o,
                    formatting: (0, Rs.b)(t),
                  }),
                    this.Wn();
                });
              var l = t.meta.author;
              if ("GROUP" === s.type && null != l) {
                var c = s.jid;
                e.add(808, () => {
                  var e = {
                    text: "",
                    quote: {
                      type: "reply",
                      quotedMsg: Object.assign({}, o, { remoteJid: c }),
                      formatting: (0, Rs.b)(t),
                    },
                  };
                  (0, Ne.a)(n, l, "newest", e);
                });
              }
            }
          }
          handlePaste() {
            this.Wd.current && this.Wd.current.pasteText(Ut());
          }
          Ws() {
            if (null == this.state.selection) {
              var e = Mc(this.props.msglist, this.state.selectionTarget);
              null != e && this.setState({ selection: e });
            }
          }
          Wx(e) {
            this.setState({ selectionTarget: e, selection: null });
          }
          Wq() {
            return null != this.Wd.current && this.Wd.current.hasValue();
          }
          Wr() {
            this.Wd.current && this.Wd.current.close();
          }
          XC() {
            var e = this.props.msglist.chat;
            return "ONE_TO_ONE" === e.type
              ? (0, r.b)(2, pc.b, { chat: e, contacts: this.props.contacts })
              : (0, r.b)(2, pc.a, { chat: e });
          }
          addSoftKeys(e, t) {
            if (null != this.state.selection) {
              e.setUpDownArrows(
                () => this.Wz(),
                () => this.XA()
              ),
                e.setRightOptions(() => this.Wv());
              var s = this.props,
                r = s.msglist.chat;
              if ("ONE_TO_ONE" === r.type && s.isVoipAvailable) {
                var n = s.backend,
                  a = s.contacts,
                  i = s.isBlocked;
                e.setOnCall(() =>
                  (0, _e.a)((0, d.c)(r.jid, a), n, i, "conversation")
                );
              }
            } else e.setFull(788);
          }
          XE(e) {
            var t = xc(this.state);
            return (0, r.i)(
              (0, r.b)(
                2,
                nc,
                Object.assign(
                  {
                    selected: sc,
                    contacts: this.props.contacts,
                    user: this.props.user,
                    backend: this.props.backend,
                    hasFocusPriority: !0,
                    isAtBottom: t,
                    updateParent: this.XB,
                    onSent: t ? Ic : this.Ww,
                    onSentFromAnotherScreen: this.Wi,
                    draft: this.props.draft,
                    connected: this.props.connected,
                    serverPropGifProvider: this.props.serverPropGifProvider,
                  },
                  e
                ),
                null,
                this.Wd
              )
            );
          }
          render() {
            var e = this.props,
              t = e.chatBackground,
              s = e.msglist,
              a = mc(t);
            return (0, r.b)(2, b.a, {
              title: this.XC(),
              tallTitle: D.f,
              children: (0, r.f)(
                1,
                "div",
                "IB",
                [
                  s.items.map(this.renderItem),
                  "GROUP" === e.type
                    ? this.XE({
                        type: "group",
                        chat: e.chat,
                        readOnly: e.readOnly,
                      })
                    : this.XE({
                        type: "one",
                        chat: e.chat,
                        readOnly: e.readOnly,
                        isBlocked: e.isBlocked,
                      }),
                ],
                0,
                { style: n.h(a) },
                null,
                this.Wc
              ),
            });
          }
        },
        _c = function () {
          (this.Wb = null),
            (this.Wc = n.e()),
            (this.Wd = n.e()),
            (this.We = n.e()),
            (this.Wg = !1),
            (this.Wh = Date.now()),
            (this.Wv = () => {
              var e = new V.a(),
                t = this.props,
                s = t.backend,
                r = t.contacts,
                n = this.props.msglist.chat,
                a = this.state.selection && this.state.selection.item;
              if ((this.Wt(e, n), null != a)) {
                var i = a.msg;
                null != i &&
                  ((function (e, t, s, r) {
                    if (s.meta.fromMe) {
                      var n = s.meta.ack;
                      if (null != n && (0, Ds.f)(n)) {
                        var a = s.content;
                        switch (a.type) {
                          case "image":
                            var i = a.mediaStatus;
                            "ready" === i.type &&
                              e.add(833, () => {
                                t.openScreen("MSG_IMAGE_VIEW", {
                                  msgId: s.id,
                                  contentRef: i.ref,
                                });
                              });
                            break;
                          case "video":
                          case "gif":
                          case "voice":
                            var o = a.mediaStatus;
                            "ready" === o.type &&
                              e.add(801, (0, Us.f)(t, s, a, o.ref, r));
                            break;
                          case "document":
                            "ready" === a.mediaStatus.type &&
                              e.add(797, () => {
                                Qs(t, a, s.id);
                              });
                        }
                      }
                    }
                  })(e, s, i, n.jid),
                  Ws(e, s, i),
                  this.maybeAppendQuoteOptions(e, i, n),
                  Ks(e, s, r, a, i, n));
              }
              this.Wu(e, n), xc(this.state) || e.add(178, this.Ww), (0, y.j)(e);
            }),
            (this.Wy = (e, t) => {
              this.setState((s) => ({
                selection: { key: e.key, index: t, item: e },
              })),
                e.key === St.f || this.Wq() || this.Wr();
            }),
            (this.Wp = (e) => {
              var t,
                s,
                r,
                n =
                  (null == (t = this.Wb) || null == (s = t.element)
                    ? void 0
                    : s.scrollTopMax) || 1 / 0,
                a = Math.min(n, Math.round(e));
              (null == (r = this.Wb) ? void 0 : r.element) &&
                this.Wb.element.scrollTo(0, a);
            }),
            (this.Wm = () => {
              this.Wb &&
                (this.Wp(this.Wb.element.scrollHeight),
                requestAnimationFrame(() => {
                  this.Wb &&
                    this.Wb.element &&
                    (this.Wb.element.scrollTop -= 1),
                    requestAnimationFrame(() => {
                      this.Wb &&
                        this.Wb.element &&
                        (this.Wb.element.scrollTop += 1);
                    });
                }));
            }),
            (this.Wl = () => {
              if (this.We.current) {
                var e = this.Wb,
                  t = this.We.current.getBoundingClientRect();
                if (e) {
                  var s = t.top - e.top,
                    r = e.height - t.height;
                  this.state.composeBox.opened &&
                    (r -= this.Wd.current ? this.Wd.current.getHeight() : 0),
                    (r /= 2),
                    this.Wp(e.element.scrollTop + s - r);
                }
              }
            }),
            (this.Wz = () => {
              cancelAnimationFrame(this.Wj),
                (this.Wj = requestAnimationFrame(() => {
                  var e = this.props.msglist.items,
                    t = this.state.selection && this.state.selection.key,
                    s = t ? e.findIndex((e) => e.key === t) : -1;
                  -1 === s && (s = e.length);
                  for (var r = s - 1; r >= 0; --r) {
                    var n = e[r];
                    if (wc(n)) return void this.Wy(n, r);
                  }
                }));
            }),
            (this.XA = () => {
              cancelAnimationFrame(this.Wj),
                (this.Wj = requestAnimationFrame(() => {
                  if (null != this.state.selection)
                    for (
                      var e = this.state.selection.key,
                        t = this.props.msglist.items,
                        s = t.findIndex((t) => t.key === e) + 1;
                      s < t.length;
                      ++s
                    ) {
                      var r = t[s];
                      if (wc(r)) return void this.Wy(r, s);
                    }
                }));
            }),
            (this.Ww = () => {
              this.Wx({ type: "item", key: St.f, msgId: null }),
                (0, Ne.c)(
                  this.props.backend,
                  this.props.msglist.chat.id,
                  "newest"
                );
            }),
            (this.Wn = () => {
              this.Wd.current && this.Wd.current.open("");
            }),
            (this.XB = (e) => {
              this.setState({ composeBox: e });
            }),
            (this.renderItem = (e) => {
              var t =
                  null != this.state.selection &&
                  e.key === this.state.selection.key,
                s = t ? this.We : null;
              switch (e.type) {
                case "loading":
                  return (0, r.b)(2, Be.a, { type: e.subtype }, e.key);
                case "notification":
                  switch (e.content.type) {
                    case "gp2":
                      return (0, r.b)(
                        2,
                        io,
                        {
                          selectedRef: s,
                          selected: t,
                          chat: this.props.msglist.chat,
                          darkBackground: this.props.isDarkBackground,
                          meta: e.msg.meta,
                          content: e.content,
                          contacts: this.props.contacts,
                        },
                        e.key
                      );
                    case "biz":
                      var a = e.content,
                        i = (0, ee.q)(this.props.msglist.chat.jid);
                      return i
                        ? (0, r.b)(
                            2,
                            Gi,
                            {
                              selected: t,
                              darkBackground: this.props.isDarkBackground,
                              contacts: this.props.contacts,
                              msg: e.msg,
                              content: a,
                              userJid: i,
                            },
                            e.key,
                            s
                          )
                        : (__LOG__(4)`Unexpected biz message on group`,
                          SEND_LOGS("biz-message-in-group"),
                          null);
                    case "keyschanged":
                      return (0, r.b)(
                        2,
                        Di,
                        {
                          selected: t,
                          darkBackground: this.props.isDarkBackground,
                          contacts: this.props.contacts,
                          msg: e.msg,
                          subtype: e.content.subtype,
                        },
                        e.key,
                        s
                      );
                    case "ephemeral_change":
                      return (0, r.b)(
                        2,
                        Wi,
                        {
                          selected: t,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          canChange: !this.props.isBlocked,
                          content: e.content.ephemeralExpiration,
                          meta: e.msg.meta,
                        },
                        e.key,
                        s
                      );
                    case "ephemeral_change_fail":
                      return (0, r.b)(
                        2,
                        Ki,
                        {
                          selected: t,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          expiration: e.content.expiration,
                        },
                        e.key,
                        s
                      );
                    case "default-disappearing-mode":
                      var o = e.content,
                        l = (0, ee.q)(this.props.msglist.chat.jid);
                      return l
                        ? (0, r.b)(
                            2,
                            Hi,
                            {
                              selected: t,
                              darkBackground: this.props.isDarkBackground,
                              userJid: l,
                              contacts: this.props.contacts,
                              content: o,
                            },
                            e.key,
                            s
                          )
                        : (__LOG__(
                            4
                          )`Unexpected default disappearing mode message on group`,
                          SEND_LOGS("default-disappearing-mode-in-group"),
                          null);
                    case "contact_block_change":
                      return (0, r.b)(
                        2,
                        Bi,
                        {
                          selected: t,
                          darkBackground: this.props.isDarkBackground,
                          chat: this.props.msglist.chat,
                          contacts: this.props.contacts,
                          blocked: e.content.blocked,
                          isCurrentlyBlocked: this.props.isBlocked,
                        },
                        e.key,
                        s
                      );
                    default:
                      return (0, f.a)(e.content.type);
                  }
                case "datetime":
                  var c,
                    d = (0, Lt.s)();
                  return (
                    (c = (c =
                      e.time > d
                        ? (0, it.k)(908)
                        : e.time > d - Lt.b
                        ? (0, it.k)(983)
                        : (0, xt.i)(e.time, "fulldate")).toUpperCase()),
                    (0, r.b)(
                      2,
                      Ii,
                      {
                        selected: t,
                        darkBackground: this.props.isDarkBackground,
                        children: c,
                      },
                      e.key,
                      s
                    )
                  );
                case "privacyBanner":
                  return (0, r.b)(
                    2,
                    go,
                    {
                      selected: t,
                      content: e.content,
                      darkBackground: this.props.isDarkBackground,
                      chat: this.props.msglist.chat,
                      contacts: this.props.contacts,
                      isVoipAvailable: this.props.isVoipAvailable,
                    },
                    e.key,
                    s
                  );
                case "unreadBar":
                  return (0, r.b)(2, Mi, { count: e.count }, e.key);
                case "filler":
                  return kc;
                case "composeBox":
                  var h = this.Wd.current,
                    u = null != h ? h.getHeight() : 0,
                    p = this.props,
                    v = p.msglist,
                    g = p.readOnly;
                  return (0, r.f)(
                    1,
                    "div",
                    null,
                    (function (e, t, s, a) {
                      var i = {};
                      return (
                        a > 0 && (i.minHeight = a + "px"),
                        (0, r.f)(
                          1,
                          "div",
                          (0, Oe.a)("Jm", s && Zl),
                          t
                            ? ac(e, s, t)
                            : (0, r.b)(2, hl.a, {
                                className: "Jk",
                                type: "text",
                                placeholder: 554,
                              }),
                          0,
                          { style: n.h(i) }
                        )
                      );
                    })(v.chat, g, t, u),
                    0,
                    null,
                    e.key,
                    s
                  );
                case "quote":
                case "quoteGroup":
                case "image":
                case "sticker":
                case "viewOnceImage":
                case "text":
                case "voice":
                case "video":
                case "viewOnceVideo":
                case "gif":
                case "vcard":
                case "locationMap":
                case "locationName":
                case "linkPreview":
                case "groupInvite":
                case "groupInviteCaption":
                case "richHsmText":
                case "richHsmButton":
                case "document":
                case "special":
                  return (0, r.b)(
                    2,
                    Li,
                    {
                      part: e,
                      selected: t,
                      darkBackground: this.props.isDarkBackground,
                      playGif: t,
                      truncated: !0,
                      ephemeralInfo: this.props.ephemeralInfo,
                      setSelectionTarget: this.XD,
                    },
                    e.key,
                    s
                  );
                case "report":
                  return (0, r.b)(
                    2,
                    So,
                    {
                      selected: t,
                      darkBackground: this.props.isDarkBackground,
                      innerRef: s,
                      chat: this.props.msglist.chat,
                      contacts: this.props.contacts,
                      connected: this.props.connected,
                      blocked: this.props.isBlocked,
                      moveToNextMessage: () => this.XA(),
                    },
                    e.key
                  );
                case "addContact":
                  var b = this.props.msglist.chat;
                  return "ONE_TO_ONE" !== b.type
                    ? (__LOG__(
                        4
                      )`Tried to display the AddContactButton in a non-one-to-one-chat`,
                      SEND_LOGS("add-contact-button-in-non-one-to-one"),
                      null)
                    : (0, r.b)(
                        2,
                        yo,
                        {
                          selected: t,
                          darkBackground: this.props.isDarkBackground,
                          innerRef: s,
                          chat: b,
                          contacts: this.props.contacts,
                          moveToNextMessage: () => this.XA(),
                        },
                        e.key
                      );
                case "groupPrivacy":
                  return (0, r.b)(2, ko, { selected: t, innerRef: s }, e.key);
                default:
                  return (
                    e.type,
                    __LOG__(4)`Missing msg item type ${e.type} in Conversation`,
                    null
                  );
              }
            }),
            (this.XD = (e) => {
              this.Wx({ type: "msg", msgId: e });
            });
        };
      function Nc(e) {
        var t = e.anchor,
          s = e.chat,
          r = e.selectedItem;
        return r
          ? { type: "item", key: r.key, msgId: r.msgId }
          : "beginning" === t || t === s.msgInfo.newest
          ? { type: "item", key: St.f, msgId: null }
          : { type: "msg", msgId: t };
      }
      function Mc(e, t) {
        switch (t.type) {
          case "msg":
            return (function (e, t) {
              for (var s = 0; s < e.items.length; ++s) {
                var r = e.items[s];
                if (r.msg && r.msg.id === t)
                  return { key: r.key, index: s, item: r };
              }
              return null;
            })(e, t.msgId);
          case "item":
            return (function (e, t, s) {
              for (var r = !1, n = 0; n < e.items.length; ++n) {
                var a,
                  i = e.items[n],
                  o = null != s && (null == (a = i.msg) ? void 0 : a.id) === s;
                if (i.key === t) return { key: i.key, index: n, item: i };
                if (r && !o) {
                  var l = n - 1,
                    c = e.items[l];
                  return { key: c.key, index: l, item: c };
                }
                r = o;
              }
              return null;
            })(e, t.key, t.msgId);
          default:
            return (0, f.a)(t.type);
        }
      }
      var Oc = (0, i.g)(
        (0, h.e)(Lc, { order: [oi.a, hi, sc, rc] }),
        (e) =>
          e.msglist
            ? {
                msglist: e.msglist,
                contacts: e.contacts,
                user: e.user,
                blocked: e.blocked,
                connected: e.connected,
                serverPropGifProvider: e.serverProps.gifProvider,
                isVoipAvailable: e.isVoipAvailable,
                activePlayer: e.player.active,
                settings: e.settings,
                drafts: e.drafts,
                tosAccepted: e.tosAccepted,
              }
            : null,
        (e, t) => {
          var s = e.msglist,
            r = e.contacts,
            n = e.blocked,
            a = e.settings,
            i = e.drafts,
            o = e.tosAccepted,
            l = s.chat,
            c = "ONE_TO_ONE" === l.type && n[l.jid],
            h = Sc(l.chatBackgroundSettings, a.chatBackgroundSettings),
            u = h.chatBackground,
            p = h.isDarkBackground,
            v = (0, fc.c)(i, l.jid),
            f = {
              backend: t,
              contacts: r,
              activePlayer: e.activePlayer,
              connected: e.connected,
              isVoipAvailable: e.isVoipAvailable,
              serverPropGifProvider: e.serverPropGifProvider,
              user: e.user,
              isBlocked: c,
              ephemeralInfo: (0, Tt.b)(l, r),
              chatBackground: u,
              isDarkBackground: p,
              draft: v,
            };
          return "GROUP" === l.type
            ? Object.assign({}, f, {
                type: "GROUP",
                chat: l,
                msglist: s,
                readOnly: (0, Pt.d)(l),
              })
            : Object.assign({}, f, {
                type: "ONE_TO_ONE",
                chat: l,
                msglist: s,
                readOnly: (0, vc.a)((0, d.c)(l.jid, r), o),
              });
        }
      );
      function Tc(e) {
        return e.msgInfo.preview && !e.msgInfo.preview.meta.fromMe;
      }
      function Pc(e) {
        WAM.log("regular", 3154, void 0, [1, 0, "review-modal" === e ? 1 : 2]);
      }
      function Ac(e) {
        var t;
        return null != (null == (t = e.draft) ? void 0 : t.quote);
      }
      function Ec() {
        navigator && navigator.mozPower && navigator.mozPower.reboot();
      }
      var Rc = s(118),
        Gc = s(125),
        Uc = s(5);
      s(121);
      var Dc = s(382),
        jc = {
          corrupted: ["restart"],
          corruptedAfterRestart: ["restart", "recreate"],
        },
        Bc = {
          corrupted: 201,
          corruptedAfterRestart: 201,
          clockSkew: 139,
          expiredApp: 294,
          unsupportedOS: 957,
        },
        Vc = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {
            e.setCenterLabel(796, () => {
              (0, Dc.b)(St.K, (0, Lt.E)()).then(Ec);
            });
          }
          render() {
            return (0, r.b)(2, m.k, {
              selected: this.props.selected,
              children: (0, r.b)(2, o.b, { l10n: 203 }),
            });
          }
        },
        Fc = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {
            e.setCenterLabel(811, () => {
              (0, Uc.i)(
                (0, Uc.c)([
                  Gc.a.delete(St.g),
                  Gc.a.delete(St.e),
                  Gc.a.delete(St.p),
                  Gc.a.delete(St.n),
                  Gc.a.delete(St.L),
                  Gc.a.delete(St.b),
                  Gc.a.delete(St.r),
                  null,
                  (0, Kn.f)(),
                ]).then(() => {})
              ).then(() => {
                self.location.reload(!0);
              });
            });
          }
          render() {
            return (0, r.b)(2, m.k, {
              selected: this.props.selected,
              children: (0, r.b)(2, o.b, { l10n: 202 }),
            });
          }
        },
        Wc = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.WZ = (e, t) =>
                "restart" === e
                  ? (0, r.b)(2, Vc, { selected: t })
                  : (0, r.b)(2, Fc, { selected: t })),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.errorType !== e.errorType;
          }
          addSoftKeys(e) {
            "expiredApp" === this.props.errorType && e.setRightLabel(829, vi.b),
              e.setLeftLabel(777, Rc.closeApp),
              e.setBack(Rc.closeApp);
          }
          render() {
            var e,
              t = jc[this.props.errorType],
              s = (0, r.b)(2, o.b, { l10n: Bc[this.props.errorType] });
            return (
              (e =
                null != t
                  ? (0, r.c)(
                      [
                        (0, r.f)(1, "div", "TP GG GC", s, 0),
                        (0, r.b)(2, g.a, {
                          items: t,
                          className: "TO",
                          keyOf: Kc,
                          renderItem: this.WZ,
                        }),
                      ],
                      4
                    )
                  : (0, r.f)(1, "div", "TQ GF GC", s, 0)),
              (0, r.b)(2, b.a, {
                title: (0, r.b)(2, o.b, { l10n: 22 }),
                children: e,
              })
            );
          }
        };
      function Kc(e) {
        return e;
      }
      var zc = (0, i.d)((0, h.e)(Wc), (e, t, s) => ({
          errorType: e.errorType,
        })),
        Hc = s(182),
        Jc = s(84);
      function Qc(e) {
        return null != e && !!e.fromMe && (0, Ds.f)(e.ack);
      }
      function Xc(e, t) {
        var s = t.resumedAt;
        return s.progress + ((0, Lt.F)() - s.time) / e;
      }
      var qc = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.JJ = null),
              (this.state = {
                progress: 0,
                resumedAt: { time: (0, Lt.F)(), progress: 0 },
              }),
              (this.JK = !1),
              (this.JP = () => {
                var e = Xc(this.props.duration, this.state);
                if (e >= 1) {
                  this.setState({ progress: 1 }), (this.JJ = null);
                  var t = this.props.onProgressEnd;
                  null != t && t();
                } else this.setState({ progress: e }), this.JM();
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.paused !== e.paused ||
                  s.duration !== e.duration ||
                  s.sideways !== e.sideways ||
                  s.hidden !== e.hidden ||
                  s.onProgressBegin !== e.onProgressBegin ||
                  s.onProgressEnd !== e.onProgressEnd ||
                  s.meta !== e.meta)) ||
              (r !== t &&
                (r.progress !== t.progress || r.resumedAt !== t.resumedAt))
            );
          }
          componentDidMount() {
            this.props.paused || (this.JL(), this.JM());
          }
          componentDidUpdate(e) {
            var t = this.props.paused;
            e.paused !== t && (t ? this.JN() : (this.JL(), this.JO()));
          }
          componentWillUnmount() {
            this.JN();
          }
          JL() {
            if (!this.JK) {
              this.JK = !0;
              var e = this.props.onProgressBegin;
              null != e && e();
            }
          }
          JM() {
            this.JJ = requestAnimationFrame(this.JP);
          }
          JO() {
            var e = this.props.duration;
            this.setState((e) => ({
              resumedAt: { time: (0, Lt.F)(), progress: e.progress },
            })),
              this.setState((t) => ({ progress: Xc(e, t) })),
              this.JM();
          }
          JN() {
            this.JJ && (cancelAnimationFrame(this.JJ), (this.JJ = null));
          }
          render() {
            var e = this.props,
              t = e.sideways,
              s = e.hidden,
              a = e.meta,
              i = 100 * this.state.progress + "%",
              o = Qc(a),
              l = t ? { height: i } : { width: i },
              c = (0, Oe.a)("Fd Dp", t ? "Ff" : "Fe", s && "Fj");
            return (0, r.f)(
              1,
              "div",
              c,
              (0, r.f)(
                1,
                "div",
                (0, Oe.a)("Fg", o && "Fh"),
                (0, r.f)(1, "div", "Fi", null, 1, { style: n.h(l) }),
                2
              ),
              2
            );
          }
        },
        $c = s(49);
      function Yc() {
        return (0, r.f)(1, "div", "Dy", null, 1, {
          style: n.h({ backgroundImage: "url('/icons/avatarPsa.svg'" }),
        });
      }
      function Zc(e) {
        var t = (0, xt.f)(e);
        switch (t) {
          case "NOW":
            return (0, r.b)(2, o.b, { l10n: 882 });
          case "TODAY":
            return (0, r.b)(2, o.b, { l10n: [(0, xt.i)(e, "time"), 223] });
          case "YESTERDAY":
            return (0, r.b)(2, o.b, { l10n: [(0, xt.i)(e, "time"), 224] });
          default:
            return (0, r.b)(2, o.b, { l10n: [t, 222] });
        }
      }
      var ed = n.f((e, t) => {
          var s = e.author,
            n = e.contacts,
            a = e.show,
            i = e.sideways,
            c = e.timestamp,
            h = e.withoutShadow,
            u = (function (e, t) {
              return (0, $c.m)(e, {
                user: (e) => {
                  var s = (0, d.c)(e, t);
                  return {
                    avatar: (0, r.f)(
                      1,
                      "div",
                      "Du",
                      (0, r.b)(2, ue.c, { jid: e }),
                      2
                    ),
                    name: (0, r.b)(2, F.a, { contact: s, prefer: "status" }),
                  };
                },
                me: () => ({
                  avatar: (0, r.f)(
                    1,
                    "div",
                    "Du",
                    (0, r.b)(2, ue.c, { jid: Ql.r.get() }),
                    2
                  ),
                  name: (0, r.f)(
                    1,
                    "div",
                    null,
                    (0, r.b)(2, o.b, { l10n: 862 }),
                    2
                  ),
                }),
                psa: () => ({
                  avatar: (0, r.f)(1, "div", "Dv Du", (0, r.b)(2, Yc), 2),
                  name: (0, r.f)(
                    1,
                    "div",
                    "Dw",
                    [
                      (0, r.b)(2, o.b, { l10n: 982 }),
                      (0, r.b)(2, wt.a, {
                        className: "Dx",
                        badgeSize: "small",
                      }),
                    ],
                    4
                  ),
                }),
              });
            })(s, n),
            p = u.avatar,
            v = u.name,
            f = (function (e, t) {
              return null != t ? Zc(t) : l.a;
            })(0, c);
          return (0, r.f)(
            1,
            "div",
            (0, Oe.a)("Dl", i ? "Do" : "Dn", h && "Dm"),
            [
              (0, r.f)(
                1,
                "div",
                (0, Oe.a)("Dq"),
                (0, r.b)(2, qc, {
                  meta: e.meta,
                  duration: e.duration,
                  paused: e.paused,
                  sideways: i,
                  hidden: "none" === a,
                  onProgressBegin: e.onProgressBegin,
                  onProgressEnd: e.onProgressEnd,
                }),
                2
              ),
              (0, r.f)(
                1,
                "div",
                (0, Oe.a)(
                  "Dr Dp",
                  ("none" === a || "progress" === a) && "Ds",
                  i && "Dt"
                ),
                [
                  p,
                  (0, r.f)(
                    1,
                    "div",
                    "Dz GG GC",
                    [
                      (0, r.f)(
                        1,
                        "div",
                        "EA",
                        [
                          (0, r.f)(1, "div", "EB GI GE", v, 0),
                          (0, r.f)(
                            1,
                            "div",
                            "EC",
                            (0, r.b)(2, o.b, {
                              l10n: [e.position, e.total, 208],
                            }),
                            2
                          ),
                        ],
                        4
                      ),
                      (0, r.f)(1, "div", null, f, 0),
                    ],
                    4
                  ),
                ],
                0
              ),
            ],
            4,
            null,
            null,
            t
          );
        }),
        td = s(389),
        sd = "DW",
        rd = "Df GF GC GE";
      function nd(e) {
        var t,
          s = null == (t = e.unread) ? void 0 : t.first;
        return null != s
          ? s.id
          : e.msgs.length < 1
          ? (__LOG__(4)`Trying to go through an author without any status`,
            void SEND_LOGS("status-author-without-any-status"))
          : e.msgs[0].id;
      }
      function ad() {
        return (0, r.f)(1, "div", "Dk");
      }
      var id = class extends n.a {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.IB = (0, bc.c)(c.d)),
            (this.IC = { skipPhoneNumbers: !0 }),
            e
          );
        }
        render() {
          var e = this.props.preview,
            t = (0, Hc.a)(e.text) < 3,
            s = { backgroundColor: e.hexBackgroundColor };
          return (0, r.f)(
            1,
            "div",
            t ? "Dc Db GG GC" : "Db GG GC",
            this.IB(e.text, (0, Jc.f)(e), this.IC),
            0,
            { style: n.h(s) }
          );
        }
      };
      function od(e) {
        if (null == e) return (0, r.b)(2, ad);
        switch (e.type) {
          case "text":
            return (0, r.b)(2, id, { preview: e });
          case "media":
            var t = {
              borderRadius: "50%",
              backgroundColor: e.bgColor || "#e0e0e0",
            };
            return (0, r.b)(2, mr.a, { previewId: e.previewId, style: t });
          default:
            return (0, f.a)(e.type);
        }
      }
      function ld(e, t) {
        var s = "@psa" === t.jid ? (0, r.b)(2, Yc) : od(t.preview);
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)(
            "DX",
            e && "DZ",
            "viewed" === t.section && "DY",
            "muted" === t.section && "Da"
          ),
          s,
          0
        );
      }
      var cd = class extends h.b {
        addSoftKeys(e, t) {
          var s = this.props,
            n = s.author,
            a = s.contact;
          e.setCenterLabel(797, () => {
            this.props.openAuthor(t, n.jid);
          });
          var i = (0, r.b)(2, F.a, { contact: a, prefer: "status" });
          n.muted
            ? e.setLeftLabel(955, () => {
                vd(t, n, i);
              })
            : e.setLeftLabel(99, () => {
                pd(t, n, i);
              });
        }
        render() {
          var e = this.props,
            t = e.author,
            s = e.contact,
            n = e.isSectionLast,
            a = e.selected,
            i = (0, r.b)(2, F.a, { contact: s, prefer: "status" }),
            l = t.unread.count,
            c =
              !t.muted && l > 0
                ? (0, r.b)(2, o.b, { l10n: [l, 213] })
                : (0, r.b)(2, o.b, { l10n: [t.msgs.length, 227] }),
            d = (0, r.f)(1, "span", rd, i, 0);
          return (0, r.b)(2, m.j, {
            className: sd,
            rawTitle: d,
            rawSubtitle: c,
            icon: ld(a, t),
            selected: a,
            borderBottom: !n,
            ellipsis: !0,
          });
        }
      };
      function dd(e) {
        var t = e.className;
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Dh", t),
          (0, r.b)(2, Yl, { className: "Di" }),
          2
        );
      }
      var hd = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.ID = (e) => {
                this.props.me && e.openSentStatusScreen();
              }),
              (this.IE = (e) => {
                var t = new V.a(),
                  s = this.props.sessionId;
                t.add(868, e.openScreen, "STATUS_SEND_TEXT"),
                  t.add(173, e.openScreen, "SEND_MEDIA", {
                    from: "statusTab",
                    sessionId: s,
                    jid: nr.h,
                    media: { type: "image" },
                    defaultCaption: "",
                    actionAfterSending: { type: "closeAllScreens" },
                  }),
                  t.add(174, e.openScreen, "SEND_MEDIA", {
                    from: "statusTab",
                    sessionId: s,
                    jid: nr.h,
                    media: { type: "video" },
                    defaultCaption: "",
                    actionAfterSending: { type: "closeAllScreens" },
                  }),
                  (0, y.j)(t);
              }),
              e
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.me;
            e.setLeftLabel(802, () => {
              t.openScreen("SETTINGS_PRIVACY", { start: "status" });
            }),
              s && s.msgs.length > 0
                ? (e.setCenterLabel(797, () => this.ID(t)),
                  e.setRightLabel(754, () => this.IE(t)))
                : e.setCenterLabel(754, () => this.IE(t));
          }
          render() {
            var e,
              t = this.props,
              s = t.me,
              n = t.selected;
            if (!s || s.msgs.length < 1)
              return (0, r.b)(2, m.j, {
                className: sd,
                title: 862,
                subtitle: 849,
                icon: (0, r.f)(1, "div", "Dg", (0, r.b)(2, dd), 2),
                selected: n,
                ellipsis: !0,
              });
            var a = 0,
              i = 0;
            s.msgs.forEach((e) => {
              (0, Ds.f)(e.ack) ? i++ : e.ack === Gs.a.CLOCK && a++;
            }),
              (e =
                0 === a && 0 === i
                  ? (0, r.b)(2, o.b, { l10n: [s.msgs.length, 227] })
                  : a > 0
                  ? (0, r.b)(2, o.b, { l10n: [a, 216] })
                  : (0, r.f)(
                      1,
                      "span",
                      (0, Oe.a)("Dd", n && "DZ"),
                      [
                        (0, r.b)(2, _r.a, { className: "De" }),
                        (0, r.b)(2, o.b, { l10n: [i, 217] }),
                      ],
                      4
                    ));
            var l = (0, r.f)(1, "span", rd, (0, r.b)(2, o.b, { l10n: 862 }), 2);
            return (0, r.b)(2, m.j, {
              className: sd,
              rawTitle: l,
              rawSubtitle: e,
              icon: ld(n, s),
              selected: n,
              ellipsis: !0,
            });
          }
        },
        ud = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props.psa;
            e.setCenterLabel(797, () => {
              this.props.openAuthor(t, s.jid);
            });
            var n = (0, r.b)(2, o.b, { l10n: 982 });
            s.muted
              ? e.setLeftLabel(955, () => {
                  vd(t, s, n);
                })
              : e.setLeftLabel(99, () => {
                  pd(t, s, n);
                });
          }
          render() {
            var e = this.props,
              t = e.psa,
              s = e.isSectionLast,
              n = e.selected,
              a = t.unread.count,
              i = (0, r.f)(
                1,
                "span",
                rd,
                [
                  (0, r.b)(2, o.b, { l10n: 982 }),
                  (0, r.b)(2, td.a, { className: "Dj GL" }),
                ],
                4
              ),
              l =
                a > 0
                  ? (0, r.b)(2, o.b, { l10n: [a, 213] })
                  : (0, r.b)(2, o.b, { l10n: [t.msgs.length, 227] });
            return (0, r.b)(2, m.j, {
              className: sd,
              rawTitle: i,
              rawSubtitle: l,
              icon: ld(n, t),
              selected: n,
              borderBottom: !s,
              ellipsis: !0,
            });
          }
        };
      function pd(e, t, s) {
        (0, y.f)({
          title: [s, 212],
          text: [s, 211],
          confirm: 99,
          onConfirm: () => {
            var s;
            null == (s = e.statusSession) || s.statusMuted(t),
              e.muteAuthor(t.jid);
          },
        });
      }
      function vd(e, t, s) {
        (0, y.f)({
          title: [s, 226],
          text: [s, 225],
          confirm: 955,
          onConfirm: () => {
            e.unmuteAuthor(t.jid);
          },
        });
      }
      function fd(e, t, s, r, n) {
        if (s) {
          var a = "contacts" === t.type ? 852 : [t.participants.length, 209];
          (0, y.g)({
            text: a,
            left: 802,
            onSoftLeft: () => {
              e.openScreen("SETTINGS_PRIVACY", { start: "status" });
            },
            center: r,
            onSoftCenter: () => {
              n();
            },
            close: () => {
              e.statusFirstSendDialogClosed(), (0, y.a)();
            },
          });
        } else n();
      }
      var gd = "STATUS_ITEM";
      function bd(e) {
        return e.group
          ? { jid: e.jid, chat: e.chat, group: e.group }
          : { jid: e.jid, chat: e.chat, contact: e.contact };
      }
      var md = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Of = !1),
              (this.Og = n.e()),
              (this.state = { selectedItems: new Set() }),
              (this.Oi = () => {
                var e = this.state.selectedItems,
                  t = 0;
                return (
                  e.forEach((e) => {
                    "STATUS_ITEM" !== e && t++;
                  }),
                  t
                );
              }),
              (this.Oj = (e) => {
                var t = this.state.selectedItems;
                if (!t.has(e))
                  if (
                    "STATUS_ITEM" !== e &&
                    this.Oi() >= this.props.forwardingLimit
                  )
                    this.Oh();
                  else {
                    var s = new Set(t);
                    s.add(e), this.setState({ selectedItems: s });
                  }
              }),
              (this.Ok = (e) => {
                var t = this.state.selectedItems;
                if (t.has(e)) {
                  var s = new Set(t);
                  s.delete(e), this.setState({ selectedItems: s });
                }
              }),
              (this.Ol = (e, t) =>
                (function (e, t, s) {
                  var r = (0, W.g)(e);
                  return t.filter((e) => {
                    if ("STATUS_ITEM" === e) return !1;
                    var t = s[e];
                    return t.group
                      ? (0, W.h)(t.group, r)
                      : (0, W.a)(t.contact, r);
                  });
                })(e, t, this.props.recipients)),
              (this.Om = () => {
                if (!this.Of) {
                  this.Of = !0;
                  var e = this.props,
                    t = e.onDone,
                    s = e.recipients,
                    r = !1,
                    n = [];
                  this.state.selectedItems.forEach((e) => {
                    "STATUS_ITEM" === e ? (r = !0) : n.push(bd(s[e]));
                  }),
                    t(n, r),
                    (this.Of = !1);
                }
              }),
              (this.On = (e, t, s, n) => {
                var a,
                  i,
                  o = this.state.selectedItems,
                  l = this.props,
                  c = l.recipients,
                  d = l.status,
                  h = o.has(e),
                  u =
                    "STATUS_ITEM" === e
                      ? null
                      : null == (a = c[e])
                      ? void 0
                      : a.section,
                  p = null,
                  v = n[s - 1];
                s > 0 &&
                  "STATUS_ITEM" !== v &&
                  (p = null == (i = c[v]) ? void 0 : i.section);
                var f = u !== p;
                if ("STATUS_ITEM" === e)
                  return "hide" === d.type
                    ? (__LOG__(
                        3
                      )`SelectContactOrGroup: Status item found when option was 'hide`,
                      SEND_LOGS("select-status-hide"),
                      null)
                    : (0, r.b)(2, xd, {
                        checked: h,
                        onSelect: this.Oj,
                        onUnselect: this.Ok,
                        selected: t,
                        status: d,
                      });
                var g = bd(c[e]),
                  b = (0, r.b)(2, Cd, {
                    contactOrGroup: g,
                    checked: h,
                    onSelect: this.Oj,
                    onUnselect: this.Ok,
                    selected: t,
                  });
                return f && null != u
                  ? (0, r.c)(
                      [(0, r.b)(2, m.g, { text: "chat" === u ? 297 : 567 }), b],
                      0
                    )
                  : b;
              }),
              e
            );
          }
          Oh() {
            (0, y.e)({ title: 229, text: [this.props.forwardingLimit, 79] });
          }
          addSoftKeys(e) {
            this.state.selectedItems.size > 0 &&
              e.setRightLabel(this.props.done || 772, this.Om);
          }
          render() {
            var e = this.props.items,
              t =
                0 === e.length ? void 0 : { filter: this.Ol, emptyLabel: 296 };
            return (0, r.b)(2, b.a, {
              title: this.props.renderTitle(this.Oi()),
              children: (0, r.b)(
                2,
                g.c,
                {
                  items: e,
                  keyOf: Id,
                  search: t,
                  estimatedItemHeight: 60,
                  emptyLabel: 295,
                  renderItem: this.On,
                  deps: [this.state.selectedItems],
                },
                null,
                this.Og
              ),
            });
          }
        },
        Sd = (0, bc.e)(function (e, t, s, r, n) {
          var a,
            i = {},
            o = "hide" !== r.type ? [gd] : [],
            l = [];
          return (
            e.forEach((e) => {
              var r = "chat",
                a = t[e];
              if ("ONE_TO_ONE" === a.type) {
                var c = (0, vc.a)((0, d.c)(a.jid, s), n);
                if ("tos-not-accepted" === c || "country-disabled" === c)
                  return;
                o.push(a.jid),
                  (i[a.jid] = {
                    jid: a.jid,
                    chat: a,
                    contact: (0, d.c)(a.jid, s),
                    section: r,
                  });
              } else
                a.type,
                  (0, Pt.d)(a)
                    ? ((r = "readonlygroup"), l.push(a.jid))
                    : o.push(a.jid),
                  (i[a.jid] = {
                    jid: a.jid,
                    chat: a,
                    group: a.groupInfo,
                    section: r,
                  });
            }),
            (0, F.k)(s).forEach((e) => {
              var t = (0, vc.a)(e, n);
              "tos-not-accepted" !== t &&
                "country-disabled" !== t &&
                e &&
                null == e.chatId &&
                (null == a && (a = e.jid),
                (i[e.jid] = {
                  jid: e.jid,
                  chat: null,
                  contact: e,
                  section: "contact",
                }),
                o.push(e.jid));
            }),
            o.push(...l),
            { items: o, recipients: i }
          );
        }),
        yd = (0, i.f)(
          (0, h.e)(md),
          (e, t) => {
            var s = t.done,
              r = t.onDone,
              n = t.status,
              a = t.forwardingLimit,
              i = t.renderTitle,
              o = e.contacts,
              l = e.serverProps,
              c = e.connected,
              d = e.tosAccepted,
              h = e.chatlist;
            return {
              chats: h.chats,
              contacts: o,
              done: s,
              onDone: r,
              forwardingLimit: a,
              orderedChatIds: h.orderedChatIds,
              serverProps: l,
              connected: c,
              renderTitle: i,
              status: n,
              tosAccepted: d,
            };
          },
          (e, t) => {
            var s = e.status,
              r = e.chats,
              n = e.contacts,
              a = e.done,
              i = e.onDone,
              o = e.forwardingLimit,
              l = e.orderedChatIds,
              c = e.serverProps,
              d = e.connected,
              h = e.renderTitle,
              u = e.tosAccepted,
              p = c.multicastLimitGlobal,
              v = null == o ? p : Math.min(o, p),
              f = Sd(l, r, n, s, u),
              g = f.items;
            return {
              recipients: f.recipients,
              items: g,
              forwardingLimit: v,
              done: a,
              onDone: i,
              backend: t,
              connected: d,
              renderTitle: h,
              status: s,
            };
          }
        ),
        kd = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contactOrGroup,
              n = s.checked,
              a = s.onSelect,
              i = s.onUnselect,
              o = s.tosAccepted,
              l = r.jid,
              c = this.maybeGetBlockedContact(r),
              d = r.group ? (0, Pt.d)(r.chat) : (0, vc.a)(r.contact, o);
            c
              ? e.setCenterLabel(832, () => {
                  this.openUnblockDialog(c, t);
                })
              : d ||
                (n
                  ? e.setCenterLabel(804, () => {
                      i(l);
                    })
                  : e.setCenterLabel(754, () => {
                      a(l);
                    }));
          }
          openUnblockDialog(e, t) {
            var s = this.props.connected;
            s
              ? (0, y.f)(
                  (0, B.b)({
                    contact: e,
                    unblock: () => {
                      s
                        ? t.unblockUser(e.jid)
                        : (0, y.e)({ title: 229, text: 948 });
                    },
                  })
                )
              : (0, y.e)({ title: 229, text: 948 });
          }
          maybeGetBlockedContact(e) {
            return e.contact && this.props.blocked[e.jid] ? e.contact : null;
          }
          render() {
            var e,
              t = this.props,
              s = t.contactOrGroup,
              n = t.checked,
              a = t.selected,
              i = t.tosAccepted,
              o = s.group ? (0, Pt.d)(s.chat) : (0, vc.a)(s.contact, i);
            return (
              this.maybeGetBlockedContact(s)
                ? (e = 951)
                : o &&
                  ("only-admins" === o
                    ? (e = 555)
                    : "support-closed" === o
                    ? (e = 444)
                    : "not-participant" === o
                    ? (e = 556)
                    : __LOG__(
                        4
                      )`ContactOrGroupItemClass: tried to render a read only chat with ${o}`),
              (0, r.b)(2, m.m, {
                contactOrGroup: s,
                disabled: !!o,
                selected: a,
                checked: n,
                subtitle: e,
              })
            );
          }
        },
        Cd = (0, i.c)(kd, (e, t, s) => ({
          contactOrGroup: s.contactOrGroup,
          onSelect: s.onSelect,
          onUnselect: s.onUnselect,
          checked: s.checked,
          selected: s.selected,
          connected: e.connected,
          contacts: e.contacts,
          blocked: e.blocked,
          tosAccepted: e.tosAccepted,
        })),
        wd = class extends h.b {
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings(),
              super.componentDidMount();
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.checked,
              n = s.onSelect,
              a = s.onUnselect,
              i = s.status,
              o = s.settings,
              l = s.showDialogOnFirstSend;
            if (o)
              switch (
                (e.setLeftLabel(802, () => {
                  t.openScreen("SETTINGS_PRIVACY", { start: "status" });
                }),
                i.type)
              ) {
                case "allow":
                  r
                    ? e.setCenterLabel(804, () => {
                        a(gd);
                      })
                    : e.setCenterLabel(754, () => {
                        fd(t, o, l, 754, () => {
                          n(gd);
                        });
                      });
                  break;
                case "disable":
                  var c = i.alert;
                  c &&
                    e.setCenterLabel(781, () => {
                      (0, y.e)(c);
                    });
                  break;
                default:
                  i.type;
              }
          }
          render() {
            var e,
              t = this.props,
              s = t.checked,
              n = t.selected,
              a = t.status,
              i = t.settings,
              l =
                null != i
                  ? (0, r.b)(2, o.b, {
                      l10n: null != (e = a.subtitle) ? e : (0, Jc.h)(i),
                    })
                  : (0, r.b)(2, o.b, { l10n: 788 });
            return (0, r.b)(2, m.j, {
              className: "KV",
              title: 862,
              rawSubtitle: l,
              icon: (0, r.b)(2, dd),
              selected: n,
              disabled: null == i || "disable" === a.type,
              rightComponent: (0, r.b)(2, j.a, {
                checked: s,
                selected: n,
                className: "KW",
              }),
            });
          }
        },
        xd = (0, i.c)(wd, (e, t, s) => ({
          selected: s.selected,
          onSelect: s.onSelect,
          onUnselect: s.onUnselect,
          checked: s.checked,
          status: s.status,
          settings: e.status.settings,
          showDialogOnFirstSend: e.status.showDialogOnFirstSend,
          backend: t,
        }));
      function Id(e) {
        return String(e);
      }
      var Ld = class extends n.b {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.WX = (e, t) => {
              var s = this.props,
                r = s.backend,
                n = s.msgs,
                a = (0, Lt.E)();
              if (!t && n.some((e) => null != e.validUntil && e.validUntil < a))
                (0, y.e)({
                  title: 229,
                  text: 270,
                  onClose: () => {
                    r.goBack();
                  },
                });
              else {
                var i = e.map((e) => e.jid),
                  o = n.map((e) => e.id);
                r.forwardMsgs(o, i, t), r.maybeRedirectAfterSharing(i, t);
              }
            }),
            (this.WY = (e) =>
              0 === e
                ? (0, r.b)(2, o.b, { l10n: 298 })
                : (0, r.b)(2, o.b, { l10n: [e, 80] })),
            e
          );
        }
        componentDidMount() {
          this.WW();
        }
        componentDidUpdate() {
          this.WW();
        }
        WW() {
          for (
            var e = this.props,
              t = e.msgs,
              s = e.serverProps,
              r = e.backend,
              n = (0, se.g)(),
              a = 0;
            a < t.length;
            a++
          ) {
            var i = t[a];
            if ((i.content.size || -1) > n * U.b) {
              (0, y.e)({ title: 229, text: [n, 157], onClose: r.goBack });
              break;
            }
            if (
              (("vcard" === i.content.type && i.content.isMMS) ||
                ("document" === i.content.type && i.content.isVCard)) &&
              i.content.size > s.vcardMaxSizeKb * U.a
            ) {
              var o =
                "vcard" === i.content.type
                  ? i.content.total
                  : i.content.pages || 0;
              (0, y.e)({ text: [o, 251], onClose: r.goBack });
              break;
            }
          }
        }
        render() {
          var e = this.props,
            t = e.includesFrequentlyForwarded,
            s = e.serverProps,
            n = e.msgs,
            a = s.frequentlyForwardedMax,
            i = s.frequentlyForwardedMessages && t ? a : null,
            o = (function (e, t) {
              for (var s, r, n, a, i = 0; i < e.length; i++) {
                var o = e[i];
                if ((0, Gs.s)(o.id)) {
                  r = !0;
                  break;
                }
                if ("video" === o.content.type || "gif" === o.content.type)
                  n = n || _d(t, o.content.duration);
                else if ("text" === o.content.type) a = a || Nd(o.content.text);
                else if ("image" === o.content.type);
                else {
                  if ("rich_hsm" !== o.content.type) {
                    s = !0;
                    break;
                  }
                  var l = o.content.richContent;
                  l
                    ? "video" === l.type
                      ? (n = n || _d(t, l.duration))
                      : "image" === l.type ||
                        (l.type, (a = a || o.content.content))
                    : (a =
                        a || Nd((0, gc.b)(o.content.title, o.content.content)));
                }
              }
              return s || r
                ? { type: "hide" }
                : n
                ? { type: "disable", subtitle: [t.statusVideoMaxDuration, 229] }
                : a
                ? { type: "allow", subtitle: [St.P, 221] }
                : { type: "allow" };
            })(n, s);
          return (0, r.b)(2, yd, {
            renderTitle: this.WY,
            done: 823,
            onDone: this.WX,
            forwardingLimit: i,
            status: o,
          });
        }
      };
      function _d(e, t) {
        return (t || 0) > e.statusVideoMaxDuration;
      }
      function Nd(e) {
        return (0, Jc.m)(e) > St.P;
      }
      var Md = (0, i.c)(Ld, (e, t, s) => {
          var r = e.serverProps;
          return {
            msgs: s.msgs,
            includesFrequentlyForwarded: s.includesFrequentlyForwarded,
            serverProps: r,
            backend: t,
          };
        }),
        Od = class extends h.a {
          addSoftKeys(e) {
            e.setFull(788);
          }
          render() {
            return (0, r.b)(2, b.a, {
              children: (0, r.f)(
                1,
                "div",
                (0, Oe.a)("QP", this.props.className),
                (0, r.b)(2, lr.a),
                2
              ),
            });
          }
        },
        Td = s(280),
        Pd = s(498),
        Ad = s(392),
        Ed = "Re",
        Rd = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.UU = !1),
              (this.UV = !1),
              (this.pick = (e) => {
                this.setState((t) => ({ picked: new Set(t.picked).add(e) }));
              }),
              (this.unpick = (e) => {
                this.setState((t) => {
                  var s = new Set(t.picked);
                  return s.delete(e), { picked: s };
                });
              }),
              (this.unpickAll = () => {
                this.setState((e) => ({ picked: new Set() }));
              }),
              (this.pickAll = () => {
                var e = this.props,
                  t = e.backend,
                  s = e.useCase;
                "storageSetting" === s.type &&
                  !0 !== this.UV &&
                  ((this.UV = !0),
                  this.setState({
                    pickedLoading: !0,
                    selection: { type: "loader" },
                    selectionBackup: this.state.selection,
                  }),
                  t
                    .sendAndReceive("backend", "getAllMediaMsgIds", {
                      filter: s.filter,
                    })
                    .then((e) => {
                      if (this.UU && this.UV) {
                        this.UV = !1;
                        var t = new Set(e);
                        this.setState((e) => {
                          var s;
                          return {
                            picked: t,
                            pickedLoading: !1,
                            maxPickedSize: t.size,
                            selection:
                              null != (s = e.selectionBackup) ? s : e.selection,
                          };
                        });
                      }
                    }));
              }),
              (this.Ub = (e) => {
                var t;
                null != e &&
                  ("previousRow" === this.state.direction
                    ? (t = "start")
                    : "nextRow" === this.state.direction && (t = "end"),
                  t && (0, ht.e)(e, { block: t, behavior: "smooth" }));
              }),
              (this.fillLastRow = (e) => {
                var t =
                  (this.props.medias.length - e) % this.UT.options.rowLength;
                t > 0 && this.UZ(t);
              }),
              (this.moveUp = () => {
                var e;
                if ("loader" === this.state.selection.type) {
                  if (0 === this.props.medias.length) return;
                  e = {
                    index: this.props.medias.length - 1,
                    direction: "previousRow",
                  };
                } else e = this.UT.previousRow(this.state.selection.index);
                this.UY(e);
              }),
              (this.moveDown = () => {
                "loader" !== this.state.selection.type &&
                  this.UY(this.UT.nextRow(this.state.selection.index));
              }),
              (this.moveLeft = () => {
                "loader" !== this.state.selection.type &&
                  this.UY(this.UT.defaultLeft(this.state.selection.index));
              }),
              (this.moveRight = () => {
                "loader" !== this.state.selection.type &&
                  this.UY(this.UT.defaultRight(this.state.selection.index));
              }),
              (this.Uc = () =>
                0 === this.props.medias.length && !this.props.loading),
              (this.Ud = () =>
                this.props.deleting.length > 0 ||
                this.props.revoking.length > 0),
              (this.Ue = () => {
                var e,
                  t = this.state.selection;
                if ("loader" !== t.type) {
                  var s = this.props,
                    r = s.backend,
                    n = s.useCase,
                    a = s.medias,
                    i = {
                      chatId: null == (e = n.chat) ? void 0 : e.id,
                      medias: a,
                      selectIndex: t.index,
                      onPrevMedia: this.moveLeft,
                      onNextMedia: this.moveRight,
                    };
                  r.openScreen(
                    "storageSetting" === n.type
                      ? "GALLERY_MEDIA_FOR_STORAGE_SETTING"
                      : "GALLERY_MEDIA",
                    i
                  );
                }
              }),
              (this.UT = new ot({
                length: e.medias.length,
                rowLength: lt(),
                onReachEnd: () => {
                  this.UW() &&
                    this.setState({
                      selection: { type: "loader" },
                      direction: "nextRow",
                    });
                },
              })),
              (this.state = {
                selection: { type: "loader" },
                direction: "nextRow",
                picked: new Set(),
                pickedLoading: !1,
                maxPickedSize: 0,
                selectionBackup: null,
              });
          }
          componentDidMount() {
            (this.UU = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UU = !1), super.componentWillUnmount();
          }
          componentDidUpdate(e, t) {
            var s, r;
            if (
              (this.props.medias.length !== this.UT.options.length &&
                this.UT.update({ length: this.props.medias.length }),
              this.props.medias.length < e.medias.length)
            ) {
              var n = this.state.selection;
              if (this.props.medias.length > 0 && "media" === n.type) {
                var a = this.props.medias.findIndex(
                    (e) => e.msg.id === n.msgId
                  ),
                  i = this.state.direction;
                a < 0 &&
                  ((a = this.UX(n.index, e)) < n.index
                    ? (i = "previousRow")
                    : a > n.index && (i = "nextRow")),
                  this.UY({ index: a, direction: i }, !0);
              }
              var o = this.props.medias.length % this.UT.options.length;
              o > 0 && this.UZ(o);
            }
            if (
              "loader" === this.state.selection.type &&
              null == (null == (s = this.props.loading) ? void 0 : s.older) &&
              null != (null == (r = e.loading) ? void 0 : r.older)
            ) {
              if (0 === this.props.medias.length)
                return void super.componentDidUpdate(e, t);
              var l,
                c = e.medias.length;
              l =
                0 === c
                  ? 0
                  : this.props.medias.length > c
                  ? c
                  : this.props.medias.length - 1;
              var d = this.props.medias[l];
              if (null == d)
                return (
                  __LOG__(4)`Failed to select a valid media item`,
                  void super.componentDidUpdate(e, t)
                );
              this.setState(
                {
                  selection: { type: "media", index: l, msgId: d.msg.id },
                  maxPickedSize: Math.max(
                    this.state.maxPickedSize,
                    this.props.medias.length
                  ),
                },
                () => {
                  this.Ua(l, !0);
                }
              );
            }
            super.componentDidUpdate(e, t);
          }
          UY(e, t) {
            if (null != e) {
              var s = this.props.medias[e.index];
              if (null == s)
                return void __LOG__(4)`Failed to move to media as intended`;
              this.setState(
                {
                  selection: { type: "media", msgId: s.msg.id, index: e.index },
                  direction: e.direction,
                },
                () => {
                  this.Ua(e.index, !0 === t);
                }
              );
            }
          }
          Ua(e, t) {
            this.props.backend.dispatch({
              type: "GALLERY_SYNC",
              selectIndex: e,
              medias: t ? this.props.medias : void 0,
            });
          }
          UX(e, t) {
            for (
              var s = 0, r = 0, n = e, a = 0, i = this.props.medias.length;
              a < i;

            ) {
              var o = a + r,
                l = this.props.medias[a],
                c = t.medias[o];
              if (l.msg.id !== c.msg.id) r++;
              else {
                var d = Math.abs(e - o);
                if (d > n) break;
                (n = d), (s = a), a++;
              }
            }
            return s;
          }
          UZ(e) {
            if (this.props.allLoaded || this.props.loading) return !1;
            var t = this.props,
              s = t.medias,
              r = t.useCase,
              n = t.backend,
              a = s[0],
              i = s[s.length - 1];
            if (null == a || null == i) return !1;
            var o = i.msg.id;
            if ("storageSetting" === r.type)
              return (
                n.loadStorageSettingMediaMsgs({
                  filter: r.filter,
                  limit: e,
                  fromMsgId: o,
                }),
                !0
              );
            r.type;
            var l = r.chat.id;
            return (
              n.loadChatMediaMsgs({ chatId: l, limit: e, fromMsgId: o }), !0
            );
          }
          UW() {
            var e = this.props.medias.length % this.UT.options.rowLength;
            return this.UZ(St.C + e);
          }
          addSoftKeys(e, t) {
            this.Uc() || this.Ud()
              ? e.setLeftAsBack()
              : this.state.pickedLoading
              ? e.setLeftLabel(761, () => {
                  (this.UV = !1),
                    this.setState((e) => {
                      var t;
                      return {
                        pickedLoading: !1,
                        selection:
                          null != (t = e.selectionBackup) ? t : e.selection,
                      };
                    });
                })
              : (e.setUpDownArrows(this.moveUp, this.moveDown),
                e.setLeftRightArrows(this.moveLeft, this.moveRight));
          }
          renderMedia(e, t, s, n) {
            var a = this.state.selection,
              i = this.state.picked,
              o = "media" === a.type && a.msgId === e.msg.id,
              l = "loader" === a.type ? this.props.medias.length - 1 : a.index,
              c = Math.abs(l - t) > 2 * St.C;
            return (0, r.b)(
              2,
              Fd,
              {
                innerRef: o ? this.Ub : null,
                selected: o,
                farAway: c,
                cellWidth: n,
                openMedia: this.Ue,
                mediaItem: e,
                useCase: this.props.useCase,
                picked: i,
                isPicked: i.has(e.msg.id),
                pick: () => this.pick(e.msg.id),
                unpick: () => this.unpick(e.msg.id),
                unpickAll: this.unpickAll,
                pickAll: this.pickAll,
                mediaItemsMap: this.props.mediaItemsMap,
                fillLastRow: this.fillLastRow,
                maxPickedSize: this.state.maxPickedSize,
              },
              e.msg.id
            );
          }
          renderMedias() {
            var e = this.props.useCase.chat,
              t = (function (e) {
                switch (e) {
                  case 2:
                    return 119;
                  case 3:
                    return 106;
                  default:
                    return;
                }
              })(this.UT.options.rowLength);
            return this.props.medias.map((s, r) =>
              this.renderMedia(s, r, e, t)
            );
          }
          renderLoader() {
            var e,
              t = "loader" === this.state.selection.type;
            return null == (null == (e = this.props.loading) ? void 0 : e.older)
              ? null
              : (0, r.f)(
                  1,
                  "div",
                  "Rf",
                  (0, r.b)(2, lr.a),
                  2,
                  null,
                  null,
                  t ? this.Ub : null
                );
          }
          renderChatTitle(e) {
            var t;
            if ("ONE_TO_ONE" === e.type) {
              var s = (0, d.c)(e.jid, this.props.contacts);
              t = (0, wt.d)(s);
            } else e.type, (t = (0, c.b)(e.groupInfo.title));
            return (0, r.f)(1, "div", "RV", t, 0);
          }
          renderPageTitle() {
            var e = this.props.useCase;
            if ("mediaDrawer" === e.type)
              return (0, r.b)(2, o.b, { l10n: 500 });
            if ((e.type, "largeFiles" === e.filter.type))
              return (0, r.b)(2, o.b, { l10n: [St.t, 151] });
            var t = e.chat;
            return null != t
              ? this.renderChatTitle(t)
              : (0, r.b)(2, o.b, { l10n: 500 });
          }
          render() {
            return this.Uc()
              ? (0, r.b)(2, Ud)
              : this.Ud()
              ? (0, r.b)(2, Dd)
              : (0, r.c)(
                  [
                    (0, r.b)(2, b.a, {
                      title: this.renderPageTitle(),
                      children: (0, r.f)(
                        1,
                        "div",
                        (0, Oe.a)("RW", dt(this.UT.options.rowLength)),
                        [this.renderMedias(), this.renderLoader()],
                        0
                      ),
                    }),
                    this.state.pickedLoading
                      ? (0, r.f)(1, "div", "Rx", (0, r.b)(2, bs.a), 2)
                      : null,
                  ],
                  0
                );
          }
        };
      function Gd(e) {
        return (0, r.b)(2, b.a, {
          title: (0, r.b)(2, o.b, { l10n: 500 }),
          children: (0, r.f)(1, "div", "Rq", e.children, 0),
        });
      }
      function Ud() {
        return (0, r.b)(2, Gd, { children: (0, r.b)(2, o.b, { l10n: 496 }) });
      }
      function Dd() {
        return (0, r.b)(2, Gd, { children: (0, r.b)(2, lr.a) });
      }
      var jd = (0, bc.a)((e) => (0, U.t)(e, (e) => e.msg.id)),
        Bd = (0, i.c)((0, h.e)(Rd), (e, t, s) => {
          var r = e.contacts,
            n = jd(s.medias);
          return Object.assign({}, s, {
            mediaItemsMap: n,
            backend: t,
            contacts: r,
          });
        });
      function Vd() {
        return (0, r.f)(1, "div", "Ro", (0, r.b)(2, Ad.a), 2);
      }
      function Fd(e) {
        var t = e.innerRef,
          s = e.selected,
          n = e.isPicked,
          a = e.farAway,
          i = e.mediaItem,
          o = e.cellWidth,
          l = e.openMedia,
          c = e.useCase,
          d = e.pickAll,
          h = e.pick,
          u = e.unpick,
          p = e.picked,
          v = e.unpickAll,
          g = e.mediaItemsMap,
          b = e.fillLastRow,
          m = e.maxPickedSize,
          S = i.msg.starred,
          y = null;
        if ("failure" === i.type)
          y = i.msg.content.preview
            ? (0, r.b)(2, Kd, { selected: s, preview: i.msg.content.preview })
            : (0, r.b)(2, Kd, { selected: s });
        else {
          var k = i.content,
            C = null,
            w = 801;
          switch (k.type) {
            case "voice":
              C = (0, r.b)(2, Qd, { selected: s, content: k, msg: i.msg });
              break;
            case "image":
              (C = (0, r.b)(2, Jd, {
                selected: s,
                content: k,
                msg: i.msg,
                parentWidth: o,
              })),
                (w = 833);
              break;
            case "video":
              C = (0, r.b)(2, Xd, { selected: s, content: k, msg: i.msg });
              break;
            case "gif":
              C = (0, r.b)(2, qd, { selected: s, content: k, msg: i.msg });
              break;
            default:
              (0, f.a)(k.type);
          }
          var x = {
            openMedia: l,
            viewLabel: w,
            selected: s,
            pick: h,
            unpick: u,
            isPicked: n,
            mediaItem: i,
            unpickAll: v,
            picked: p,
          };
          y =
            "storageSetting" === c.type
              ? (0, r.i)(
                  (0, r.b)(
                    2,
                    Hd,
                    Object.assign({}, x, {
                      size: k.size,
                      pickAll: d,
                      maxPickedSize: m,
                      children: C,
                    })
                  )
                )
              : (0, r.i)(
                  (0, r.b)(
                    2,
                    zd,
                    Object.assign({}, x, {
                      chat: c.chat,
                      mediaItemsMap: g,
                      fillLastRow: b,
                      children: C,
                    })
                  )
                );
        }
        var I =
          S && "mediaDrawer" === c.type
            ? (function (e, t) {
                var s = (0, r.b)(2, $s, { className: "Rs QI" });
                return e ? s : (0, r.f)(1, "div", (0, Oe.a)("Rr QL", !1), s, 0);
              })(n)
            : null;
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("RX", s && "Rh", a && "Rp"),
          [y, n ? (0, r.b)(2, Vd) : null, I, null, (0, r.f)(1, "div", "Rg")],
          0,
          null,
          null,
          t
        );
      }
      function Wd(e, t) {
        (0, y.g)({
          title: [t.length, 43],
          text: [t.length, 42],
          left: 761,
          onSoftLeft: "CLOSE",
          center: 769,
          onSoftCenter: () => {
            e.deleteMsgsFromStorageSetting(t);
          },
        });
      }
      var Kd = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(781, () => {
              (0, y.e)({ title: 229, text: 497 });
            });
          }
          render() {
            var e = this.props.preview,
              t = e ? (0, r.b)(2, mr.f, { previewId: e, className: Ed }) : null;
            return (0, r.f)(
              1,
              "div",
              "RZ RY",
              [
                t,
                (0, r.f)(
                  1,
                  "div",
                  "Rl",
                  (0, r.b)(2, li.a, { className: "Ri" }),
                  2
                ),
              ],
              0
            );
          }
        },
        zd = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.isPicked,
              n = s.pick,
              a = s.unpick,
              i = s.viewLabel,
              o = s.openMedia,
              l = s.chat,
              c = s.mediaItem,
              d = s.picked,
              h = s.unpickAll,
              u = s.mediaItemsMap,
              p = s.fillLastRow;
            e.setCenterLabel(i, o),
              r ? e.setLeftLabel(770, a) : e.setLeftLabel(818, n),
              e.setRightOptions(() => {
                var e = (function (e, t, s, r, n, a, i) {
                  for (
                    var o = 0 === r.size ? [s.msg.id] : Array.from(r),
                      l = [],
                      c = [],
                      d = [],
                      h = e.isStarredIndexMissing(),
                      u = new V.a(566),
                      p = [],
                      v = 0,
                      f = !1,
                      g = !0,
                      b = 0,
                      m = o.length;
                    b < m;
                    ++b
                  ) {
                    var k = o[b],
                      C = a.get(k);
                    if (null != C) {
                      l.push(k);
                      var w = C.msg;
                      "success" === C.type &&
                        (p.push(w),
                        Vs(w.forwarded) && (f = !0),
                        Fs(w.forwarded) && v++),
                        (g = g && Hs(w)),
                        h || (w.starred ? d.push(k) : c.push(k));
                    }
                  }
                  if (
                    (p.length === l.length &&
                      (function (e, t, s, r, n) {
                        var a = { msgs: s, includesFrequentlyForwarded: r };
                        if (0 === n)
                          e.add(565, t.openScreen, "FORWARD_SCREEN", a);
                        else {
                          var i = 1 === s.length && 1 === n ? 289 : 553;
                          e.add(184, () =>
                            (0, y.g)({
                              title: 565,
                              text: i,
                              left: 761,
                              onSoftLeft: "CLOSE",
                              center: 796,
                              onSoftCenter: () => {
                                t.openScreen("FORWARD_SCREEN", a);
                              },
                              right: 785,
                              onSoftRight: () => {
                                (0, S.y)(t, S.i);
                              },
                            })
                          );
                        }
                      })(u, e, p, f, v),
                    null != t)
                  ) {
                    var x = c.length > 0,
                      I = d.length > 0,
                      L = d.length === l.length;
                    x
                      ? u.add(188, () => {
                          n(), e.starMessagesFromChat(c, t.id);
                        })
                      : L &&
                        I &&
                        u.add(190, () => {
                          n(), e.unstarMessagesFromChat(d, t.id);
                        });
                  }
                  return (
                    (function (e, t, s, r, n, a) {
                      var i = new V.a(183);
                      i.add(224, t.deleteChatMsgs, n.id, r),
                        s &&
                          i.add(
                            223,
                            (e, s) => {
                              t.revokeChatMsgs(e, s), a(s.length);
                            },
                            n.jid,
                            r
                          ),
                        e.childMenu(i);
                    })(u, e, g, l, t, i),
                    u.add(485, () => {
                      (0, Ne.c)(e, (0, Gs.w)(s.msg.id), s.msg.id);
                    }),
                    u
                  );
                })(t, l, c, d, h, u, p);
                (0, y.j)(e);
              });
          }
          render() {
            return this.props.children;
          }
        },
        Hd = class extends h.b {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.maxPickedSize,
              n = s.pickAll,
              a = s.unpickAll,
              i = s.isPicked,
              o = s.picked,
              l = s.pick,
              c = s.unpick,
              d = s.viewLabel,
              h = s.openMedia;
            o.size > 1
              ? o.size < r
                ? e.setLeftLabel(820, n)
                : e.setLeftLabel(822, a)
              : e.setLeftLabel(d, h),
              i ? e.setCenterLabel(770, c) : e.setCenterLabel(818, l),
              e.setRightLabel(769, () => {
                var e = this.props,
                  s = e.picked,
                  r = e.mediaItem,
                  n = 0 === this.props.picked.size ? [r.msg.id] : Array.from(s);
                Wd(t, n);
              });
          }
          render() {
            var e,
              t = this.props,
              s = t.children,
              n =
                ((e = t.size),
                (0, r.b)(2, Le.a, {
                  className: "Rw",
                  size: e,
                  highPrecision: !0,
                }));
            return (0, r.c)([n, s], 0);
          }
        };
      function Jd(e) {
        var t = e.content,
          s = e.msg,
          n = e.parentWidth;
        return (0, r.f)(
          1,
          "div",
          "Rb RY",
          (0, r.b)(2, Ur, {
            msgId: s.id,
            content: t,
            parentWidth: n,
            className: Ed,
          }),
          2
        );
      }
      function Qd(e) {
        var t = e.content.duration;
        return (0, r.f)(
          1,
          "div",
          "Ra RY",
          [
            (0, r.b)(2, wn.a, { className: "Rj" }),
            (0, r.f)(1, "div", "Rm Rk", (0, xt.b)(t), 0),
          ],
          4
        );
      }
      function Xd(e) {
        var t = e.content,
          s = null != t.duration ? zr(t.duration) : null,
          n =
            null == t.preview
              ? null
              : (0, r.b)(2, mr.f, {
                  previewId: t.preview,
                  className: Ed,
                  bgColor: t.bg,
                });
        return (0, r.f)(1, "div", "Rd RY", [n, s], 0);
      }
      function qd(e) {
        var t = e.content,
          s =
            null == t.preview
              ? null
              : (0, r.b)(2, mr.f, {
                  previewId: t.preview,
                  className: Ed,
                  bgColor: t.bg,
                });
        return (0, r.f)(
          1,
          "div",
          "Rc RY",
          [s, (0, r.f)(1, "div", "Rn Rk", (0, r.b)(2, ur.a), 2)],
          0
        );
      }
      var $d = (e) => {
        var t = e.className;
        return (0, r.f)(
          32,
          "svg",
          t,
          (0, r.f)(32, "path", null, null, 1, {
            d:
              "M61.5 15v43m-8-33v27m23-25v18m-7-10v18m14-18v4m14-4v4m-7-7v10m14-15v19m7-14v10m7-6v3m-72-8v12m-7-7v2m-7-2v2m-7-7v12m-15-12v12m-8-6v4m16-15v22",
          }),
          2,
          { viewBox: "0 0 121 60" }
        );
      };
      function Yd(e, t, s) {
        var r = (0, Gs.r)(s);
        null != r &&
          (e.setLeftLabel(485, () => (0, Ne.c)(t, (0, Gs.w)(r), r)),
          e.setRightLabel(769, () => Wd(t, [r])));
      }
      var Zd = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Xg = null),
              (this.Xh = null),
              (this.Xj = (e) => {
                this.Xg = e;
              }),
              (this.Xk = () => {
                var e = this.Xg;
                if (e) {
                  var t = new re(
                    e,
                    (e) => {
                      this.setState(e);
                    },
                    { width: D.n, height: D.l }
                  );
                  (this.Xh = t), (this.Xf = (0, Dr.b)(this.props.content));
                }
                this.setState({ initialized: !0 });
              }),
              (this.Xl = () => {
                var e = this.Xh;
                null != e &&
                  (e.isAtMinScale() && (0, ht.d)(document.documentElement),
                  e.in());
              }),
              (this.Xm = () => {
                var e = this.Xh;
                null != e && (e.out(), e.isAtMinScale() && this.Xi());
              }),
              (this.Xn = (e) => {
                var t = this.state,
                  s = t.initialized,
                  a = t.scale,
                  i = t.x,
                  o = t.y,
                  l = this.props.content,
                  c = this.Xf,
                  d = c.width,
                  h = c.height,
                  u = { width: d + "px", height: h + "px" },
                  p = { transform: `scale(${a}) translate(${i}px,${o}px)` };
                return (0, r.b)(2, mr.g, {
                  width: d,
                  height: h,
                  parentWidth: d,
                  bgColor: l.bg,
                  previewId: l.preview,
                  style: u,
                  isReady: s,
                  overflow: "visible",
                  children: (0, r.f)(
                    1,
                    "img",
                    "Vs",
                    null,
                    1,
                    { src: e, style: n.h(p), onLoad: this.Xk },
                    null,
                    this.Xj
                  ),
                });
              }),
              (this.Xf = (0, Dr.b)(e.content)),
              (this.state = { initialized: !1, scale: 1, x: 0, y: 0 });
          }
          componentWillUnmount() {
            this.Xi(), super.componentWillUnmount();
          }
          Xi() {
            (0, ht.c)() && (0, ht.a)();
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.isStorageSetting,
              n = s.commonMsgId;
            if (
              (r && Yd(e, t, n),
              "ready" === this.props.content.mediaStatus.type)
            ) {
              var a = this.Xh;
              if (null != a)
                if (a.isAtMinScale()) {
                  var i = this.props,
                    o = i.onPrevMedia,
                    l = i.onNextMedia;
                  e.setLeftRightArrows(o, l), r || e.setLeftLabel(836, this.Xl);
                } else
                  e.setUpDownArrows(a.up, a.down),
                    e.setLeftRightArrows(a.left, a.right),
                    e.setLeftLabel(838, this.Xm),
                    a.isAtMaxScale() || e.setRightLabel(837, a.in);
            } else e.setFull(788);
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.commonMsgId,
              n = this.Xf.width;
            return (0, r.b)(2, Ur, {
              msgId: s,
              content: t,
              parentWidth: n,
              render: this.Xn,
            });
          }
        },
        eh = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Xq = () => {
                this.Xo.setPlaying(!0);
              }),
              (this.pause = () => {
                this.Xo.setPlaying(!1);
              }),
              (this.Xr = () => {
                this.props.commonMsgId, this.Xo.setPlaying(!1);
              }),
              (this.Xs = () => {
                navigator.volumeManager.requestUp();
              }),
              (this.Xt = () => {
                navigator.volumeManager.requestDown();
              }),
              (this.Xu = () => {
                this.Xo.seekToward("backward");
              }),
              (this.Xv = () => {
                this.Xo.seekToward("forward");
              }),
              (this.Xw = () => {
                this.Xo.seekToward("rewind");
              });
            var s = e.autoplay;
            this.state = { currentTime: 0, paused: !s };
            var r = new Tl.a(this);
            r.enableWarnIfMuted(), r.setPlaying(s), (this.Xo = r);
          }
          handleCanPlay() {
            var e = this.Xo.getDuration();
            null != e && (this.Xp = e);
          }
          handlePlay() {
            this.setState({ paused: !1 });
          }
          handlePause() {
            this.setState({ paused: !0 });
          }
          handleTimeUpdate(e) {
            this.setState({ currentTime: e });
          }
          handleEnded() {
            var e = this.Xo.current;
            null != e
              ? this.setState({ paused: !0, currentTime: e.currentTime })
              : this.setState({ paused: !0 });
          }
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.isStorageSetting,
              n = s.commonMsgId;
            if (
              (r && Yd(e, t, n),
              e.setLeftRightArrows(this.Xu, this.Xv),
              e.setUpDownArrows(this.Xs, this.Xt),
              this.state.paused)
            ) {
              var a = this.props,
                i = a.onPrevMedia,
                o = a.onNextMedia;
              e.setLeftRightArrows(i, o), e.setCenterLabel(801, this.Xq);
            } else
              e.setCenterLabel(798, this.pause), e.setLeftLabel(814, this.Xw);
            e.setBack(() => {
              this.Xr(), t.goBack();
            });
          }
          render() {
            var e = this.props.uri;
            if (!e) return (0, r.b)(2, Od);
            var t = this.state,
              s = t.currentTime,
              n = t.paused,
              a = this.Xp > 0 ? s / this.Xp : 0;
            return (0, r.f)(
              1,
              "div",
              null,
              [
                (0, r.f)(
                  1,
                  "audio",
                  null,
                  null,
                  1,
                  { src: e, preload: "metadata" },
                  null,
                  this.Xo.ref
                ),
                (0, r.f)(
                  1,
                  "div",
                  "Vy",
                  [
                    (0, r.b)(2, $d, { className: "WA" }),
                    (0, r.b)(2, Ul, { className: "Vz" }),
                  ],
                  4
                ),
                (0, r.f)(
                  1,
                  "div",
                  "Vv",
                  [
                    (0, r.f)(
                      1,
                      "div",
                      "Vx",
                      n
                        ? (0, r.b)(2, wr.a, { className: "Vw" })
                        : (0, r.b)(2, Cn, { className: "Vw" }),
                      0
                    ),
                    (0, r.b)(2, yn, {
                      progress: a,
                      duration: s,
                      kind: "audio",
                      gallery: !0,
                    }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        th = (0, Td.c)({
          getContentRef(e) {
            var t = e.content.mediaStatus;
            return "ready" === t.type ? t.ref : null;
          },
          getId: (e) => e.commonMsgId,
          render: (e, t) =>
            (0, r.i)((0, r.b)(2, eh, Object.assign({}, e, { uri: t }))),
        }),
        sh = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Xp = 0),
              (this.Xx = null),
              (this.Xq = () => {
                this.Xo.setPlaying(!0);
              }),
              (this.pause = () => {
                this.YA(), this.Xo.setPlaying(!1);
              }),
              (this.Xs = () => {
                navigator.volumeManager.requestUp();
              }),
              (this.Xt = () => {
                navigator.volumeManager.requestDown();
              }),
              (this.Xu = () => {
                this.YA(), this.Xo.seekToward("backward");
              }),
              (this.Xv = () => {
                this.YA(), this.Xo.seekToward("forward");
              }),
              (this.Xw = () => {
                this.YA(), this.Xo.seekToward("rewind");
              });
            var s = e.autoplay,
              r = this.Xy();
            (this.state = {
              currentTime: 0,
              paused: !r && !s,
              showProgressBar: !1,
            }),
              this.Xz(e),
              (this.Xo = new Tl.a(this));
          }
          componentWillUnmount() {
            this.Xx && clearTimeout(this.Xx),
              this.Xi(),
              super.componentWillUnmount();
          }
          Xi() {
            (0, ht.c)() && (0, ht.a)();
          }
          Xz(e) {
            var t = e.content.rotation,
              s = 90 === t || 270 === t;
            this.Xf = (0, Dr.b)(e.content, s ? "swapDimensions" : void 0);
          }
          handleCanPlay() {
            var e = this.Xo.getDuration();
            if (null != e) {
              (this.Xp = e), this.Xz(this.props);
              var t = this.Xy(),
                s = this.props.autoplay;
              this.Xo.setPlaying(t || s), this.YA();
            }
          }
          handlePlay() {
            (0, ht.d)(document.documentElement), this.setState({ paused: !1 });
          }
          handlePause() {
            this.Xi(), this.setState({ paused: !0 });
          }
          handleTimeUpdate(e) {
            if (!this.Xy()) {
              var t = this.state,
                s = t.showProgressBar,
                r = t.paused;
              (s || r) && this.setState({ currentTime: e });
            }
          }
          handleEnded() {
            var e = this.Xo.current;
            null != e
              ? this.setState({ paused: !0, currentTime: e.currentTime })
              : this.setState({ paused: !0 }),
              this.Xi();
          }
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          Xy() {
            return "gif" === this.props.content.type;
          }
          YB(e) {
            var t = this.state.paused;
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Vt", e && "Vu", !t && "WB"),
              (0, r.b)(2, wr.a),
              2
            );
          }
          YC(e) {
            var t = this.state,
              s = t.showProgressBar,
              n = t.currentTime,
              a = t.paused,
              i = !s && !a,
              o = this.Xp > 0 ? n / this.Xp : 0;
            return (0, r.b)(2, Pd.a, {
              withSoftkeys: !0,
              progress: o,
              hidden: i,
              playSideways: e,
            });
          }
          YA() {
            this.Xx && clearTimeout(this.Xx),
              this.setState((e) => {
                var t = this.Xo.current;
                return t
                  ? { showProgressBar: !0, currentTime: t.currentTime }
                  : { showProgressBar: !0 };
              }),
              (this.Xx = setTimeout(() => {
                this.setState({ showProgressBar: !1 });
              }, 1e3));
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.commonMsgId;
            if ((s.isStorageSetting ? Yd(e, t, r) : e.hide(), this.Xy())) {
              var n = this.props,
                a = n.onPrevMedia,
                i = n.onNextMedia;
              e.setLeftRightArrows(a, i);
            } else {
              if (this.state.paused) {
                var o = this.props,
                  l = o.onPrevMedia,
                  c = o.onNextMedia;
                e.setCenterLabel(801, this.Xq), e.setLeftRightArrows(l, c);
              } else
                e.setCenterLabel(798, this.pause),
                  e.setLeftRightArrows(this.Xu, this.Xv);
              e.setUpDownArrows(this.Xt, this.Xs);
            }
          }
          render() {
            var e = this.props,
              t = e.uri;
            if (!t) return (0, r.b)(2, Od);
            var s = e.content,
              a = e.muted,
              i = this.Xy(),
              o = !i,
              l = this.Xf,
              c = l.shouldBeSideways,
              d = s.rotation || 0;
            c && (d += 90), (d %= 360);
            var h = {
              width: (c ? l.widthSideway : l.width) + "px",
              height: (c ? l.heightSideway : l.height) + "px",
              transform: 0 !== d ? `rotate(${d}deg)` : void 0,
            };
            return (0, r.f)(
              1,
              "div",
              null,
              [
                (0, r.f)(
                  1,
                  "video",
                  null,
                  null,
                  1,
                  {
                    src: t + "#t=0.01",
                    muted: a || i,
                    loop: i,
                    style: n.h(h),
                    preload: "metadata",
                  },
                  null,
                  this.Xo.ref
                ),
                o ? this.YB(c) : null,
                o ? this.YC(c) : null,
              ],
              0
            );
          }
        },
        rh = (0, Td.c)({
          getContentRef(e) {
            var t = e.content.mediaStatus;
            return "ready" === t.type ? t.ref : null;
          },
          getId: (e) => e.commonMsgId,
          render: (e, t) =>
            (0, r.i)((0, r.b)(2, sh, Object.assign({}, e, { uri: t }))),
        }),
        nh = class extends h.a {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.onPrevMedia,
              n = s.onNextMedia;
            e.setLeftRightArrows(r, n), e.setCenterLabel(765, () => t.goBack());
          }
          render() {
            return (0, r.c)(
              [
                (0, r.b)(2, _r.a, { className: "WC" }),
                (0, r.b)(2, o.b, { l10n: 497, className: "WD" }),
              ],
              4
            );
          }
        },
        ah = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.XF = !0),
              (this.XG = () => {
                this.props.loading ||
                  ((this.XF = !1), this.props.onPrevMedia());
              }),
              (this.XH = () => {
                this.props.loading ||
                  ((this.XF = !1), this.props.onNextMedia());
              }),
              e
            );
          }
          render() {
            var e = this.props,
              t = e.loading,
              s = e.isStorageSetting;
            if (t) return (0, r.b)(2, Od);
            var n = this.props,
              a = n.backend,
              i = null,
              o = n.medias[n.selectIndex];
            "failure" === o.type &&
              (i = (0, r.b)(2, nh, {
                onPrevMedia: this.XG,
                onNextMedia: this.XH,
              }));
            var l = o.msg;
            if ("image" === l.content.type)
              i = (0, r.b)(2, Zd, {
                commonMsgId: l.id,
                content: l.content,
                isStorageSetting: s,
                onPrevMedia: this.XG,
                onNextMedia: this.XH,
              });
            else if ("gif" === l.content.type)
              i = (0, r.b)(2, rh, {
                commonMsgId: l.id,
                backend: a,
                content: l.content,
                muted: !0,
                autoplay: !0,
                isStorageSetting: s,
                onPrevMedia: this.XG,
                onNextMedia: this.XH,
              });
            else if ("video" === l.content.type)
              i = (0, r.b)(2, rh, {
                commonMsgId: l.id,
                backend: a,
                content: l.content,
                muted: !1,
                autoplay: this.XF,
                isStorageSetting: s,
                onPrevMedia: this.XG,
                onNextMedia: this.XH,
              });
            else {
              if ("voice" !== l.content.type || l.content.isPtt)
                return __LOG__(3)`Opening an unsupported media!`, null;
              i = (0, r.b)(2, th, {
                commonMsgId: l.id,
                backend: a,
                content: l.content,
                autoplay: this.XF,
                isStorageSetting: s,
                onPrevMedia: this.XG,
                onNextMedia: this.XH,
              });
            }
            return (0, r.b)(2, b.a, {
              children: (0, r.f)(1, "div", "Tz", i, 0),
            });
          }
        },
        ih = (0, i.b)((0, h.e)(ah, { fullscreen: !0 }), (e, t) =>
          Object.assign({}, t, { isStorageSetting: !1, backend: e })
        ),
        oh = (0, i.b)((0, h.e)(ah, { fullscreen: !1 }), (e, t) =>
          Object.assign({}, t, { isStorageSetting: !0, backend: e })
        ),
        lh = "Ua GG GC",
        ch = "Uc GF GC GI GE",
        dh = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Wa = (e, t) => {
                switch (e) {
                  case "description":
                    return (0, r.b)(2, ph, { selected: t });
                  case "geolocationSetting":
                    return (0, r.b)(2, vh, { selected: t });
                  case "permissionSetting":
                    return (0, r.b)(2, fh, { selected: t });
                  default:
                    return null;
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.locationEnabled !== e.locationEnabled ||
                s.whatsappLocationEnabled !== e.whatsappLocationEnabled)
            );
          }
          render() {
            var e = this.props,
              t = e.locationEnabled,
              s = e.whatsappLocationEnabled,
              n = ["description"];
            return (
              t || n.push("geolocationSetting"),
              s || n.push("permissionSetting"),
              (0, r.b)(2, b.a, {
                title: (0, r.b)(2, o.b, { l10n: 747 }),
                children: (0, r.b)(2, g.a, {
                  items: n,
                  className: "UY",
                  keyOf: uh,
                  renderItem: this.Wa,
                }),
              })
            );
          }
        },
        hh = (0, h.e)(dh);
      function uh(e) {
        return e;
      }
      var ph = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys() {}
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("Ue GG GC", this.props.selected && "Ug"),
              (0, r.b)(2, o.b, { l10n: 482 }),
              2
            );
          }
        },
        vh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {
            e.setCenterLabel(797, A.h);
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("UZ", this.props.selected && "Uf"),
              [
                (0, r.f)(
                  1,
                  "div",
                  "Ub",
                  [
                    (0, r.b)(2, o.b, { l10n: 332, className: ch }),
                    (0, r.b)(2, o.b, { l10n: 331, className: lh }),
                  ],
                  4
                ),
                (0, r.b)(2, C.a, { className: "Ud" }),
              ],
              4
            );
          }
        },
        fh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {
            e.setCenterLabel(797, A.i);
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("UZ", this.props.selected && "Uf"),
              [
                (0, r.f)(
                  1,
                  "div",
                  "Ub",
                  [
                    (0, r.b)(2, o.b, { l10n: 330, className: ch }),
                    (0, r.b)(2, o.b, { l10n: 329, className: lh }),
                  ],
                  4
                ),
                (0, r.b)(2, C.a, { className: "Ud" }),
              ],
              4
            );
          }
        },
        gh = s(475),
        bh = s(122),
        mh = s(479);
      function Sh(e) {
        return null == e
          ? Promise.resolve(null)
          : (0, gh.cropAndResizeProfilePicture)(e).catch(
              (0, bh.a)(mh.a, () => {
                (0, y.e)({ title: 229, text: 694 });
              })
            );
      }
      function yh(e, t, s, r) {
        if ("@me" !== s) {
          var n = (0, d.c)(s, t.contacts);
          r.setCenterLabel(180, () => (0, Ne.a)(e, s, "newest"));
          var a = (function (e, t, s, r) {
            var n = t.chat,
              a = t.contacts,
              i = t.admins,
              o = t.superadmins,
              l = new V.a(),
              h = s.jid;
            return (
              (0, d.k)(s) ||
                l.add(19, () => {
                  (0, Vt.a)(e, { tel: (0, mt.d)(h) }, h);
                }),
              l.add(null == s.verifiedInfo ? 127 : 126, () => {
                (0, Vn.a)(e, h);
              }),
              r &&
                (l.add(623, () => {
                  (function (e, t, s) {
                    if (t.superadmins[s])
                      (0, y.e)({
                        title: 229,
                        text: [(0, F.e)(t.contacts, s), 103],
                      });
                    else {
                      if (!t.connected)
                        return void (0, y.e)({ title: 229, text: 628 });
                      (0, y.f)({
                        title: 623,
                        text: [
                          (0, c.b)(t.chat.groupInfo.title),
                          (0, F.e)(t.contacts, s),
                          102,
                        ],
                        confirm: 379,
                        onConfirm: () => {
                          e.removeGroupParticipants(
                            t.chat.jid,
                            [s],
                            t.contacts
                          );
                        },
                        onCancel: "CLOSE",
                      });
                    }
                  })(e, t, h);
                }),
                i[h] || o[h]
                  ? l.add(369, () => {
                      (function (e, t, s) {
                        t.superadmins[s]
                          ? (0, y.e)({
                              title: 229,
                              text: [(0, F.e)(t.contacts, s), 98],
                            })
                          : e.demoteGroupParticipants(
                              t.chat.jid,
                              [s],
                              t.contacts
                            );
                      })(e, t, h);
                    })
                  : l.add(378, () => {
                      e.promoteGroupParticipants(n.jid, [h], a);
                    })),
              l
            );
          })(e, t, n, t.chat.groupInfo.isAdmin);
          a.isEmpty() ||
            r.setRightOptions(() => {
              (0, y.j)(a);
            });
        }
      }
      function kh(e) {
        var t =
            "@me" === e.userJid
              ? { jid: "@me" }
              : (0, d.c)(e.userJid, e.contacts),
          s = "@me" === e.userJid ? null : (0, F.g)(e.contacts, e.userJid);
        return (0, r.b)(2, m.f, {
          contact: t,
          selected: e.selected,
          rawSubtitle:
            null == s
              ? null
              : (0, r.f)(1, "span", null, (0, c.b)("~" + s), 0, {
                  dir: "auto",
                }),
          rightComponent: e.admin
            ? (0, r.b)(2, o.b, {
                l10n: 358,
                className: (0, Oe.a)("Up", e.selected && "Uq"),
              })
            : null,
        });
      }
      var Ch = s(93),
        wh = s(388),
        xh = "VU GG GC",
        Ih = "VV",
        Lh = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "m15.105 9.326.889-.89 3.778 3.779-3.778 3.778-.89-.889 2.223-2.222H9.252v-1.334h8.075zm-9.483 8.742h6.741c.741 0 1.334-.593 1.334-1.334v-1.037h-1.334v1.037H5.622V7.622h6.741v1.037h1.334V7.622c0-.741-.593-1.334-1.334-1.334H5.622c-.741 0-1.334.593-1.334 1.334v9.186c0 .667.593 1.26 1.334 1.26z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        _h = s(505),
        Nh = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "m15.64 12.74 6.2 3.58c.72-1.67.1-3.62-1.51-4.55a3.582 3.582 0 00-4.69.97zm4.39-3.13c.2.07.2.11.21.08l2.28-3.94a1.501 1.501 0 012.6 1.5l-2.28 3.94c-.03.04-.05.09-.08.13 1.57 1.74 1.9 4.33.77 6.49 0 .07.01.12-.02.17l-2.34 8.61c-.04.2-.17.35-.36.43s-.41.06-.58-.04l-2.51-1.46 1.35-6.12-2.96 5.2-8.79-5.08a.677.677 0 01-.32-.49c0-.19.04-.39.19-.53l6.29-6.33c.03-.06.08-.07.14-.11a5.737 5.737 0 016.03-2.57s.29.09.38.12z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        Mh = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M8.1 13.5h7.8v-1.9H8.1v1.9zm-4.9-.9c0-2.1 1.6-3.7 3.7-3.7h3.6V7.2H6.9c-2.9 0-5.4 2.4-5.4 5.4 0 2.9 2.4 5.3 5.4 5.3h3.6v-1.7H6.9c-2.1 0-3.7-1.6-3.7-3.6zm13.9-5.4h-3.5v1.7h3.5c2.1 0 3.7 1.6 3.7 3.7s-1.6 3.7-3.7 3.7h-3.5V18h3.5c2.9 0 5.3-2.4 5.3-5.3.1-3.1-2.4-5.5-5.3-5.5z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        Oh = s(185);
      function Th(e) {
        return "object" == typeof e.communityInfo && !!e.communityInfo.default;
      }
      function Ph(e) {
        return e.isInGroup && (!e.locked || e.isAdmin);
      }
      function Ah(e) {
        return !Th(e) && Ph(e);
      }
      var Eh = Ah;
      function Rh(e) {
        return Th(e) ? e.isInGroup && e.isAdmin : Ph(e);
      }
      var Gh = class extends n.a {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.WO = !1),
            (this.WP = (e) => {
              var t = this.props.chat;
              e.openScreen("MEDIA_EDITOR", {
                fit: "cover",
                tools: { hasCircleCrop: !0, hasRotation: !0 },
                onComplete: (s) => {
                  this.WO &&
                    s &&
                    Sh(s).then((s) => {
                      this.WO &&
                        s &&
                        (Ah(this.props.chat.groupInfo)
                          ? e.setGroupPicture(t.jid, s)
                          : (0, y.e)({ title: 229, text: 360 }));
                    });
                },
              });
            }),
            (this.WQ = (e) => {
              e.openScreen("GROUP_INFO_CHANGE_DESCRIPTION", {
                chat: this.props.chat,
              });
            }),
            (this.WR = (e) => {
              var t = {
                title: 389,
                left: 758,
                onSoftLeft: "CLOSE",
                onBack: "CLOSE",
                center: void 0,
                right: void 0,
                onSoftRight: void 0,
              };
              !(0, ut.f)(this.props.descriptionJob) &&
                Rh(this.props.chat.groupInfo) &&
                ((t.right = 774),
                (t.onSoftRight = () => {
                  e.openScreen("GROUP_INFO_CHANGE_DESCRIPTION", {
                    chat: this.props.chat,
                  });
                }));
              var s = this.WS(),
                n = s.description,
                a = s.status;
              (0, y.h)(t, (0, r.b)(2, Jh, { description: n, status: a }));
            }),
            (this.WU = () => {
              var e = this.props.chat,
                t = this.WT().subject;
              return (0, r.f)(
                1,
                "div",
                "VI",
                (0, wt.c)(
                  { title: t, support: e.groupInfo.support },
                  { badgeSize: "small" }
                ),
                0
              );
            }),
            (this.WV = (e, t) => {
              var s = null,
                n = this.props,
                a = n.isInGroup,
                i = n.items,
                o = n.chat,
                l = n.contacts,
                c = n.connected,
                d = n.descriptionJob,
                h = n.subjectJob,
                u = n.setGroupPictureJob,
                p = n.hasGroupPicture,
                v = n.nActiveInvites,
                f = n.user,
                g = n.participants,
                b = n.participantsDivider,
                S = n.isVoipAvailable;
              switch (e) {
                case "photo":
                  s = (0, r.b)(2, Bh, {
                    jid: o.jid,
                    selected: t,
                    chat: o,
                    setGroupPictureJob: u,
                    hasGroupPicture: p,
                    handlePhotoChange: this.WP,
                  });
                  break;
                case "subject":
                  var y = this.WT(),
                    k = y.subject,
                    C = y.status;
                  s = (0, r.b)(2, Vh, {
                    value: k,
                    status: C,
                    selected: t,
                    chat: o,
                    subjectJob: h,
                  });
                  break;
                case "description":
                  var w = this.WS(),
                    x = w.description,
                    I = w.status;
                  s = (0, r.b)(2, Kh, {
                    value: x,
                    status: I,
                    selected: t,
                    user: f,
                    contacts: l,
                    chat: o,
                    descriptionJob: d,
                    viewDescription: this.WR,
                    changeDescription: this.WQ,
                  });
                  break;
                case "media":
                  s = (0, r.b)(2, Qh, { chat: o, selected: t });
                  break;
                case "starredMessages":
                  s = (0, r.b)(2, Qt, {
                    chat: o,
                    selected: t,
                    featureType: "star",
                  });
                  break;
                case "keptMessages":
                  s = (0, r.b)(2, Qt, {
                    chat: o,
                    selected: t,
                    featureType: "keep",
                  });
                  break;
                case "muteNotify":
                  s = (0, r.b)(2, Mt, { selected: t, chat: o });
                  break;
                case "groupSettings":
                  s = (0, r.b)(2, Xh, { chat: o, selected: t });
                  break;
                case "ephemeralMessages":
                  var L = this.props.setEphemeralJob;
                  s = (0, r.b)(2, Wt.d, { chat: o, selected: t, job: L });
                  break;
                case "encryption":
                  s = o.groupInfo.support
                    ? (0, r.b)(2, $h, { selected: t, isVoipAvailable: S })
                    : (0, r.b)(2, qh, { selected: t, isVoipAvailable: S });
                  break;
                case "actionAdd":
                  s = (0, r.b)(2, eu, { chat: o, selected: t });
                  break;
                case "inviteLink":
                  s = (0, r.b)(2, tu, { chat: o, selected: t });
                  break;
                case "you":
                  s = (0, r.b)(2, kh, {
                    contacts: l,
                    userJid: nr.a,
                    selected: t,
                    admin: o.groupInfo.isAdmin,
                  });
                  break;
                case "participantsMore":
                  s = (0, r.b)(2, Yh, {
                    chat: o,
                    selected: t,
                    isInGroup: a,
                    numParticipants: g.length,
                  });
                  break;
                case "invitationsMore":
                  s = (0, r.c)(
                    [
                      (0, r.b)(2, m.g),
                      (0, r.b)(2, Zh, {
                        chat: o,
                        selected: t,
                        nActiveInvites: v,
                      }),
                    ],
                    4
                  );
                  break;
                case "actionClear":
                  s = (0, r.c)(
                    [
                      (0, r.b)(2, m.g, { text: 153 }),
                      (0, r.b)(2, su, { chat: o, selected: t }),
                    ],
                    4
                  );
                  break;
                case "actionExit":
                  s = (0, r.b)(2, ru, { chat: o, selected: t, connected: c });
                  break;
                case "actionDelete":
                  s = (0, r.c)(
                    [
                      (0, r.b)(2, m.g, { text: 153 }),
                      (0, r.b)(2, nu, { chat: o, selected: t }),
                    ],
                    4
                  );
                  break;
                case "actionSpam":
                  s = (0, r.b)(2, au, { chat: o, connected: c, selected: t });
                  break;
                case "wallpaper":
                  s = (0, r.b)(2, et, { chat: o, selected: t });
                  break;
                default:
                  s = (0, r.b)(2, iu, {
                    groupInfoProps: this.props,
                    participant: e,
                    selected: t,
                  });
              }
              if (!a && e === i[0])
                return (0, r.c)(
                  [
                    (0, r.b)(2, m.g, {
                      className: "Vb",
                      text: o.groupInfo.support ? 447 : 375,
                    }),
                    s,
                  ],
                  0
                );
              if (b === e) {
                var _ = a ? 1 : 0,
                  N = g.length + _;
                return (0, r.c)([(0, r.b)(2, m.g, { text: [N, 101] }), s], 0);
              }
              return s;
            }),
            e
          );
        }
        componentDidMount() {
          this.WO = !0;
        }
        componentWillUnmount() {
          this.WO = !1;
        }
        WS() {
          var e, t, s;
          return (
            (0, ut.f)(this.props.descriptionJob)
              ? ((e =
                  null == (s = (0, ut.c)(this.props.descriptionJob))
                    ? void 0
                    : s.description),
                (t = "pending"))
              : ((e = this.props.chat.groupInfo.description),
                Wh(this.props.descriptionJob) && (t = "error")),
            { description: e, status: t }
          );
        }
        WT() {
          var e, t, s;
          if ((0, ut.f)(this.props.subjectJob))
            return (
              (e =
                null == (s = (0, ut.c)(this.props.subjectJob))
                  ? void 0
                  : s.subject) || (e = this.props.chat.groupInfo.title),
              { subject: e, status: (t = "pending") }
            );
          var r = (0, ut.d)(this.props.subjectJob);
          return (
            r && "success" !== r && (t = "error"),
            { subject: (e = this.props.chat.groupInfo.title), status: t }
          );
        }
        render() {
          var e = this.props,
            t = e.items,
            s = e.start;
          return (0, r.b)(2, b.a, {
            title: this.WU(),
            children: (0, r.b)(2, g.c, {
              items: t,
              keyOf: jh,
              estimatedItemHeight: 20,
              renderItem: this.WV,
              start: s && { item: s, scrollFromTop: "start" },
            }),
          });
        }
      };
      function Uh(e) {
        return e.reduce((e, t) => ((e[String(t)] = !0), e), {});
      }
      var Dh = (0, i.f)(
        (0, h.e)(Gh),
        (e, t) => {
          var s = t.chat.jid,
            r = Ct.g.setGroupDescription({ groupJid: s }),
            n = (0, ut.g)(e, "setGroupDescription", r),
            a = Ct.g.setGroupSubject({ groupJid: s }),
            i = (0, ut.g)(e, "setGroupSubject", a),
            o = Ct.g.setGroupPicture({ jid: s }),
            l = (0, ut.g)(e, "setGroupPicture", o),
            c = Ct.g.setGroupEphemeralSetting({
              groupJid: s,
              expiration: t.chat.groupInfo.expiration,
            }),
            d = (0, ut.g)(e, "setGroupEphemeralSetting", c);
          return {
            contacts: e.contacts,
            user: e.user,
            chat: t.chat,
            hasGroupPicture: (0, se.i)(t.chat.jid, e.avatars),
            connected: e.connected,
            descriptionJob: n,
            subjectJob: i,
            setGroupPictureJob: l,
            setEphemeralJob: d,
            starredIndexMissing: !!e.starredIndexMissing,
            start: t.start,
            isVoipAvailable: e.isVoipAvailable,
          };
        },
        (e, t) => {
          var s = e.contacts,
            r = e.user,
            n = e.chat,
            a = e.hasGroupPicture,
            i = e.connected,
            o = e.descriptionJob,
            l = e.subjectJob,
            c = e.setGroupPictureJob,
            h = e.setEphemeralJob,
            u = e.start,
            p = e.isVoipAvailable,
            v = n.groupInfo,
            f = v.isInGroup,
            g = n.groupInfo.participants
              .map((e) => (0, d.c)(e, s))
              .sort((0, F.c)(v))
              .map((e) => e.jid),
            b = v.invitations.filter((e) => (0, Lt.p)(e.expiration)).length,
            m = (function (e, t, s, r) {
              var n,
                a = r.starredIndexMissing,
                i = r.contacts,
                o = r.user,
                l = e.groupInfo,
                c = l.isInGroup,
                d = [];
              d.push("photo"),
                d.push("subject"),
                (null != l.descriptionId || Rh(l)) && d.push("description"),
                d.push("media");
              var h = e.msgInfo.starredMsgCount;
              h && h > 0 && !a && d.push("starredMessages"),
                c
                  ? (d.push("muteNotify"),
                    d.push("wallpaper"),
                    d.push("encryption"),
                    (0, Tt.a)(e, i) && d.push("ephemeralMessages"),
                    l.isAdmin
                      ? (d.push("groupSettings"),
                        s > 0 && d.push("invitationsMore"),
                        d.push("actionAdd"),
                        d.push("inviteLink"),
                        (n = "actionAdd"))
                      : (n = "you"),
                    d.push("you"))
                  : (d.push("wallpaper"), (n = t.length > 0 ? t[0] : null));
              var u = c ? 1 : 0;
              return (
                t.length + u > St.z
                  ? (d = d.concat(t.slice(0, St.z - u))).push(
                      "participantsMore"
                    )
                  : (d = d.concat(t)),
                c
                  ? (d.push("actionClear"), d.push("actionExit"))
                  : d.push("actionDelete"),
                l.creatorJid !== o.jid && d.push("actionSpam"),
                { items: d, participantsDivider: n }
              );
            })(n, g, b, e),
            S = m.items,
            y = m.participantsDivider;
          return (
            b !== v.invitations.length &&
              (function (e, t) {
                e.fireAndForget("backend", "purgeExpiredInvitations", {
                  groupJid: t,
                });
              })(t, n.jid),
            {
              user: r,
              contacts: s,
              admins: Uh(v.admins),
              superadmins: Uh(v.superadmins),
              chat: n,
              items: S,
              participantsDivider: y,
              participants: g,
              invitations: v.invitations,
              isInGroup: f,
              hasGroupPicture: a,
              nActiveInvites: b,
              connected: i,
              descriptionJob: o,
              subjectJob: l,
              setGroupPictureJob: c,
              setEphemeralJob: h,
              start: u,
              isVoipAvailable: p,
            }
          );
        }
      );
      function jh(e) {
        return e;
      }
      var Bh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.jid !== e.jid ||
                s.selected !== e.selected ||
                s.setGroupPictureJob !== e.setGroupPictureJob ||
                s.hasGroupPicture !== e.hasGroupPicture ||
                s.chat !== e.chat ||
                s.handlePhotoChange !== e.handlePhotoChange)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.chat,
              n = s.hasGroupPicture,
              a = s.setGroupPictureJob;
            if (!(0, ut.f)(a)) {
              var i = (0, ut.d)(a);
              null == i
                ? (Ah(r.groupInfo) &&
                    e.setRightOptions(() => {
                      this.openPhotoContext(t);
                    }),
                  n &&
                    r.groupInfo.isInGroup &&
                    e.setCenterLabel(833, () => {
                      t.openAvatarView(r.jid);
                    }))
                : e.setCenterLabel(781, () => {
                    this.showGroupPictureErrorDialog(i, t);
                  });
            }
          }
          render() {
            var e,
              t = this.props,
              s = t.jid,
              n = t.selected,
              a = t.setGroupPictureJob,
              i = (0, ut.f)(a),
              o = null != (0, ut.d)(a);
            return (
              (e =
                a && (i || o)
                  ? null == a.jobIn.picture
                    ? (0, r.b)(2, Fh, {
                        isPending: i,
                        isError: o,
                        children: (0, r.b)(2, wh.a, {
                          className: (0, Oe.a)("VK", "VL"),
                        }),
                      })
                    : (0, r.b)(2, Fh, {
                        isPending: i,
                        isError: o,
                        children: (0, r.b)(2, te.b, {
                          blob: a.jobIn.picture,
                          className: "VK",
                        }),
                      })
                  : (0, r.b)(2, ue.c, { jid: s, type: "thumb" })),
              (0, r.b)(2, m.k, {
                selected: n,
                className: (0, Oe.a)("VH", !n && "VJ"),
                children: e,
              })
            );
          }
          showGroupPictureErrorDialog(e, t) {
            var s,
              r = this.props.setGroupPictureJob,
              n = e.error.reason;
            switch (n) {
              case "bad-size-or-format":
                s = 418;
                break;
              case "bad-request":
              case "not-in-group":
              case "server-error":
              case "unknown":
                s = 419;
                break;
              default:
                return (0, f.a)(n);
            }
            (0, y.f)({
              title: 229,
              text: s,
              confirm: 796,
              onConfirm: () => {
                (0, Oh.b)(t, r);
              },
            });
          }
          openPhotoContext(e) {
            var t = new V.a(),
              s = this.props,
              r = s.chat,
              n = s.hasGroupPicture,
              a = s.handlePhotoChange;
            n && t.add(381, e.setGroupPicture, r.jid, null),
              t.add(368, () => a(e)),
              (0, y.j)(t);
          }
        },
        Vh = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.changeSubject = (e) => {
                e.openScreen("GROUP_INFO_CHANGE_SUBJECT", {
                  chat: this.props.chat,
                });
              }),
              (this.showSubjectJobErrorInfo = (e, t) => {
                if (e.error) {
                  var s,
                    r = e.error.reason;
                  switch (r) {
                    case "not-authorized":
                      s = 428;
                      break;
                    case "not-in-group":
                      s = 429;
                      break;
                    case "no-such-group":
                      s = 427;
                      break;
                    case "not-acceptable":
                    case "unknown":
                      s = 426;
                      break;
                    default:
                      return (0, f.a)(r);
                  }
                  (0, y.e)({
                    title: 229,
                    text: s,
                    onClose: () => (0, Oh.b)(t, this.props.subjectJob),
                  });
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.value !== e.value ||
                s.status !== e.status ||
                s.selected !== e.selected ||
                s.subjectJob !== e.subjectJob ||
                s.chat !== e.chat)
            );
          }
          addSoftKeys(e, t) {
            if (
              (0, ut.f)(this.props.subjectJob) ||
              !Eh(this.props.chat.groupInfo)
            ) {
              var s = (0, ut.d)(this.props.subjectJob);
              s &&
                "success" !== s &&
                e.setCenterLabel(229, () => {
                  this.showSubjectJobErrorInfo(s, t);
                });
            } else
              e.setCenterLabel(774, () => {
                this.changeSubject(t);
              });
          }
          render() {
            var e = this.props,
              t = e.status,
              s = e.selected,
              n = e.value,
              a = e.chat,
              i = (0, r.b)(2, zh, { status: t, selected: s }),
              o = (0, wt.c)(
                { title: n, support: a.groupInfo.support },
                { noEllipsis: "no-ellipsis" }
              );
            return (0, r.b)(2, m.a, {
              rawTitle: o,
              selected: s,
              rightComponent: i,
            });
          }
        };
      function Fh(e) {
        var t;
        return (
          e.isPending
            ? (t = (0, r.b)(2, Cr.a, {
                theme: "white",
                strokeWidth: 8,
                className: "VP VO",
              }))
            : e.isError &&
              (t = (0, r.f)(
                1,
                "div",
                "VQ",
                (0, r.b)(2, li.a, { className: "VR" }),
                2
              )),
          (0, r.f)(
            1,
            "div",
            "VM",
            [e.children, t && (0, r.f)(1, "div", "VN GJ", t, 0)],
            0
          )
        );
      }
      function Wh(e) {
        var t = (0, ut.d)(e);
        return t && "success" !== t ? t : void 0;
      }
      var Kh = class extends h.b {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.showDescriptionJobErrorInfo = (e, t) => {
              var s;
              switch (e) {
                case "conflict":
                  s = 348;
                  break;
                case "not-authorized":
                  s = 349;
                  break;
                case "not-acceptable":
                case "internal-server-error":
                case "unknown-error":
                  s = 228;
                  break;
                default:
                  return (0, f.a)(e);
              }
              (0, y.e)({
                title: 229,
                text: s,
                onClose: () => (0, Oh.b)(t, this.props.descriptionJob),
              });
            }),
            e
          );
        }
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.value !== e.value ||
              s.status !== e.status ||
              s.selected !== e.selected ||
              s.user !== e.user ||
              s.contacts !== e.contacts ||
              s.chat !== e.chat ||
              s.viewDescription !== e.viewDescription ||
              s.descriptionJob !== e.descriptionJob ||
              s.changeDescription !== e.changeDescription)
          );
        }
        addSoftKeys(e, t) {
          null != this.props.chat.groupInfo.descriptionId &&
            e.setCenterLabel(833, () => {
              this.props.viewDescription(t);
            });
          var s = Wh(this.props.descriptionJob);
          s
            ? e.setCenterLabel(229, () => {
                this.showDescriptionJobErrorInfo(s, t);
              })
            : !(0, ut.f)(this.props.descriptionJob) &&
              Rh(this.props.chat.groupInfo) &&
              (null != this.props.chat.groupInfo.descriptionId
                ? e.setRightLabel(774, () => {
                    this.props.changeDescription(t);
                  })
                : e.setCenterLabel(754, () => {
                    this.props.changeDescription(t);
                  }));
        }
        render() {
          var e = this.props.value,
            t = e
              ? (0, r.b)(2, le.a, {
                  textClassName: (0, Oe.a)(this.props.selected && Ih, xh),
                  maxLineClassName: "VW",
                  truncated: !0,
                  children: (0, r.b)(2, Hh, { value: e }),
                })
              : (0, r.b)(2, o.b, {
                  l10n: "pending" === this.props.status ? 380 : 357,
                  className: (0, Oe.a)(xh, this.props.selected && Ih),
                }),
            s = (0, r.b)(2, zh, {
              status: this.props.status,
              selected: this.props.selected,
            });
          return (0, r.b)(2, m.k, {
            selected: this.props.selected,
            className: (0, Oe.a)("VS", "pending" === this.props.status && "VX"),
            children: [t, s],
          });
        }
      };
      function zh(e) {
        var t = null;
        switch (e.status) {
          case "pending":
            t = (0, r.b)(2, lr.a, { className: "VY" });
            break;
          case "error":
            t = (0, r.b)(2, li.a, {
              className: (0, Oe.a)(e.selected && Ih, "VZ"),
            });
        }
        return t;
      }
      var Hh = class extends n.a {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return s !== e && s.value !== e.value;
        }
        render() {
          var e = this.props.value,
            t = (0, Ch.e)(e);
          return (0, c.d)(e, t);
        }
      };
      function Jh(e) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("VT", "pending" === e.status && "VX"),
          [
            (0, r.f)(
              1,
              "div",
              xh,
              e.description && (0, c.b)(e.description),
              0,
              { dir: "auto" }
            ),
            "pending" === e.status && (0, r.b)(2, lr.a, { className: "VY" }),
          ],
          0
        );
      }
      var Qh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openMediaDrawer(this.props.chat);
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 500,
              selected: this.props.selected,
            });
          }
        },
        Xh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.selected !== e.selected || s.chat !== e.chat);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("GROUP_SETTINGS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              selected: this.props.selected,
              title: 388,
            });
          }
        },
        qh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(781, () => {
              (function (e) {
                (0, y.g)({
                  text: 511,
                  center: 796,
                  onSoftCenter: "CLOSE",
                  right: 785,
                  onSoftRight: () => (0, S.y)(e, S.s),
                });
              })(t);
            });
          }
          render() {
            var e = this.props.isVoipAvailable ? 372 : 373;
            return (0, r.b)(2, m.a, {
              title: 147,
              subtitle: e,
              selected: this.props.selected,
            });
          }
        },
        $h = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.isVoipAvailable ? 449 : 450;
            e.setCenterLabel(781, () => {
              (0, y.g)({
                text: s,
                center: 796,
                onSoftCenter: "CLOSE",
                right: 785,
                onSoftRight: () => {
                  (0, S.y)(t, S.w);
                },
              });
            });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.isVoipAvailable;
            return (0, r.b)(2, m.a, {
              selected: t,
              title: 154,
              subtitle: s ? 451 : 452,
            });
          }
        },
        Yh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.isInGroup !== e.isInGroup ||
                s.numParticipants !== e.numParticipants)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(834, () => {
              t.openScreen("GROUP_INFO_PARTICIPANTS", {
                chat: this.props.chat,
              });
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              selected: this.props.selected,
              title: [
                this.props.numParticipants -
                  St.z +
                  (this.props.isInGroup ? 1 : 0),
                257,
              ],
              icon: (0, r.b)(2, C.a),
            });
          }
        },
        Zh = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.nActiveInvites !== e.nActiveInvites)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              t.openScreen("GROUP_INFO_INVITATIONS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: [this.props.nActiveInvites, 100],
              selected: this.props.selected,
              rightComponent: (0, r.b)(2, C.a, { className: "Va BQ" }),
            });
          }
        },
        eu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(18, () => {
              t.openScreen("ADD_GROUP_PARTICIPANTS", { chat: this.props.chat });
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              selected: this.props.selected,
              title: 18,
              icon: (0, r.b)(2, Fn.a),
            });
          }
        },
        tu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              var e = this.props.chat;
              (0, Ji.c)(t, e);
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              selected: this.props.selected,
              title: 400,
              icon: (0, r.b)(2, Mh),
            });
          }
        },
        su = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(763, () => {
              (0, Qi.a)(this.props.chat, t);
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              danger: !0,
              selected: this.props.selected,
              title: 135,
              icon: (0, r.b)(2, Nh),
            });
          }
        },
        ru = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.connected !== e.connected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(453, () => {
              (0, Qi.c)(this.props.chat, this.props.connected, t);
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              danger: !0,
              selected: this.props.selected,
              title: 291,
              icon: (0, r.b)(2, Lh),
            });
          }
        },
        nu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.selected !== e.selected);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              (0, Qi.b)(this.props.chat, t);
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              danger: !0,
              selected: this.props.selected,
              title: 220,
              icon: (0, r.b)(2, _h.a),
            });
          }
        },
        au = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.connected !== e.connected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(639, () => {
              this.confirmSpam(t);
            });
          }
          confirmSpam(e) {
            var t = this.props,
              s = t.chat,
              r = t.connected,
              n = new V.a(638);
            n.add(643, () => {
              r
                ? e.reportGroupSpam({
                    reportType: "chat",
                    groupChat: s,
                    spamFlow: "group_info",
                    deleteGroup: !0,
                    exitGroup: !0,
                  })
                : (0, y.e)({ title: 229, text: 635 });
            }),
              n.add(557, () => {
                r
                  ? e.reportGroupSpam({
                      reportType: "chat",
                      groupChat: s,
                      spamFlow: "group_info",
                      deleteGroup: !1,
                      exitGroup: !1,
                    })
                  : (0, y.e)({ title: 229, text: 635 });
              }),
              (0, y.j)(n);
          }
          render() {
            return (0, r.b)(2, m.j, {
              danger: !0,
              selected: this.props.selected,
              title: 639,
              icon: (0, r.b)(2, Bt),
            });
          }
        },
        iu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.groupInfoProps !== e.groupInfoProps ||
                s.participant !== e.participant ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            yh(t, this.props.groupInfoProps, this.props.participant, e);
          }
          render() {
            var e = this.props,
              t = e.groupInfoProps,
              s = e.participant,
              n = e.selected;
            return (0, r.b)(2, kh, {
              contacts: t.contacts,
              userJid: s,
              selected: n,
              admin: t.admins[s] || t.superadmins[s],
            });
          }
        };
      function ou(e) {
        var t = e.label,
          s = e.value,
          n = e.maxLength,
          a = e.showCounterThreshold,
          i = e.selected,
          l = e.children,
          c = e.className,
          d = e.fieldClassName,
          h = n - (0, Hc.a)(s),
          u = null == a || h <= a,
          p = h < 0;
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Mj", i && "Mq", c),
          [
            (0, r.f)(
              1,
              "div",
              "Ml Mk",
              [
                (0, r.b)(2, o.b, { className: "Mm GI GE", l10n: t }),
                u
                  ? (0, r.f)(
                      1,
                      "span",
                      (0, Oe.a)("Mn GG GC", h <= 0 && "Mo"),
                      (0, it.i)(h),
                      0
                    )
                  : null,
              ],
              0
            ),
            (0, r.f)(1, "div", (0, Oe.a)("Mp Mk", d), l(p), 0),
          ],
          4
        );
      }
      var lu = s(487),
        cu = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.WL = n.e()),
              (this.WN = (e) => {
                this.setState({ description: e });
              }),
              (this.state = {
                description: e.chat.groupInfo.description || "",
              });
          }
          WM() {
            var e = this.props.chat,
              t = this.state.description.trim();
            if ((0, Hc.a)(t) > 512) (0, y.e)({ title: 229, text: 350 });
            else {
              var s = this.props.chat.groupInfo.description,
                r = t.length > 0 ? t : null;
              s !== r
                ? this.props.backend.setGroupDescription(e.jid, r)
                : this.props.backend.goBack();
            }
          }
          addSoftKeys(e, t) {
            e.addCancel(),
              D.e ||
                e.setRightIcon(dl, () => {
                  cl(t, (e) => {
                    var t = this.WL.current;
                    t && t.pasteText(e);
                  });
                }),
              e.setCenterLabel(816, () => this.WM());
          }
          render() {
            var e = this.state.description;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 364 }),
              children: (0, r.b)(2, ou, {
                className: "Tw",
                label: 363,
                value: e,
                maxLength: 512,
                showCounterThreshold: 50,
                fieldClassName: (0, Oe.a)("Tx", "Ty"),
                children: (e) =>
                  (0, r.b)(
                    2,
                    lu.a,
                    {
                      className: "Tw",
                      hasFocusPriority: !0,
                      placeholder: 362,
                      defaultValue: this.props.chat.groupInfo.description || "",
                      onChange: this.WN,
                      invalid: e,
                    },
                    null,
                    this.WL
                  ),
              }),
            });
          }
        },
        du = (0, i.j)((0, h.e)(cu)),
        hu = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.WG = n.e()),
              (this.WJ = (e) => {
                this.setState({ subject: e });
              }),
              (this.state = { subject: e.chat.groupInfo.title });
          }
          WH() {
            return this.state.subject.trim();
          }
          WI(e) {
            var t = this.props.chat,
              s = this.WH();
            (0, Hc.a)(s) > this.props.maxSubject
              ? (0, y.e)({ title: 229, text: 430 })
              : (this.props.chat.groupInfo.title !== s &&
                  e.setGroupSubject(t.jid, s),
                e.goBack());
          }
          WK() {
            return (0, r.b)(2, o.b, { l10n: 367 });
          }
          addSoftKeys(e, t) {
            e.addCancel(),
              e.setRightIcon(dl, () => {
                cl(t, (e) => {
                  var t = this.WG.current;
                  t && t.pasteText(e);
                });
              }),
              "" !== this.WH() &&
                e.setCenterLabel(816, () => {
                  this.WI(t);
                });
          }
          render() {
            var e = this.state.subject;
            return (0, r.b)(2, b.a, {
              title: this.WK(),
              children: (0, r.b)(2, ou, {
                label: 366,
                value: e,
                maxLength: this.props.maxSubject,
                fieldClassName: (0, Oe.a)("Tu", "Tv"),
                children: (e) =>
                  (0, r.b)(
                    2,
                    hl.a,
                    {
                      hasFocusPriority: !0,
                      placeholder: 365,
                      defaultValue: this.props.chat.groupInfo.title,
                      onChange: this.WJ,
                      invalid: e,
                    },
                    null,
                    this.WG
                  ),
              }),
            });
          }
        },
        uu = (0, i.c)((0, h.e)(hu), (e, t, s) => ({
          chat: s.chat,
          maxSubject: e.serverProps.maxSubject,
        })),
        pu = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.WE = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) =>
                  (0, W.a)((0, d.c)(e, this.props.contacts), s)
                );
              }),
              (this.WF = (e, t) => {
                var s = this.props.invitations[e];
                return (0, r.b)(2, gu, {
                  selected: t,
                  invitation: s,
                  contacts: this.props.contacts,
                  userJid: e,
                  groupJid: this.props.groupJid,
                });
              }),
              e
            );
          }
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e = { filter: this.WE, emptyLabel: 243 };
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: [this.props.items.length, 100] }),
              children: (0, r.b)(2, g.c, {
                items: this.props.items,
                keyOf: fu,
                search: e,
                estimatedItemHeight: D.c,
                emptyLabel: 463,
                renderItem: this.WF,
              }),
            });
          }
        },
        vu = (0, i.f)(
          (0, h.e)(pu),
          (e, t) => ({ chat: t.chat, contacts: e.contacts }),
          (e, t) => {
            var s = e.chat.jid,
              r = [],
              n = {};
            return (
              e.chat.groupInfo.invitations.forEach((e) => {
                (0, Lt.p)(e.expiration) && (r.push(e.jid), (n[e.jid] = e));
              }),
              {
                groupJid: s,
                items: r,
                invitations: n,
                contacts: e.contacts,
                backend: t,
              }
            );
          }
        );
      function fu(e) {
        return e;
      }
      var gu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.userJid !== e.userJid ||
                s.invitation !== e.invitation ||
                s.contacts !== e.contacts ||
                s.groupJid !== e.groupJid)
            );
          }
          openInvitationOptions(e) {
            var t = this.props,
              s = t.invitation,
              r = t.groupJid,
              n = new V.a(566);
            n.add(127, () => {
              (0, Vn.a)(e, s.jid);
            }),
              n.add(459, e.revokeGroupInvitation, r, s),
              (0, y.j)(n);
          }
          addSoftKeys(e, t) {
            e.setRightOptions(() => {
              this.openInvitationOptions(t);
            });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.contacts,
              n = e.invitation,
              a = e.userJid;
            return (0, r.b)(2, m.f, {
              contact: (0, d.c)(a, s),
              selected: t,
              subtitle: Ea(n.expiration),
            });
          }
        },
        bu = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.WC = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) =>
                  (0, W.a)((0, d.c)(e, this.props.contacts), s)
                );
              }),
              (this.WD = (e, t) =>
                (0, r.b)(2, ku, {
                  groupInfoParticipantProps: this.props,
                  selected: t,
                  participant: e,
                })),
              e
            );
          }
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e = this.props,
              t = e.participants,
              s = e.chat,
              n = { filter: this.WC, emptyLabel: 243 },
              a = s.groupInfo.isInGroup ? 1 : 0,
              i = t.length + a;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: [i, 101] }),
              children: (0, r.b)(2, g.c, {
                items: t,
                keyOf: yu,
                search: n,
                estimatedItemHeight: D.c,
                renderItem: this.WD,
              }),
            });
          }
        };
      function mu(e) {
        return e.reduce((e, t) => ((e[String(t)] = !0), e), {});
      }
      var Su = (0, i.f)(
        (0, h.e)(bu),
        (e, t) => ({
          chat: t.chat,
          currentUser: e.user.jid,
          contacts: e.contacts,
          connected: e.connected,
        }),
        (e, t) => {
          var s = e.chat.groupInfo,
            r = s.participants;
          e.chat.groupInfo.isInGroup && (r = [e.currentUser].concat(r));
          var n = mu(s.admins),
            a = mu(s.admins);
          return {
            chat: e.chat,
            participants: r,
            admins: n,
            superadmins: a,
            currentUser: e.currentUser,
            contacts: e.contacts,
            backend: t,
            connected: e.connected,
          };
        }
      );
      function yu(e) {
        return e;
      }
      var ku = class extends h.b {
          addSoftKeys(e, t) {
            yh(
              t,
              this.props.groupInfoParticipantProps,
              this.props.participant,
              e
            );
          }
          render() {
            var e = this.props,
              t = e.groupInfoParticipantProps,
              s = e.selected,
              n = e.participant,
              a =
                t.currentUser === n
                  ? t.chat.groupInfo.isAdmin
                  : t.admins[n] || t.superadmins[n];
            return (0, r.b)(2, kh, {
              contacts: t.contacts,
              userJid: n,
              selected: s,
              admin: a,
            });
          }
        },
        Cu = "Tr BQ",
        wu = ["editGroupInfo", "sendMessages"],
        xu = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.WA = (e) => {
                if (e.error && null == this.props.overlayId) {
                  var t;
                  switch (e.error.reason) {
                    case "not-authorized":
                      t = 425;
                      break;
                    case "not-in-group":
                      t = 424;
                      break;
                    case "no-such-group":
                      t = 423;
                      break;
                    default:
                      t = 228;
                  }
                  var s = this.props,
                    r = s.backend,
                    n = s.lockedJob;
                  (0, y.e)({
                    title: 229,
                    text: t,
                    onClose: () => {
                      (0, Oh.b)(r, n);
                    },
                  });
                }
              }),
              (this.WB = (e, t) => {
                var s = this.props.chat;
                switch (e) {
                  case "editGroupInfo":
                    var n;
                    if ((0, ut.f)(this.props.lockedJob)) n = "pending";
                    else {
                      var a = (0, ut.d)(this.props.lockedJob);
                      a && "success" !== a && ((n = "error"), this.WA(a));
                    }
                    return (0, r.b)(2, Iu, {
                      chat: s,
                      selected: t,
                      status: n,
                      ephemeralAllowMembers: this.props.ephemeralAllowMembers,
                    });
                  case "sendMessages":
                    return (0, r.b)(2, Lu, { chat: s, selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 388 }),
              children: (0, r.b)(2, g.a, {
                items: wu,
                keyOf: Nu,
                renderItem: this.WB,
              }),
            });
          }
        },
        Iu = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.openEditGroupInfoContext = (e) => {
                var t = new V.a(370);
                this.addEditGroupInfoOptions(t, e), (0, y.j)(t);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.status !== e.status ||
                s.ephemeralAllowMembers !== e.ephemeralAllowMembers)
            );
          }
          addSoftKeys(e, t) {
            null == this.props.status &&
              e.setCenterLabel(774, () => {
                this.props.ephemeralAllowMembers
                  ? t.openScreen("GROUP_SETTINGS_EDIT_INFO", {
                      chat: this.props.chat,
                    })
                  : this.openEditGroupInfoContext(t);
              });
          }
          addEditGroupInfoOptions(e, t) {
            e.add(359, () => {
              this.props.chat.groupInfo.locked &&
                t.setGroupLocked(this.props.chat.jid, !1);
            }),
              e.add(377, () => {
                this.props.chat.groupInfo.locked ||
                  t.setGroupLocked(this.props.chat.jid, !0);
              });
          }
          render() {
            var e;
            if (this.props.ephemeralAllowMembers) {
              var t = this.props,
                s = t.status,
                n = t.selected;
              e = (0, r.b)(2, Mu, { status: s, selected: n });
            } else e = (0, r.b)(2, C.a, { className: Cu });
            return (0, r.b)(2, m.a, {
              selected: this.props.selected,
              title: 370,
              subtitle: this.props.chat.groupInfo.locked ? 377 : 359,
              rightComponent: e,
            });
          }
        },
        Lu = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.openSendMessagesContext = (e) => {
                var t = new V.a(387);
                this.addSendMessagesOptions(t, e), (0, y.j)(t);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.selected !== e.selected || s.chat !== e.chat);
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(774, () => {
              this.openSendMessagesContext(t);
            });
          }
          addSendMessagesOptions(e, t) {
            e.add(359, () => {
              this.props.chat.groupInfo.announcement &&
                t.setGroupAnnouncement(this.props.chat.jid, !1);
            }),
              e.add(377, () => {
                this.props.chat.groupInfo.announcement ||
                  t.setGroupAnnouncement(this.props.chat.jid, !0);
              });
          }
          render() {
            return (0, r.b)(2, m.a, {
              selected: this.props.selected,
              title: 387,
              subtitle: this.props.chat.groupInfo.announcement ? 377 : 359,
              rightComponent: (0, r.b)(2, C.a, { className: Cu }),
            });
          }
        },
        _u = (0, i.c)((0, h.e)(xu), (e, t, s) => {
          var r = s.chat,
            n = r.jid,
            a = r.groupInfo.locked,
            i = Ct.g.setGroupParticipants({ groupJid: n, adminOnly: a }),
            o = (0, ut.g)(e, "setGroupParticipants", i);
          return {
            backend: t,
            chat: r,
            ephemeralAllowMembers: (0, Tn.a)("ephemeral_allow_group_members"),
            lockedJob: o,
            overlayId: e.overlayId,
          };
        });
      function Nu(e) {
        return String(e);
      }
      function Mu(e) {
        var t = null;
        switch (e.status) {
          case "pending":
            t = (0, r.b)(2, lr.a, { className: "Ts" });
            break;
          case "error":
            t = (0, r.b)(2, li.a, { className: "Tt" });
        }
        return t;
      }
      var Ou = s(308),
        Tu = ["info", "allParticipants", "onlyAdmins"],
        Pu = class extends n.a {
          constructor(e, t) {
            super(e, t),
              (this.Vw = n.e()),
              (this.setLocked = (e, t) => {
                var s;
                if (t && null != (null == (s = this.Vw) ? void 0 : s.current)) {
                  var r = this.Vw.current;
                  e ? r.goToNext() : r.goToPrevious();
                }
                this.setState({ locked: e });
              }),
              (this.saveChanges = () => {
                var e = this.props,
                  t = e.chat,
                  s = e.backend,
                  r = this.state.locked;
                t.groupInfo.locked !== r && s.setGroupParticipants(t.jid, r),
                  s.goBack();
              }),
              (this.Vx = () => {
                this.Vw && this.Vw.current && this.Vw.current.goToNext();
              }),
              (this.Vy = (e, t) => {
                switch (e) {
                  case "allParticipants":
                  case "onlyAdmins":
                    return (0, r.b)(2, Au, {
                      jid: this.props.chat.jid,
                      value: e,
                      locked: this.state.locked,
                      setLocked: this.setLocked,
                      saveChanges: this.saveChanges,
                      selected: t,
                    });
                  default:
                    return (0, r.b)(2, Eu, {
                      selected: t,
                      goNext: this.Vx,
                      saveChanges: this.saveChanges,
                    });
                }
              }),
              (this.state = { locked: e.chat.groupInfo.locked });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 370 }),
              children: (0, r.b)(
                2,
                g.a,
                {
                  items: Tu,
                  keyOf: Gu,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Vy,
                },
                null,
                this.Vw
              ),
            });
          }
        },
        Au = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.jid !== e.jid ||
                s.locked !== e.locked ||
                s.selected !== e.selected ||
                s.setLocked !== e.setLocked ||
                s.saveChanges !== e.saveChanges ||
                s.value !== e.value)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.locked,
              n = s.saveChanges;
            e.setCenterLabel(818, () => {
              this.props.setLocked(!r, this.Vz());
            }),
              e.setRightLabel(816, n);
          }
          Vz() {
            var e = this.props,
              t = e.locked;
            return "allParticipants" === e.value ? !t : t;
          }
          render() {
            var e,
              t = this.props,
              s = t.selected;
            e =
              "allParticipants" === t.value
                ? (0, r.b)(2, o.b, { l10n: 359 })
                : (0, r.b)(2, o.b, { l10n: 377 });
            var n = this.Vz();
            return (0, r.b)(2, m.k, {
              className: "Tq",
              selected: s,
              children: [
                (0, r.f)(1, "div", null, e, 0),
                (0, r.b)(2, Ou.a, { selected: s, checked: n, disabled: !1 }),
              ],
            });
          }
        },
        Eu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.goNext !== e.goNext ||
                s.saveChanges !== e.saveChanges)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.goNext,
              n = s.saveChanges;
            e.setCenterLabel(774, r), e.setRightLabel(816, n);
          }
          render() {
            return (0, r.b)(2, o.b, {
              l10n: 371,
              className: (0, Oe.a)("To GG GC", this.props.selected && "Tp"),
            });
          }
        },
        Ru = (0, i.c)((0, h.e)(Pu), (e, t, s) => ({
          backend: t,
          chat: s.chat,
        }));
      function Gu(e) {
        return String(e);
      }
      var Uu = ["faq", "contactUs", "terms", "licenses"],
        Du = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              WAM.log("regular", 474, void 0, [1, 0, 10]), (0, S.y)(t, S.n);
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 433,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        ju = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("HELP_CONTACT_US");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 432,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        Bu = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              (0, S.y)(t, S.u);
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 436,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        Vu = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("HELP_LICENSES");
            });
          }
          render() {
            return (0, r.c)(
              [
                (0, r.b)(2, m.a, {
                  title: 434,
                  selected: this.props.selected,
                  borderBottom: !0,
                }),
                (0, r.f)(
                  1,
                  "div",
                  "Sp GG GC",
                  [
                    (0, r.b)(2, o.b, { l10n: ["2.2218.5.1", 138] }),
                    (0, r.f)(1, "span", null, "Â© 2010-2022 WhatsApp Inc.", 0, {
                      dir: "ltr",
                    }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        Fu = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.renderItem = (e, t) => {
                switch (e) {
                  case "faq":
                    return (0, r.b)(2, Du, { selected: t });
                  case "contactUs":
                    return (0, r.b)(2, ju, { selected: t });
                  case "terms":
                    return (0, r.b)(2, Bu, { selected: t });
                  case "licenses":
                    return (0, r.b)(2, Vu, { selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            return !1;
          }
          addSoftKeys(e, t) {
            e.setLeftAsBack(), e.setBack(oe.a);
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 437 }),
              children: (0, r.b)(2, g.a, {
                items: Uu,
                keyOf: Ku,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        Wu = (0, h.e)(Fu);
      function Ku(e) {
        return e;
      }
      var zu = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M20 40c.135 0 .27-.002.403-.004a2.222 2.222 0 10-.088-4.444c-.104.002-.21.003-.315.003V40zm0-35.556c.105 0 .21.001.315.004a2.222 2.222 0 00.088-4.444A20.347 20.347 0 0020 0v4.444zm9.652-1.964a2.222 2.222 0 00-2.147 3.89c.183.102.363.206.542.314a2.222 2.222 0 002.303-3.801c-.23-.139-.462-.273-.698-.403zm7.465 7.17a2.222 2.222 0 10-3.801 2.303c.108.179.212.36.313.542a2.222 2.222 0 003.891-2.147c-.13-.236-.264-.468-.403-.698zm2.879 9.946a2.222 2.222 0 10-4.444.089 15.736 15.736 0 010 .63 2.222 2.222 0 004.444.088 20.04 20.04 0 000-.806zM37.52 29.652a2.222 2.222 0 00-3.89-2.148 15.57 15.57 0 01-.314.543 2.222 2.222 0 003.8 2.302c.14-.23.274-.462.404-.697zm-7.17 7.465a2.222 2.222 0 10-2.303-3.802 17.3 17.3 0 01-.542.314 2.222 2.222 0 102.147 3.891c.236-.13.468-.264.698-.403z",
                "clip-rule": "evenodd",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M20 0C8.954 0 0 8.954 0 20c0 11.045 8.954 20 20 20v-4.445c-8.591 0-15.556-6.964-15.556-15.555S11.41 4.444 20 4.444V0z",
                "clip-rule": "evenodd",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M27.889 11.127a1.281 1.281 0 011.793 1.793l-6.761 9.016a2.891 2.891 0 11-4.047-4.047l9.014-6.762z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 40 40" }
          );
        },
        Hu = "RE",
        Ju = "RH GG GC",
        Qu = "RI",
        Xu = "RJ",
        qu = class e extends n.a {
          static Un(e, t, s, r) {
            var n = ["info", ...(0, Tt.c)(r)];
            return (
              "GROUP" === e.type &&
                t &&
                n.push(
                  e.groupInfo.locked ? "adminCanChange" : "anyoneCanChange"
                ),
              s && n.push("settings-link"),
              n
            );
          }
          constructor(t, s) {
            super(t, s),
              (this.Ul = n.e()),
              (this.Uo = (e) => {
                var t = this.props.chat;
                "ONE_TO_ONE" === t.type
                  ? (this.props.isBlocked &&
                      (0, y.e)({ title: 229, text: e > St.i ? 278 : 277 }),
                    this.setState({ expiration: e }))
                  : (t.type, this.setState({ expiration: e }));
              }),
              (this.Up = () => {
                var e = this.props.expiration || St.i,
                  t = this.state.expiration;
                if (e !== t) {
                  var s = this.props,
                    r = s.backend,
                    n = s.chat;
                  if ("ONE_TO_ONE" === n.type) {
                    var a,
                      i = this.props.contacts[n.jid];
                    r.setOneToOneEphemeralSetting(
                      n.jid,
                      t,
                      null == i || null == (a = i.ephemeral) ? void 0 : a.ts
                    );
                  } else {
                    n.type;
                    var o = t > St.i ? t : null;
                    r.setGroupEphemeralSetting(n.jid, o);
                  }
                  WAM.log("regular", 2370, void 0, [1, 0, t]), r.goBack();
                } else this.props.backend.goBack();
              }),
              (this.Uq = () => {
                var e, t;
                null == (e = this.Ul) ||
                  null == (t = e.current) ||
                  t.goToNext();
              }),
              (this.Ur = (e, t) => {
                switch (e) {
                  case "info":
                    return (0, Tn.a)("disappearing_mode")
                      ? (0, r.b)(2, Zu, { goNext: this.Uq, selected: t })
                      : (0, r.b)(2, Yu, { goNext: this.Uq, selected: t });
                  case "adminCanChange":
                  case "anyoneCanChange":
                    return (0, r.b)(2, ep, { textType: e, selected: t });
                  case "settings-link":
                    return (0, r.b)(2, tp, {
                      selected: t,
                      chatType: this.props.chat.type,
                    });
                  default:
                    return (0, r.b)(2, $u, {
                      expiration: this.state.expiration,
                      value: e,
                      selected: t,
                      onChange: this.Uo,
                      onSave: this.Up,
                    });
                }
              }),
              (this.state = { expiration: t.expiration || St.i }),
              (this.Um = (0, bc.d)((t, s, r, n) => e.Un(t, s, r, n)));
          }
          render() {
            var e = this.props,
              t = e.chat,
              s = e.allowedExpirations,
              n = this.Um(
                t,
                (0, Tn.a)("ephemeral_allow_group_members"),
                (0, Tn.a)("disappearing_mode"),
                s
              );
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 279 }),
              children: (0, r.b)(
                2,
                g.a,
                {
                  items: n,
                  keyOf: rp,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Ur,
                },
                null,
                this.Ul
              ),
            });
          }
        },
        $u = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.expiration !== e.expiration ||
                s.selected !== e.selected ||
                s.value !== e.value ||
                s.onChange !== e.onChange ||
                s.onSave !== e.onSave)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.expiration,
              n = s.selected,
              a = s.value,
              i = s.onSave;
            n &&
              r !== a &&
              e.setCenterLabel(818, () => {
                this.props.onChange(a);
              }),
              e.setRightLabel(816, i);
          }
          render() {
            var e = this.props,
              t = e.expiration,
              s = e.selected,
              r = e.value;
            return (0, Wt.f)(r, t, s);
          }
        },
        Yu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.goNext !== e.goNext)
            );
          }
          addSoftKeys(e) {
            e.setRightLabel(785, np), e.setCenterLabel(774, this.props.goNext);
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)(Ju, this.props.selected && Qu),
              [
                (0, r.f)(
                  1,
                  "div",
                  Hu,
                  (0, r.b)(2, Ai.a, { className: "RF" }),
                  2
                ),
                (0, r.f)(1, "div", Xu, (0, r.b)(2, o.b, { l10n: 274 }), 2),
              ],
              4
            );
          }
        },
        Zu = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.goNext !== e.goNext)
            );
          }
          addSoftKeys(e) {
            e.setRightLabel(785, np), e.setCenterLabel(774, this.props.goNext);
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)(Ju, this.props.selected && Qu),
              [
                (0, r.f)(1, "div", Hu, (0, r.b)(2, zu, { className: "RG" }), 2),
                (0, r.f)(
                  1,
                  "div",
                  Xu,
                  [
                    (0, r.b)(2, o.b, { className: "RK", l10n: 232 }),
                    (0, r.b)(2, o.b, { l10n: 233 }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        ep = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.textType !== e.textType || s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            e.setRightLabel(785, np);
          }
          render() {
            var e = this.props.textType,
              t = (0, Oe.a)(Ju, this.props.selected && Qu);
            return "adminCanChange" === e
              ? (0, r.b)(2, o.b, { l10n: 272, className: t })
              : (0, r.b)(2, o.b, { l10n: 273, className: t });
          }
        },
        tp = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected || s.chatType !== e.chatType)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, (e) =>
              (function (e, t) {
                e.openScreen("DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS", {
                  offline: !1,
                  entryPoint:
                    "ONE_TO_ONE" === t
                      ? "individual-chat-info"
                      : "group-chat-info",
                });
              })(e, this.props.chatType)
            );
          }
          render() {
            var e = (0, Oe.a)(Ju, this.props.selected && Qu);
            return (0, r.b)(2, o.b, { l10n: 239, className: e });
          }
        },
        sp = (0, i.c)((0, h.e)(qu), (e, t, s) => {
          var r,
            n,
            a,
            i = e.contacts,
            o = e.blocked,
            l = e.serverProps,
            c = s.chat,
            d = !1;
          return (
            "ONE_TO_ONE" === c.type
              ? ((r =
                  null == (n = i[c.jid]) || null == (a = n.ephemeral)
                    ? void 0
                    : a.expiration),
                (d = !!o[c.jid]))
              : (c.type, (r = c.groupInfo.expiration)),
            {
              backend: t,
              expiration: r || St.i,
              chat: c,
              contacts: i,
              isBlocked: d,
              allowedExpirations: l.ephemeralMessagesAllowedValues,
            }
          );
        });
      function rp(e) {
        return String(e);
      }
      function np(e) {
        (0, S.y)(e, S.c);
      }
      var ap = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M152.34 62c.695 0 .867.4.386.914l-4.95 5.193v10.376c0 1.4-1.133 2.516-2.52 2.516h-21.738c-1.4 0-2.52-1.132-2.52-2.523V64.523A2.52 2.52 0 01123.53 62h28.8zm-15.78 9.746h-10.02c-.63 0-1.16.524-1.16 1.17s.52 1.17 1.16 1.17h10.02c.63 0 1.16-.524 1.16-1.17l-.007-.128a1.16 1.16 0 00-1.154-1.041zm4.365-5.068h-14.37a1.17 1.17 0 00-.128 2.333l.128.007h14.37a1.17 1.17 0 001.169-1.042l.007-.127-.007-.128a1.17 1.17 0 00-1.169-1.041zM20.556 30c.463 0 .588.274.275.617l-3.258 3.562v7.14c0 .928-.755 1.68-1.685 1.68H1.685A1.682 1.682 0 010 41.327v-9.654C0 30.75.762 30 1.68 30h18.878zm-10.388 6.67H3.68a.8.8 0 100 1.6h6.488a.8.8 0 00.806-.8l-.006-.1a.81.81 0 00-.8-.7zm2.874-3.468H3.68a.806.806 0 00-.807.8.8.8 0 00.706.794l.1.006h9.36a.81.81 0 00.801-.7l.006-.1-.006-.1a.81.81 0 00-.8-.7zM42.46 60c.577 0 .722.337.32.76l-4.188 4.384v8.764A2.1 2.1 0 0136.488 76H18.106A2.101 2.101 0 0116 73.908V62.1a2.1 2.1 0 012.102-2.1h24.36zm-13.33 8.207h-8.454a.99.99 0 00-.98.985.98.98 0 00.98.985h8.455a.99.99 0 00.98-.985l-.007-.116a.98.98 0 00-.973-.869zm3.683-4.268H20.688a.984.984 0 00-.116 1.963l.116.007h12.125c.515 0 .93-.38.986-.87l.007-.115-.007-.116a.988.988 0 00-.985-.87zM157.53 26c.47 0 .588.277.273.6l-3.063 3.246v6.456A1.69 1.69 0 01153.059 38h-13.374a1.68 1.68 0 01-1.681-1.681v-8.64a1.68 1.68 0 011.684-1.68h17.842zm-9.814 6.156h-6.235a.74.74 0 00-.74.739.74.74 0 00.74.74h6.235a.74.74 0 00.74-.739l-.007-.1a.74.74 0 00-.733-.638zm2.742-3.2h-8.982a.74.74 0 00-.1 1.472l.1.007h8.982c.376 0 .68-.278.728-.638l.007-.1-.007-.1a.736.736 0 00-.728-.638zM63.662 10c.353 0 .44.2.197.44l-2.47 2.454v4.842A1.26 1.26 0 0160.13 19H49.26c-.696 0-1.26-.563-1.26-1.25v-6.5A1.25 1.25 0 0149.252 10h14.4zm-7.848 4.617h-5.076a.554.554 0 000 1.108h5.076a.554.554 0 00.548-.554l-.007-.088a.555.555 0 00-.54-.466zm2.2-2.4H50.74a.55.55 0 00-.549.554.56.56 0 00.46.547l.1.007h7.264c.277 0 .5-.2.542-.464l.007-.1-.007-.088a.558.558 0 00-.54-.466zM94.723 0c.287 0 .364.17.17.38l-2.016 2.192v4.382C92.877 7.53 92.41 8 91.834 8h-8.79A1.05 1.05 0 0182 6.954V1.046A1.05 1.05 0 0183.05 0h11.673zm-6.43 4.104h-4.016a.49.49 0 00-.499.492.5.5 0 00.499.492h4.016a.49.49 0 00.499-.492l-.008-.086a.502.502 0 00-.49-.406zm1.8-2.134h-5.816c-.263 0-.49.22-.49.492a.5.5 0 00.401.484l.088.008h5.816a.495.495 0 00.48-.404l.008-.09-.008-.086a.493.493 0 00-.48-.406z",
            }),
            2,
            { viewBox: "0 0 160 83" }
          );
        },
        ip = "RT",
        op = class extends h.a {
          componentDidMount() {
            (0, Tt.g)(), super.componentDidMount();
          }
          addSoftKeys(e, t) {
            var s = !0 === this.props.proactive;
            e.setCenterLabel(s ? 796 : 767, () => {
              s
                ? t.goBack()
                : t.updateScreen(this.props.screenId, {
                    type: "EPHEMERAL_SETTINGS",
                    props: { chat: this.props.chat },
                  });
            }),
              e.setRightLabel(785, () => {
                (0, S.y)(t, S.c);
              });
          }
          render() {
            var e = !0 === this.props.proactive,
              t = e
                ? (0, r.b)(2, o.b, { l10n: 280 })
                : (0, r.b)(2, o.b, { l10n: 284 }),
              s = (0, Tn.a)("disappearing_mode")
                ? (0, r.b)(2, zu, { className: "RR" })
                : (0, r.b)(2, Ai.a, { className: "RQ" });
            return (0, r.b)(2, a.a, {
              children: [
                (0, r.f)(
                  1,
                  "div",
                  "RO",
                  [(0, r.b)(2, ap, { className: "RP" }), s],
                  0
                ),
                (0, r.f)(
                  1,
                  "div",
                  "RU GF GC",
                  e
                    ? (0, r.b)(2, o.b, { l10n: 281 })
                    : (0, r.b)(2, o.b, { l10n: 285 }),
                  0
                ),
                (0, r.f)(
                  1,
                  "div",
                  "RS GG GC",
                  [
                    (0, r.f)(1, "div", ip, t, 0),
                    (0, r.f)(1, "div", ip, (0, r.b)(2, o.b, { l10n: 282 }), 2),
                    (0, r.f)(1, "div", ip, (0, r.b)(2, o.b, { l10n: 283 }), 2),
                  ],
                  4
                ),
              ],
            });
          }
        },
        lp = (0, h.e)(op),
        cp = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#CCEFEB",
                d:
                  "M121.58 44.344c-4.382 4.713-10.637 7.662-17.58 7.662-11.054 0-20.362-7.473-23.149-17.642-5.955-2.127-12.551-5.822-23.772-12.107l-3.656-2.046C34.326 9.536 3.671 18.526 1.158 54.766c-1.654 23.853 9.89 40.352 25.136 46.197 14.733 5.649 47.15 10.72 81.691-1.337 18.978-6.625 24.106-19.6 22.831-34.465-.821-9.575-4.326-16.333-9.236-20.817z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#42CBA5",
                d:
                  "M89.667 47.248c-5.935-4.357-9.788-11.385-9.788-19.312 0-2.85.498-5.583 1.411-8.118l-28.85-4.055a7.974 7.974 0 00-9.008 6.793l-11.15 79.692a7.987 7.987 0 006.797 9.014l32.928 4.627a7.974 7.974 0 009.008-6.792l8.653-61.849z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d:
                  "M81.292 19.817 52.44 15.762a7.974 7.974 0 00-9.008 6.793l-11.15 79.692a7.987 7.987 0 006.797 9.014l32.928 4.627a7.974 7.974 0 009.008-6.792l8.654-61.85a24.02 24.02 0 01-1.546-1.236l-8.793 62.849a6.274 6.274 0 01-7.087 5.344l-32.928-4.628a6.283 6.283 0 01-5.347-7.091l11.15-79.692a6.273 6.273 0 017.086-5.344l28.563 4.014a24.04 24.04 0 01.526-1.645z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d:
                  "M89.504 47.122c-5.842-4.366-9.625-11.337-9.625-19.19a23.84 23.84 0 013.002-11.617l-30.108-4.231a7.974 7.974 0 00-9.008 6.792l-11.15 79.692a7.986 7.986 0 006.797 9.014l32.928 4.628a7.975 7.975 0 009.008-6.793l8.156-58.295z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d:
                  "m82.883 16.316-30.11-4.232a7.974 7.974 0 00-9.009 6.793L32.615 98.568a7.986 7.986 0 006.797 9.014l32.928 4.628a7.975 7.975 0 009.008-6.793l8.155-58.291a24.073 24.073 0 01-1.537-1.251l-8.297 59.306a6.28 6.28 0 01-7.094 5.35l-32.928-4.628a6.29 6.29 0 01-5.353-7.099l11.15-79.691a6.28 6.28 0 017.094-5.35l29.533 4.151a23.71 23.71 0 01.812-1.598z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#EEFEFA",
                d:
                  "m81.654 18.872-2.38-.335L57.87 15.53l-4.774-.67a5.98 5.98 0 00-6.756 5.094L35.467 97.669a5.99 5.99 0 005.098 6.76l30.951 4.35a5.98 5.98 0 006.757-5.094l8.278-59.168a23.861 23.861 0 01-6.672-16.581c0-3.208.631-6.268 1.775-9.064z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#316474",
                d:
                  "m86.551 44.515-8.278 59.17a5.98 5.98 0 01-6.756 5.094l-30.952-4.35a5.99 5.99 0 01-5.098-6.76L46.34 19.953a5.98 5.98 0 016.756-5.095l28.556 4.013a23.726 23.726 0 00-.598 1.629L52.86 16.538a4.286 4.286 0 00-4.841 3.65L37.147 97.906a4.293 4.293 0 003.653 4.845l30.952 4.35a4.287 4.287 0 004.842-3.651l8.481-60.621c.466.585.959 1.148 1.476 1.687z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#fff",
                stroke: "#00897B",
                "stroke-width": "1.5",
                d:
                  "m51.953 70.112 20.701 2.91a3.256 3.256 0 003.676-2.768l1.489-10.515a3.244 3.244 0 00-2.762-3.669l-28.193-3.962a.4.4 0 00-.339.678l2.141 2.137a5.339 5.339 0 011.514 4.526l-.99 6.995a3.244 3.244 0 002.763 3.668z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#fff",
                d:
                  "m70.044 66.956-13.466-1.892c-.553-.078-.792-.72-.397-1.091l3.17-3.008a.7.7 0 011.077.151l2.05 3.483 4.12-3.91a.7.7 0 011.078.152l3.049 5.176c.278.466-.13 1.017-.681.939z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                stroke: "#42CBA5",
                "stroke-opacity": ".5",
                "stroke-width": "1.5",
                d:
                  "M56.473 65.806 69.94 67.7a1.43 1.43 0 001.362-.566 1.35 1.35 0 00.07-1.498l-.002-.002-3.045-5.169-.001-.002a1.45 1.45 0 00-2.242-.315l-.002.002-3.432 3.257-1.572-2.67a1.45 1.45 0 00-2.242-.314l-3.167 3.006a1.35 1.35 0 00-.346 1.459 1.43 1.43 0 001.153.92z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#fff",
                stroke: "#316474",
                "stroke-width": "1.5",
                d:
                  "M52.993 20.177a1.308 1.308 0 00-1.482 1.104 1.31 1.31 0 001.114 1.469 1.308 1.308 0 001.482-1.105 1.31 1.31 0 00-1.114-1.468z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#00B39B",
                d:
                  "M104.001 47.005c.276 0 .551-.006.825-.017a2.001 2.001 0 00-.163-3.997c-.22.01-.44.014-.662.014v4zm0-36c.222 0 .442.004.662.013a2 2 0 10.163-3.996 20.343 20.343 0 00-.825-.017v4zm9.277-1.722a2 2 0 10-1.858 3.543c.391.205.773.426 1.145.662a2 2 0 102.144-3.377 19.782 19.782 0 00-1.431-.828zm7.615 7.012a2 2 0 00-3.377 2.144c.236.372.457.754.663 1.145a2 2 0 103.542-1.858c-.257-.49-.533-.967-.828-1.431zm3.09 9.884a2 2 0 00-3.997.162 16.228 16.228 0 010 1.327 2 2 0 103.997.163 20.603 20.603 0 000-1.652zm-2.262 10.105a2 2 0 00-3.542-1.858 16.26 16.26 0 01-.663 1.144 2 2 0 003.377 2.145c.295-.465.571-.942.828-1.431zm-7.012 7.614a1.999 1.999 0 10-2.144-3.376c-.372.236-.754.457-1.145.662a2 2 0 001.858 3.542c.49-.257.967-.533 1.431-.828zm-10.71-36.893c-11.046 0-20 8.954-20 20s8.954 20 20 20v-4c-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16v-4z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#00B39B",
                d:
                  "M103.549 22.506h-1.875a1.875 1.875 0 010-3.749h3.75c1.035 0 1.875.839 1.875 1.874V33.38a1.875 1.875 0 01-3.75 0V22.506z",
              }),
            ],
            4,
            { fill: "none", viewBox: "0 0 132 117" }
          );
        },
        dp = class extends h.a {
          componentDidMount() {
            "default" === this.props.nuxType
              ? (Ql.N.set(!0), __LOG__(2)`View once NUX marked as seen`)
              : (this.props.nuxType,
                Ql.O.set(!0),
                __LOG__(2)`View once receiver NUX marked as seen`),
              super.componentDidMount();
          }
          addSoftKeys(e, t) {
            var s = this.props.onClose;
            e.setCenterLabel(null == s ? 796 : 767, () => {
              null == s ? t.goBack() : (t.goBack(), s(t));
            }),
              e.setRightLabel(785, () => {
                (0, S.y)(t, S.v);
              });
          }
          render() {
            var e = "receiver" === this.props.nuxType;
            return (0, r.b)(2, a.a, {
              children: [
                (0, r.f)(1, "div", "RN", (0, r.b)(2, cp), 2),
                (0, r.f)(
                  1,
                  "div",
                  "RM GF GC",
                  e
                    ? (0, r.b)(2, o.b, { l10n: 979 })
                    : (0, r.b)(2, o.b, { l10n: 977 }),
                  0
                ),
                (0, r.f)(
                  1,
                  "div",
                  "RL GG GC",
                  e
                    ? (0, r.b)(2, o.b, { l10n: 978 })
                    : (0, r.b)(2, o.b, { l10n: 976 }),
                  0
                ),
              ],
            });
          }
        },
        hp = (0, h.e)(dp),
        up = class e extends n.a {
          static Uh(e) {
            return ["info", ...(0, Tt.c)(e)];
          }
          constructor(t, s) {
            super(t, s),
              (this.Uf = n.e()),
              (this.Ui = (e) => {
                var t = this.props.backend,
                  s = this.props.expiration,
                  r = s !== e;
                WAM.log("regular", 3056, void 0, [
                  4,
                  0,
                  mp(this.props.entryPoint),
                  1,
                  0,
                  s,
                  2,
                  0,
                  r ? e : null,
                ]),
                  r
                    ? (t.updateGeneralSettings({
                        disappearingMsgsDefaultTimer: e,
                      }),
                      t.goBack())
                    : t.goBack();
              }),
              (this.Uj = () => {
                var e, t;
                null == (e = this.Uf) ||
                  null == (t = e.current) ||
                  t.goToNext();
              }),
              (this.Uk = (e, t) => {
                switch (e) {
                  case "info":
                    return (0, r.b)(2, vp, { goNext: this.Uj, selected: t });
                  default:
                    return (0, r.b)(2, pp, {
                      expiration: this.state.expiration,
                      value: e,
                      selected: t,
                      onChange: this.Ui,
                      multipleDurations: !1,
                    });
                }
              }),
              (this.state = { expiration: t.expiration }),
              (this.Ug = (0, bc.a)((t) => e.Uh(t)));
          }
          render() {
            var e = this.Ug(this.props.allowedExpirations);
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 238 }),
              children: (0, r.b)(
                2,
                g.a,
                {
                  items: e,
                  keyOf: gp,
                  start: { item: "info", scrollFromTop: "start" },
                  renderItem: this.Uk,
                },
                null,
                this.Uf
              ),
            });
          }
        },
        pp = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.expiration !== e.expiration ||
                s.selected !== e.selected ||
                s.value !== e.value ||
                s.onChange !== e.onChange ||
                s.multipleDurations !== e.multipleDurations)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.value;
            e.setCenterLabel(796, () => {
              this.props.onChange(s);
            });
          }
          render() {
            var e = this.props,
              t = e.expiration,
              s = e.selected,
              r = e.value;
            return (0, Wt.f)(r, t, s);
          }
        },
        vp = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.goNext !== e.goNext)
            );
          }
          addSoftKeys(e, t) {
            e.setRightLabel(785, bp), e.setCenterLabel(774, this.props.goNext);
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)(Ju, this.props.selected && Qu),
              [
                (0, r.f)(1, "div", Hu, (0, r.b)(2, zu, { className: "RG" }), 2),
                (0, r.f)(
                  1,
                  "div",
                  Xu,
                  [
                    (0, r.b)(2, o.b, { className: "RK", l10n: 236 }),
                    (0, r.b)(2, o.b, { l10n: 237 }),
                  ],
                  4
                ),
              ],
              4
            );
          }
        },
        fp = (0, i.c)((0, h.e)(up), (e, t, s) => {
          var r = e.settings,
            n = e.serverProps;
          return Object.assign({}, s, {
            backend: t,
            expiration: r.disappearingMsgsDefaultTimer || St.i,
            allowedExpirations: n.ephemeralMessagesAllowedValues,
          });
        });
      function gp(e) {
        return String(e);
      }
      function bp(e) {
        (0, S.y)(e, S.c);
      }
      function mp(e) {
        switch (e) {
          case "account-settings":
            return 1;
          case "system-message":
            return 2;
          case "individual-chat-info":
            return 3;
          default:
            return 4;
        }
      }
      var Sp,
        yp,
        kp,
        Cp = s(147),
        wp = s(167);
      function xp(e) {
        var t =
          (null == Sp &&
            (Sp = Promise.all([s.e(4), s.e(13), s.e(69)])
              .then(s.bind(null, 659))
              .then((e) => e.default)),
          Sp);
        return (0, r.b)(2, Cp.a, {
          props: e,
          promise: t,
          fallback: () => (0, r.b)(2, wp.a),
          render: (e, t) => (0, r.i)((0, r.b)(2, t, Object.assign({}, e))),
        });
      }
      function Ip(e) {
        var t =
          (null == yp &&
            (yp = Promise.all([s.e(4), s.e(13), s.e(69)])
              .then(s.bind(null, 660))
              .then((e) => e.default)),
          yp);
        return (0, r.b)(2, Cp.a, {
          props: e,
          promise: t,
          fallback: () => (0, r.b)(2, wp.a),
          render: (e, t) => (0, r.i)((0, r.b)(2, t, Object.assign({}, e))),
        });
      }
      function Lp() {
        var e =
          (null == kp &&
            (kp = s
              .e(164)
              .then(s.bind(null, 654))
              .then((e) => e.default)),
          kp);
        return (0, r.b)(2, Cp.a, {
          props: {},
          promise: e,
          fallback: () => (0, r.b)(2, wp.a),
          render: (e, t) => (0, r.b)(2, t),
        });
      }
      var _p,
        Np = s(210),
        Mp = class extends h.a {
          addSoftKeys(e, t) {
            var s = this.props.inviteCode,
              n = `${Np.a}${s}`;
            e.setCenterLabel(823, () => {
              var e = (0, it.k)([n, 106]),
                s = {
                  imgBlob: null,
                  matchedText: n,
                  canonicalUrl: Np.a,
                  description: e,
                  title: (0, it.k)(403),
                };
              t.openScreen("SHARE_TEXT_SCREEN", { text: e, fallback: s });
            }),
              e.setLeftLabel(663, () => {
                var e = this.props.chat;
                (0, y.h)(
                  {
                    right: 663,
                    onSoftRight: () => (0, Ji.d)(t, e.jid),
                    left: 761,
                    onSoftLeft: "CLOSE",
                    onBack: "CLOSE",
                  },
                  (0, r.f)(
                    1,
                    "div",
                    "Sc",
                    (0, r.b)(2, o.b, {
                      l10n: [(0, c.b)(e.groupInfo.title), 195],
                    }),
                    2
                  )
                );
              }),
              e.setRightLabel(803, () => {
                var e = this.props.chat;
                t.openScreen("GROUP_INVITE_LINK_QR_SCREEN", {
                  url: n,
                  chat: e,
                });
              });
          }
          render() {
            var e = this.props.inviteCode,
              t = `${Np.a}${e}`;
            return (0, r.b)(2, a.a, {
              title: (0, r.b)(2, o.b, { l10n: 406 }),
              children: (0, r.f)(
                1,
                "div",
                null,
                (0, r.f)(
                  1,
                  "div",
                  "Sc",
                  [
                    (0, r.b)(2, o.b, { l10n: 397 }),
                    (0, r.f)(1, "div", "Sd", t, 0),
                  ],
                  4
                ),
                2
              ),
            });
          }
        },
        Op = (0, h.e)(Mp);
      function Tp() {
        var e =
          (null == _p &&
            (_p = s
              .e(154)
              .then(s.bind(null, 655))
              .then((e) => e.default)),
          _p);
        return (0, r.b)(2, Cp.a, {
          props: {},
          promise: e,
          fallback: () => (0, r.b)(2, wp.a),
          render: (e, t) => (0, r.b)(2, t),
        });
      }
      var Pp = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Tt = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) =>
                  (0, W.a)((0, d.c)(e, this.props.contacts), s)
                );
              }),
              (this.Tu = (e, t) =>
                (0, r.b)(2, Rp, {
                  adminJid: e,
                  groupJid: this.props.chat.jid,
                  selected: t,
                  contacts: this.props.contacts,
                })),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.chat !== e.chat || s.contacts !== e.contacts);
          }
          addSoftKeys(e) {
            e.addCancel();
          }
          render() {
            var e = (0, r.b)(2, o.b, { l10n: 505 }),
              t =
                0 === this.props.chat.groupInfo.admins
                  ? void 0
                  : { filter: this.Tt, emptyLabel: 243 };
            return (0, r.b)(2, b.a, {
              title: e,
              children: (0, r.b)(2, g.c, {
                items: this.props.chat.groupInfo.admins,
                keyOf: Ep,
                search: t,
                estimatedItemHeight: D.c,
                emptyLabel: 504,
                renderItem: this.Tu,
              }),
            });
          }
        },
        Ap = (0, i.c)((0, h.e)(Pp), (e, t, s) => ({
          backend: t,
          contacts: e.contacts,
          chat: s.chat,
        }));
      function Ep(e) {
        return e;
      }
      var Rp = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.adminJid !== e.adminJid ||
                s.groupJid !== e.groupJid ||
                s.selected !== e.selected ||
                s.contacts !== e.contacts)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.adminJid,
              n = s.groupJid;
            e.setCenterLabel(180, () => {
              (0, Ne.a)(t, r, "unread", {
                text: "",
                quote: { type: "group", groupJid: n },
              });
            });
          }
          render() {
            var e = this.props,
              t = e.contacts,
              s = e.adminJid,
              n = e.selected,
              a = (0, F.g)(t, s);
            return (0, r.b)(2, m.f, {
              contact: (0, d.c)(s, t),
              selected: n,
              rawSubtitle:
                null == a
                  ? null
                  : (0, r.f)(1, "span", null, (0, c.b)("~" + a), 0, {
                      dir: "auto",
                    }),
            });
          }
        },
        Gp = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { forceRefetch: void 0 }),
              (this.Tk = () => {
                "forceRefetch" !== this.state.forceRefetch &&
                  this.setState({ forceRefetch: "forceRefetch" });
              }),
              e
            );
          }
          render() {
            return (0, r.b)(2, Cp.a, {
              promise: this.props.backend.loadMsgContentBlob(
                this.props.msgId,
                this.props.contentRef,
                this.state.forceRefetch
              ),
              props: {
                onLoadError: this.Tk,
                caption: this.props.caption,
                captionFormatting: this.props.captionFormatting,
                onViewed: this.props.onViewed,
                onMsgInfo: this.props.onMsgInfo,
                onReportContact: this.props.onReportContact,
                onClose: this.props.onClose,
              },
              render: jp,
              fallback: Dp,
            });
          }
        },
        Up = (0, i.j)((0, h.e)(Gp, { fullscreen: !0 }));
      function Dp() {
        return (0, r.b)(2, Od);
      }
      function jp(e, t) {
        return t
          ? (0, r.b)(2, de, {
              src: { blob: t },
              onLoadError: e.onLoadError,
              caption: e.caption,
              captionFormatting: e.captionFormatting,
              onViewed: e.onViewed,
              onMsgInfo: e.onMsgInfo,
              onReportContact: e.onReportContact,
              onClose: e.onClose,
            })
          : Dp();
      }
      var Bp = "QY NN",
        Vp = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.UB = n.e()),
              (this.UC = n.e()),
              (this.UD = !1),
              (this.state = { blob: null, isReady: !1 }),
              (this.UE = () =>
                this.props.backend.loadMsgContentBlob(
                  this.props.msgId,
                  this.props.contentRef
                )),
              e
            );
          }
          componentDidMount() {
            this.UD = !0;
            var e,
              t = Promise.resolve();
            if (this.props.isNotNativeSupport) {
              var s = ((e = this.props.msgId), Qr.get(e));
              null != s &&
                this.UC.current &&
                (t = Xr(this.props.msgId, this.UC.current, s));
            }
            this.UE().then((e) => {
              this.UD &&
                (this.props.isNotNativeSupport
                  ? t.then(() => this.UF(e))
                  : this.setState({ blob: e, isReady: !0 }));
            }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.UD = !1), super.componentWillUnmount();
          }
          UF(e) {
            null != e &&
              (__LOG__(
                2
              )`Converting sticker blob as the device doesn't support WebP`,
              Promise.all([s.e(179).then(s.bind(null, 663)), (0, U.h)(e)]).then(
                (e) => {
                  var t = yr()(e, 2),
                    s = t[0],
                    r = t[1];
                  this.UD &&
                    this.UC.current &&
                    r instanceof ArrayBuffer &&
                    s
                      .processWebpToCanvas(
                        this.props.msgId,
                        this.UC.current,
                        r,
                        this.props.backend,
                        !1
                      )
                      .then(() => {
                        this.UD && this.setState({ isReady: !0 });
                      });
                }
              ));
          }
          addSoftKeys(e, t) {
            e.setBack(oe.a);
          }
          render() {
            var e,
              t = this.props.isNotNativeSupport,
              s = this.state.isReady;
            return (
              (e = t
                ? (0, r.c)(
                    [
                      (0, r.f)(
                        1,
                        "canvas",
                        (0, Oe.a)(Bp, !s && "QZ"),
                        null,
                        1,
                        null,
                        null,
                        this.UC
                      ),
                      !s && (0, r.b)(2, Od, { className: "Qa" }),
                    ],
                    0
                  )
                : null != this.state.blob
                ? (0, r.b)(2, te.b, {
                    innerRef: this.UB,
                    blob: this.state.blob,
                    className: Bp,
                  })
                : (0, r.b)(2, Od)),
              (0, r.f)(1, "div", "QX NM", e, 0)
            );
          }
        },
        Fp = (0, i.j)(Vp),
        Wp = class extends n.b {
          render() {
            return (0, r.b)(2, Fp, {
              msgId: this.props.msgId,
              contentRef: this.props.contentRef,
              isNotNativeSupport: this.props.isNotNativeSupport,
            });
          }
        },
        Kp = (0, i.j)((0, h.e)(Wp, { fullscreen: !0 })),
        zp = s(499),
        Hp = s(238),
        Jp = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.UL = (e, t, s) => {
                var r = s.getAttribute("data-content-type");
                if ("phoneNumber" === r) {
                  var n = s.getAttribute("data-matched-phone-number");
                  if (null == n)
                    return (
                      __LOG__(
                        4
                      )`Tried to link a phone number without specifying value for it`,
                      void SEND_LOGS("phone-number-value-not-specified")
                    );
                  var a = (0, ee.B)(n),
                    i = (0, d.c)(a, this.props.contacts);
                  (0, d.k)(i)
                    ? e.setCenterLabel(833, () => {
                        (0, Vn.a)(t, i.jid);
                      })
                    : e.setCenterLabel(171, () => {
                        var e = s.getAttribute("data-matched-text");
                        if (null == e)
                          return (
                            __LOG__(
                              4
                            )`Tried to open add a contact without specifying a phone number for it`,
                            void SEND_LOGS("phone-number-not-specified")
                          );
                        (0, Vt.a)(t, { tel: e });
                      });
                } else
                  e.setCenterLabel(797, () => {
                    var e = s.getAttribute("href");
                    if (null == e)
                      return (
                        __LOG__(
                          4
                        )`Tried to open a link that had no attribute href`,
                        void SEND_LOGS("no-attribute-href")
                      );
                    var n = s.getAttribute("data-matched-text");
                    if (null != n) {
                      var a = this.props.msg.meta,
                        i = a.author,
                        o = a.fromMe ? Ql.r.get() : i && $c.i(i),
                        l = o
                          ? (0, Hp.a)(n, o, Ql.r.get(), [(0, it.d)().lg])
                          : null;
                      l ? (0, ba.a)(t, n, l, e) : (0, Ls.a)(t, e);
                    } else
                      "mention" === r
                        ? (0, Ls.a)(t, e)
                        : (__LOG__(
                            4
                          )`Tried to open a link that had no attribute data-matched-text. data-content-type: ${r}`,
                          SEND_LOGS("data-matched-text"));
                  });
              }),
              e
            );
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: this.props.title,
              children: (0, r.b)(2, zp.a, {
                addLinkSoftkeys: this.UL,
                topSelectedCallback: this.props.topSelectedCallback,
                disabled: !1,
                children: this.props.children,
              }),
            });
          }
        },
        Qp = "PS",
        Xp = s(324),
        qp = s(106),
        $p = "all",
        Yp = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.UG = !1),
              (this.UI = () => {
                var e = this.state.tabIndex;
                e > 0 && this.setState({ tabIndex: e - 1 });
              }),
              (this.UH = () => {
                var e = this.state.tabIndex;
                e < this.props.reactions.tabs.length - 1 &&
                  this.setState({ tabIndex: e + 1 });
              }),
              (this.UK = (e, t) => {
                var s,
                  n = this.props,
                  a = n.contacts,
                  i = n.reactions;
                return (
                  (s =
                    "@me" === e.author ? { jid: nr.a } : (0, d.c)(e.author, a)),
                  (0, r.b)(2, ev, {
                    msgId: i.msgId,
                    contact: s,
                    selected: t,
                    text: e.text,
                  })
                );
              }),
              (this.state = { tabIndex: 0 }),
              (this.UG = (0, it.g)());
          }
          addSoftKeys(e, t) {
            e.setBack(() => {
              (0, y.a)(), this.props.onClose();
            }),
              this.UG
                ? e.setLeftRightArrows(this.UH, this.UI)
                : e.setLeftRightArrows(this.UI, this.UH);
          }
          UJ() {
            var e = this.state.tabIndex,
              t = this.props.reactions.tabs[e];
            return (0, r.b)(2, Xp.a, {
              items: t.items,
              keyOf: tv,
              renderItem: this.UK,
              preventLoop: !0,
              emptyLabel: 614,
            });
          }
          render() {
            var e = this.state.tabIndex,
              t = this.UJ();
            return (0, r.f)(
              1,
              "div",
              "QQ",
              [
                (0, r.b)(2, Bo, {
                  icon: sv,
                  items: this.props.reactions.tabs,
                  selected: !0,
                  selectedIndex: e,
                }),
                (0, r.f)(1, "div", "QR", t, 0),
              ],
              4
            );
          }
        },
        Zp = (0, i.c)(Yp, (e, t, s) =>
          Object.assign({}, s, { contacts: e.contacts })
        ),
        ev = class extends Ms.b {
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contact,
              n = s.msgId;
            "@me" === r.jid &&
              e.setCenterLabel(804, () => {
                (0, di.c)(n);
              });
          }
          render() {
            var e = this.props,
              t = e.contact,
              s = e.selected,
              n = e.text,
              a = "@me" === t.jid ? 619 : void 0,
              i = (0, r.f)(1, "span", "QW", (0, c.c)(n), 0);
            return (0, r.b)(2, m.f, {
              contact: t,
              selected: s,
              subtitle: a,
              rightComponent: i,
            });
          }
        };
      function tv(e) {
        return e.author;
      }
      function sv(e) {
        var t = e.item,
          s = t.key,
          n = t.label,
          a = t.items.length,
          i =
            s === $p && a > 999
              ? (0, r.b)(2, o.b, { className: "QT", l10n: [999, 178] })
              : (0, r.f)(1, "span", "QT", a, 0);
        return (0, r.f)(
          1,
          "span",
          (0, Oe.a)(e.selected && "QU", "QS", e.className),
          [
            s === $p
              ? (0, r.b)(2, o.b, { l10n: 613, className: "QV" })
              : (0, c.c)(n),
            i,
          ],
          0
        );
      }
      function rv(e, t) {
        return e.author === nr.a
          ? -1
          : t.author === nr.a
          ? 1
          : (0, qp.b)(e.ts, t.ts)
          ? -1
          : 1;
      }
      var nv = {
        type: "ONE_TO_ONE",
        read: null,
        played: null,
        delivered: null,
      };
      function av(e) {
        switch (e.chat.type) {
          case "ONE_TO_ONE":
            return (function (e) {
              if (!e.msgInfo) return nv;
              var t = e.msgInfo.acks;
              if (!t) return nv;
              var s = (0, U.w)(t);
              if (
                (s.length > 1 &&
                  __LOG__(
                    4
                  )`Mutiple acks for one to one conversation, msg: ${e.msg.id}, acks: ${s}`,
                s.length > 0)
              ) {
                var r = t[s[0]];
                return {
                  type: "ONE_TO_ONE",
                  read: r[Gs.a.READ],
                  played: r[Gs.a.PLAYED],
                  delivered: r[Gs.a.RECEIVED],
                };
              }
              return nv;
            })(e);
          case "GROUP":
            return (function (e) {
              var t = {
                type: "GROUP",
                read: { contacts: [], remaining: 0 },
                played: { contacts: [], remaining: 0 },
                delivered: { contacts: [], remaining: 0 },
              };
              if (!e.msgInfo) return t;
              var s = e.msgInfo.acks;
              return s
                ? (0, U.w)(s).reduce((t, r) => {
                    var n = (0, d.c)(r, e.contacts),
                      a = s[r];
                    return null != a[Gs.a.PLAYED]
                      ? (t.played.contacts.push({
                          contact: n,
                          at: a[Gs.a.PLAYED],
                        }),
                        t)
                      : ((t.played.remaining += 1),
                        null != a[Gs.a.READ]
                          ? (t.read.contacts.push({
                              contact: n,
                              at: a[Gs.a.READ],
                            }),
                            t)
                          : ((t.read.remaining += 1),
                            null != a[Gs.a.RECEIVED]
                              ? (t.delivered.contacts.push({
                                  contact: n,
                                  at: a[Gs.a.RECEIVED],
                                }),
                                t)
                              : ((t.delivered.remaining += 1), t)));
                  }, t)
                : t;
            })(e);
          default:
            return (0, f.a)(e.chat);
        }
      }
      function iv(e) {
        return e.forwarded && null != e.forwarded.score
          ? e.forwarded.score
          : null;
      }
      var ov = {
          gif: !0,
          voice: !0,
          video: !0,
          image: !0,
          location: !0,
          group_invite: !0,
          document: !0,
        },
        lv = {
          linkPreview: !0,
          gif: !0,
          voice: !0,
          video: !0,
          visualMedia: !0,
          locationMap: !0,
          groupInvite: !0,
          document: !0,
        };
      function cv(e) {
        return (
          ("text" === e.content.type && null != e.content.linkPreview) ||
          !0 === ov[e.content.type]
        );
      }
      var dv = (0, bc.b)((e, t) =>
          t
            ? (function (e, t) {
                if (0 === t.length)
                  return {
                    msgId: e,
                    tabs: [{ key: $p, label: $p, items: [] }],
                  };
                var s = [],
                  r = t.map((e) => {
                    var t = e.label,
                      r = e.hasFromMe,
                      n = e.reactions,
                      a = t;
                    s.push(...n);
                    var i = n.sort(rv);
                    return r
                      ? { key: a, hasMe: !0, items: i, label: t }
                      : { key: a, items: i, label: t };
                  });
                return (
                  r.unshift({ key: $p, label: $p, items: s.sort(rv) }),
                  { msgId: e, tabs: r }
                );
              })(e, t)
            : void 0
        ),
        hv = class extends h.a {
          static getDerivedStateFromProps(e) {
            return {
              infos: av(e),
              forwardingScore: iv(e.msg),
              isTopSelectable: cv(e.msg),
              reactionTabs: dv(e.msg.id, e.msgReactions),
            };
          }
          constructor(e, t) {
            super(e, t),
              (this.Tn = (e) => {
                this.state.isTopSelectable &&
                  this.setState({ isTopSelected: e });
              }),
              (this.Tm = (e) => {
                var t, s;
                this.Tl =
                  ((t = e),
                  (s = this.To),
                  (0, y.b)((0, r.b)(2, Zp, { reactions: t, onClose: s })));
              }),
              (this.To = () => {
                this.Tl = void 0;
              });
            var s = cv(e.msg);
            this.state = {
              infos: av(e),
              forwardingScore: iv(e.msg),
              isTopSelectable: s,
              isTopSelected: s,
            };
          }
          componentWillUnmount() {
            this.props.backend.dispatch({ type: "STOP_ANY_MEDIA" }),
              super.componentWillUnmount();
          }
          componentDidUpdate(e, t) {
            null != this.Tl &&
              this.state.reactionTabs &&
              t.reactionTabs !== this.state.reactionTabs &&
              this.Tm(this.state.reactionTabs),
              super.componentDidUpdate(e, t);
          }
          addSoftKeys(e, t) {
            e.setLeftAsBack();
            var s = this.props.msg;
            s.reactions &&
              s.reactions.count > 0 &&
              e.setRightLabel(622, () => {
                var e = this.state.reactionTabs;
                if (e) return this.Tm(e);
                var r = (0, y.i)({
                  left: 761,
                  onSoftLeft: "CLOSE",
                  close: () => {
                    (0, y.a)(), this.To();
                  },
                });
                (this.Tl = r), (0, di.b)(t, s.id);
              });
          }
          Tp() {
            return ((e = this.props.msg),
            (t = "GROUP" === this.props.chat.type ? Gs.h.SHOW_AUTHOR : 0),
            (s = []),
            (n = null),
            (0, Rs.e)(
              e,
              0,
              function (e) {
                __LOG__(
                  3
                )`You should no be able to open this screen for a MsgListItem, only for MsgListItemMsgPart. ${e.key}`;
              },
              function (e) {
                null == n
                  ? (e.grouping |= t)
                  : ((n.grouping |= Gs.h.JOINED_WITH_NEXT),
                    (e.grouping |= Gs.h.JOINED_WITH_PREV)),
                  s.push(e),
                  (n = e);
              }
            ),
            s).map((e) => {
              var t = this.state.isTopSelected && !0 === lv[e.type];
              return (0, r.b)(
                2,
                Li,
                {
                  part: e,
                  selected: t,
                  darkBackground: this.props.isDarkBackground,
                  playGif: !0,
                  truncated: !1,
                  ephemeralInfo: this.props.ephemeralInfo,
                },
                e.key
              );
            });
            var e, t, s, n;
          }
          Tq() {
            var e = this.props,
              t = e.msg,
              s = e.chat,
              n = e.frequentlyForwardedMessages,
              a = e.ephemeralInfo,
              i = this.state.forwardingScore;
            if (!t.meta.fromMe || "revoked" === t.content.type)
              return (0, r.c)([mv(t, s.jid), bv(t, a), kv(t)], 0);
            if (null == this.state.infos) return null;
            switch (this.state.infos.type) {
              case "ONE_TO_ONE":
                var o = this.state.infos;
                return (0, r.c)(
                  [
                    mv(t, s.jid),
                    (0, Gs.D)(t) &&
                      (0, r.c)(
                        [
                          (0, r.b)(2, vv, { title: 514 }),
                          (0, r.b)(2, gv, {
                            at: o.played,
                            ack: Gs.a.PLAYED,
                            playedIcon: (0, r.b)(2, pr.a, { className: "PW" }),
                          }),
                        ],
                        4
                      ),
                    (0, Gs.E)(t) &&
                      null != t.content.viewOnceState &&
                      (0, r.c)(
                        [
                          (0, r.b)(2, vv, { title: 517 }),
                          (0, r.b)(2, gv, {
                            at: o.played,
                            ack: Gs.a.PLAYED,
                            playedIcon: (0, ln.c)(
                              t.content.viewOnceState,
                              "PX"
                            ),
                          }),
                        ],
                        4
                      ),
                    (0, r.b)(2, vv, { title: (0, Gs.E)(t) ? 975 : 515 }),
                    (0, r.b)(2, gv, { at: o.read, ack: Gs.a.READ }),
                    (0, r.b)(2, vv, { title: 513 }),
                    (0, r.b)(2, gv, { at: o.delivered, ack: Gs.a.RECEIVED }),
                    kv(t),
                    n && (0, r.b)(2, fv, { value: i }),
                  ],
                  0
                );
              case "GROUP":
                var l = this.state.infos;
                return (0, r.c)(
                  [
                    (0, Gs.E)(t) && yv(517, l.played, !1),
                    (0, Gs.D)(t) && yv(514, l.played, !1),
                    yv(515, l.read, !0),
                    yv(513, l.delivered, !1),
                    kv(t),
                    (0, r.b)(2, fv, { value: i }),
                  ],
                  0
                );
              default:
                return (0, f.a)(this.state.infos.type);
            }
          }
          render() {
            var e = mc(this.props.chatBackground);
            return (0, r.b)(2, Jp, {
              msg: this.props.msg,
              contacts: this.props.contacts,
              topSelectedCallback: this.state.isTopSelectable ? this.Tn : null,
              children: [
                (0, r.f)(1, "div", "PO", this.Tp(), 0, { style: n.h(e) }),
                (0, r.f)(1, "div", "PP", this.Tq(), 0),
              ],
            });
          }
        },
        uv = (0, i.c)((0, h.e)(hv), (e, t, s) => {
          var r = e.contacts,
            n = e.user,
            a = e.chatlist,
            i = e.serverProps,
            o = a.chats[s.msg.chatId];
          if (!o)
            return __LOG__(3)`MsgInfos no chat found ${s.msg.chatId}`, null;
          var l = Sc(
              o.chatBackgroundSettings,
              e.settings.chatBackgroundSettings
            ),
            c = l.chatBackground,
            d = l.isDarkBackground;
          return {
            msg: s.msg,
            chat: o,
            msgInfo: s.msgInfo,
            msgReactions: s.msgReactions,
            contacts: r,
            user: n,
            player: e.player,
            backend: t,
            receivedGroupInviteRevokes: e.receivedGroupInviteRevokes,
            sentGroupInviteRevokes: e.sentGroupInviteRevokes,
            ephemeralInfo: (0, Tt.b)(o, r),
            chatBackground: c,
            isDarkBackground: d,
            frequentlyForwardedMessages: i.frequentlyForwardedMessages,
          };
        }),
        pv = (0, r.f)(1, "div", "Pa", l.a, 0);
      function vv(e) {
        return (0, r.f)(1, "div", "PQ", (0, r.b)(2, o.b, { l10n: e.title }), 2);
      }
      function fv(e) {
        var t = e.value;
        return null == t
          ? null
          : (0, r.c)(
              [
                (0, r.f)(1, "div", "PR PQ"),
                (0, r.f)(1, "div", Qp, (0, r.b)(2, o.b, { l10n: [t, 158] }), 2),
              ],
              4
            );
      }
      function gv(e) {
        var t = e.at,
          s = e.ack,
          n = e.playedIcon,
          a = null;
        return (
          s === Gs.a.PLAYED
            ? (a = n)
            : void 0 !== s && (a = (0, r.b)(2, kr.a, { ack: s })),
          (0, r.f)(
            1,
            "div",
            "PT PS",
            [
              (0, r.f)(
                1,
                "div",
                "PU GI GE",
                null != t ? (0, r.b)(2, o.a, { unix: t }) : pv,
                0
              ),
              (0, r.f)(1, "div", "PV", a, 0),
            ],
            4
          )
        );
      }
      function bv(e, t) {
        if (e.meta.fromMe || null == t) return null;
        var s = t.expiration,
          n = e.expiration || St.i;
        return s > St.i && n === St.i
          ? (0, r.f)(1, "div", Qp, (0, r.b)(2, o.b, { l10n: 271 }), 2)
          : (s === St.i && n > St.i) || (s > St.i && n !== s)
          ? (0, r.f)(
              1,
              "div",
              Qp,
              (0, r.b)(2, o.b, { l10n: [(0, r.b)(2, Wt.a, { value: n }), 74] }),
              2
            )
          : null;
      }
      function mv(e, t) {
        return e.bizConflict && (0, ee.q)(t)
          ? ((s =
              e.bizInfo && e.bizInfo.bsp
                ? (0, kt.g)(e.bizInfo.bsp, {
                    SO: () => (0, r.b)(2, o.b, { l10n: 56 }),
                    SF: () => (0, r.b)(2, o.b, { l10n: 57 }),
                    BF: () => (0, r.b)(2, o.b, { l10n: 57 }),
                    BO: () => (0, r.b)(2, o.b, { l10n: 55 }),
                  })
                : (0, r.b)(2, o.b, { l10n: 56 })),
            (0, r.f)(1, "div", Qp, s, 0))
          : null;
        var s;
      }
      function Sv(e) {
        return (0, r.b)(
          2,
          m.f,
          {
            contact: e.contact,
            selected: !1,
            rawSubtitle: (0, r.b)(2, o.a, { unix: e.at }),
          },
          e.contact.jid
        );
      }
      function yv(e, t, s) {
        var n = (function (e, t) {
          return 0 === e
            ? null
            : (0, r.f)(
                1,
                "div",
                "PY " + (t ? "PZ" : ""),
                (0, r.b)(2, o.b, { l10n: [e, 159] }),
                2
              );
        })(t.remaining, t.contacts.length > 0);
        return null == n && 0 === t.contacts.length
          ? s
            ? (0, r.f)(1, "div", Qp, pv, 0)
            : null
          : (0, r.c)([(0, r.b)(2, vv, { title: e }), t.contacts.map(Sv), n], 0);
      }
      function kv(e) {
        return (0, r.c)(
          [(0, r.b)(2, vv, { title: 516 }), (0, r.b)(2, gv, { at: e.ts })],
          4
        );
      }
      var Cv = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.filter = (e, t) => {
                var s = (0, W.g)(e);
                return t.filter((e) =>
                  (0, W.a)((0, d.c)(e, this.props.contacts), s)
                );
              }),
              (this.Tj = (e, t) => {
                var s = this.props,
                  n = s.contacts,
                  a = s.blocked,
                  i = s.isVoipAvailable;
                return (0, r.b)(2, wv, {
                  contact: (0, d.c)(e, n),
                  isBlocked: Boolean(a[e]),
                  selected: t,
                  isVoipAvailable: i,
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.blocked !== e.blocked ||
                s.contacts !== e.contacts ||
                s.isVoipAvailable !== e.isVoipAvailable ||
                s.items !== e.items)
            );
          }
          addSoftKeys(e, t) {
            e.addCancel(),
              e.setRightOptions(() => {
                var e = new V.a();
                e.add(526, () => (0, Vt.b)(t)),
                  e.add(527, t.syncAllContacts, "interactive"),
                  (0, y.j)(e);
              });
          }
          render() {
            var e = this.props.items,
              t =
                0 === e.length
                  ? void 0
                  : { filter: this.filter, emptyLabel: 522 };
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 792 }),
              children: (0, r.b)(2, g.c, {
                items: e,
                keyOf: Iv,
                search: t,
                estimatedItemHeight: D.c,
                emptyLabel: 521,
                renderItem: this.Tj,
              }),
            });
          }
        },
        wv = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contact !== e.contact ||
                s.isBlocked !== e.isBlocked ||
                s.selected !== e.selected ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              n = s.contact,
              a = s.isVoipAvailable,
              i = s.isBlocked;
            if (a) {
              var o = () => (0, _e.a)(n, t, i, "newCall");
              e.setCenterIcon((0, r.b)(2, Te, { className: "PH q p" }), o),
                e.setOnCall(o);
            }
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.contact;
            return (0, r.b)(2, m.f, { contact: s, selected: t });
          }
        },
        xv = (0, i.f)(
          (0, h.e)(Cv),
          (e) => ({
            blocked: e.blocked,
            contacts: e.contacts,
            isVoipAvailable: e.isVoipAvailable,
          }),
          (e) => {
            var t = e.blocked,
              s = e.contacts;
            return {
              blocked: t,
              contacts: s,
              isVoipAvailable: e.isVoipAvailable,
              items: (0, F.k)(s).map((e) => e.jid),
            };
          }
        );
      function Iv(e) {
        return e;
      }
      var Lv = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M15.313 15.672c2.401 0 4.237-1.835 4.237-4.235S17.713 7.2 15.313 7.2s-4.235 1.836-4.235 4.237 1.834 4.235 4.235 4.235zm9.349-.64c1.571 0 2.773-1.201 2.773-2.772 0-1.571-1.202-2.773-2.773-2.773s-2.772 1.202-2.772 2.773c0 1.571 1.201 2.772 2.772 2.772zm-1.724 5.841a7.856 7.856 0 00-.889-1.107 8.074 8.074 0 00-1.825-1.413 9.05 9.05 0 00-.675-.346l-.021-.009c-1.107-.502-2.5-.851-4.232-.851-1.732 0-3.124.349-4.232.851l-.112.054a9.247 9.247 0 00-.705.374 8.137 8.137 0 00-1.705 1.341 7.991 7.991 0 00-.656.773 8.584 8.584 0 00-.233.334c-.063.095-.116.184-.164.263l-.012.02a4.495 4.495 0 00-.213.408v2.276h16.061v-2.276s-.07-.164-.225-.427a4.257 4.257 0 00-.162-.265zm1.724-4.357c-1.333 0-2.376.3-3.179.713a9.409 9.409 0 011.733 1.218c1.402 1.25 1.959 2.503 2.017 2.641l.021.049h4.954v-1.571s-1.294-3.05-5.546-3.05zM9.41 13.78H6.261v-3.152H4.344v3.152H1.2v1.918h3.144v3.145h1.917v-3.145H9.41V13.78z",
            }),
            2,
            { viewBox: "0 0 32 32" }
          );
        },
        _v = s(409),
        Nv = { type: "ADD_CONTACT" },
        Mv = { type: "NEW_GROUP" },
        Ov = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Tr = (e, t) => {
                var s = (0, W.g)(e),
                  r = t.filter((e) => {
                    switch (e.type) {
                      case "ADD_CONTACT":
                      case "NEW_GROUP":
                      case "CONTACTS_HELP":
                        return !1;
                      default:
                        return (0, W.a)(
                          (0, d.c)(e.jid, this.props.contacts),
                          s
                        );
                    }
                  });
                return r.push({ type: "CONTACTS_HELP" }), r;
              }),
              (this.Ts = (e, t, s, n) => {
                var a,
                  i,
                  o = 0 === s || n[s - 1].type !== e.type;
                switch (e.type) {
                  case "ADD_CONTACT":
                    a = (0, r.b)(2, Pv, { selected: t });
                    break;
                  case "NEW_GROUP":
                    a = (0, r.b)(2, Tv, { selected: t });
                    break;
                  case "CONTACTS_HELP":
                    a = (0, r.b)(2, _v.a, { selected: t });
                    break;
                  case "CONTACT":
                    var l = this.props,
                      c = l.blocked,
                      h = l.contacts,
                      u = l.isVoipAvailable;
                    a = (0, r.b)(2, Av, {
                      contact: (0, d.c)(e.jid, h),
                      selected: t,
                      isBlocked: Boolean(c[e.jid]),
                      isVoipAvailable: u,
                    });
                    break;
                  case "NON_WA":
                    var p = this.props.contacts;
                    o && (i = (0, r.b)(2, m.g, { text: 468 })),
                      (a = (0, r.b)(2, Ev, {
                        contact: (0, d.c)(e.jid, p),
                        selected: t,
                      }));
                    break;
                  default:
                    return (0, f.a)(e.type);
                }
                return i ? (0, r.c)([i, a], 0) : a;
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.items !== e.items ||
                s.contacts !== e.contacts ||
                s.numContacts !== e.numContacts ||
                s.blocked !== e.blocked ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            e.addCancel(),
              e.setRightOptions(() => {
                var e = new V.a();
                e.add(526, () => (0, Vt.b)(t)),
                  e.add(527, t.syncAllContacts, "interactive"),
                  (0, y.j)(e);
              });
          }
          render() {
            var e = this.props,
              t = e.items,
              s = e.numContacts,
              n =
                0 === t.length ? void 0 : { filter: this.Tr, emptyLabel: 525 };
            return (0, r.b)(2, b.a, {
              title: Uv(s),
              children: (0, r.b)(2, g.c, {
                items: t,
                keyOf: Gv,
                search: n,
                estimatedItemHeight: D.c,
                emptyLabel: 524,
                renderItem: this.Ts,
              }),
            });
          }
        },
        Tv = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("NEW_GROUP_INITIAL", {});
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              selected: this.props.selected,
              title: 528,
              icon: (0, r.b)(2, Lv),
            });
          }
        },
        Pv = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              (0, Vt.b)(t);
            });
          }
          render() {
            return (0, r.b)(2, m.j, {
              selected: this.props.selected,
              title: 526,
              icon: (0, r.b)(2, Fn.a),
            });
          }
        },
        Av = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.contact !== e.contact ||
                s.isBlocked !== e.isBlocked ||
                s.isVoipAvailable !== e.isVoipAvailable)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contact,
              n = s.isVoipAvailable,
              a = s.isBlocked;
            e.setCenterLabel(797, () => {
              (0, Ne.a)(t, r.jid, "unread");
            }),
              n && e.setOnCall(() => (0, _e.a)(r, t, a, "newChat"));
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.contact;
            return (0, r.b)(2, m.f, { contact: s, selected: t });
          }
        },
        Ev = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.selected !== e.selected || s.contact !== e.contact)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.contact.phonebookPhone;
            s &&
              e.setCenterLabel(782, () => {
                (0, A.l)(t, s, (0, it.k)(467));
              });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.contact;
            return (0, r.b)(2, m.f, { contact: s, selected: t });
          }
        },
        Rv = (0, i.c)((0, h.e)(Ov), (e) => {
          var t = (0, F.k)(e.contacts),
            s = (0, F.i)(e.contacts),
            r = [];
          return (
            t.length > 0 && r.push(Mv),
            t.forEach((e) => {
              r.push({ type: "CONTACT", jid: e.jid });
            }),
            s.forEach((e) => {
              r.push({ type: "NON_WA", jid: e.jid });
            }),
            r.push(Nv),
            {
              items: r,
              contacts: e.contacts,
              numContacts: t.length,
              blocked: e.blocked,
              isVoipAvailable: e.isVoipAvailable,
            }
          );
        });
      function Gv(e) {
        switch (e.type) {
          case "CONTACT":
          case "NON_WA":
            return e.jid;
          default:
            return e.type;
        }
      }
      function Uv(e) {
        return (0, r.f)(
          1,
          "span",
          null,
          (0, r.b)(2, o.b, { l10n: [e, 160] }),
          2
        );
      }
      var Dv = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Te = !1),
              (this.Tf = (e, t) => {
                switch (e) {
                  case "subject":
                    var s = this.props,
                      n = s.maxSubject,
                      a = s.groupSubject;
                    return (0, r.b)(2, Bv, {
                      selected: t,
                      maxSubject: n,
                      initialSubject: a || "",
                      onChange: (e) => this.setState({ groupSubject: e }),
                      subject: this.state.groupSubject,
                    });
                  case "image":
                    var i = this.state.image;
                    return (0, r.b)(2, Vv, {
                      selected: t,
                      initialImage: i,
                      onChange: (e) => this.setState({ image: e }),
                    });
                  case "disappearing-mode":
                    return (0, r.b)(2, Kv, {
                      selected: t,
                      expiration: this.state.expiration,
                      onExpirationSelected: this.Tg,
                    });
                  default:
                    var o = this.props,
                      l = o.selectedContacts,
                      c = o.contacts,
                      d = (0, r.b)(2, Fv, { contacts: c, jid: e, selected: t });
                    return e === l[0]
                      ? (0, r.c)(
                          [(0, r.b)(2, m.g, { text: [l.length, 161] }), d],
                          0
                        )
                      : d;
                }
              }),
              (this.Tg = (e) => {
                this.Te && this.setState({ expiration: e });
              }),
              (this.state = {
                groupSubject: e.groupSubject || "",
                image: e.image,
                expiration: e.expiration,
              });
          }
          componentDidMount() {
            (this.Te = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Te = !1), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.selectedContacts,
              n = s.maxSubject,
              a = s.fromScreenId,
              i = this.state,
              o = i.groupSubject,
              l = i.image,
              c = i.expiration,
              d = () => {
                t.updateScreen(a, {
                  type: "NEW_GROUP_INITIAL",
                  props: { selectedContacts: r, groupSubject: o, image: l },
                }),
                  t.goBack();
              };
            e.setLeftLabel(761, d), e.setBack(d);
            var h = o.trim();
            "" !== h &&
              e.setCenterLabel(772, () => {
                (0, Hc.a)(h) > n
                  ? (0, y.e)({ title: 229, text: 430 })
                  : (t.closeAllScreens(),
                    t.createGroup(h, r, l, (0, Lt.E)(), c));
              });
          }
          render() {
            var e = this.props,
              t = e.selectedContacts,
              s = e.items;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: [t.length, 162] }),
              children: (0, r.b)(2, g.c, {
                items: s,
                keyOf: zv,
                estimatedItemHeight: D.c,
                renderItem: this.Tf,
                deps: [this.state.groupSubject, this.state.image],
              }),
            });
          }
        },
        jv = (0, i.c)((0, h.e)(Dv), (e, t, s) => {
          var r = s.selectedContacts,
            n = s.groupSubject,
            a = s.image,
            i = s.fromScreenId,
            o = [];
          return (
            o.push("subject"),
            (0, Tn.a)("disappearing_mode") && o.push("disappearing-mode"),
            o.push("image"),
            o.push(...r),
            {
              fromScreenId: i,
              items: o,
              selectedContacts: r,
              groupSubject: n,
              image: a,
              expiration: e.settings.disappearingMsgsDefaultTimer || St.i,
              maxSubject: e.serverProps.maxSubject,
              contacts: e.contacts,
              backend: t,
            }
          );
        }),
        Bv = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.Th = n.e()), e;
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.initialSubject !== e.initialSubject ||
                s.maxSubject !== e.maxSubject ||
                s.onChange !== e.onChange ||
                s.subject !== e.subject)
            );
          }
          addSoftKeys(e, t) {
            e.setRightIcon(dl, () => {
              cl(t, (e) => {
                var t = this.Th.current;
                t && t.pasteText(e);
              });
            });
          }
          render() {
            var e = this.props;
            return (0, r.b)(2, ou, {
              label: 529,
              value: e.subject,
              selected: e.selected,
              maxLength: e.maxSubject,
              children: (t) =>
                (0, r.b)(
                  2,
                  hl.a,
                  {
                    type: "text",
                    hasFocusPriority: e.selected,
                    placeholder: 530,
                    defaultValue: e.initialSubject,
                    onChange: e.onChange,
                    invalid: t,
                  },
                  null,
                  this.Th
                ),
            });
          }
        },
        Vv = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)), (this.Te = !1), (this.Ti = null), e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.initialImage !== e.initialImage ||
                s.onChange !== e.onChange)
            );
          }
          openPicker(e) {
            e.openScreen("MEDIA_EDITOR", {
              fit: "cover",
              tools: { hasCircleCrop: !0, hasRotation: !0 },
              onComplete: (e) => {
                if (this.Te && e) {
                  var t = Sh(e).then((e) => {
                    this.Te && e && this.props.onChange(e);
                  });
                  this.Ti = t;
                }
              },
            });
          }
          addSoftKeys(e, t) {
            var s = () => {
              this.openPicker(t);
            };
            this.props.initialImage
              ? e.setCenterLabel(790, () => {
                  var e = new V.a();
                  e.add(381, () => {
                    this.Te && this.props.onChange(null);
                  }),
                    e.add(368, s),
                    (0, y.j)(e);
                })
              : e.setCenterLabel(818, s);
          }
          componentDidMount() {
            (this.Te = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Te = !1), super.componentWillUnmount();
          }
          render() {
            var e = this.props.selected,
              t = this.props.initialImage,
              s =
                null != t
                  ? (0, r.b)(2, te.b, { blob: t, className: "PJ GK" })
                  : (0, r.b)(2, dr.a, {
                      className: (0, Oe.a)(e && "PL", "PK"),
                    });
            return (0, r.b)(2, m.k, {
              selected: e,
              children: (0, r.f)(
                1,
                "div",
                "PI",
                [s, (0, r.b)(2, o.b, { l10n: 531, className: "PM" })],
                0
              ),
            });
          }
        };
      function Fv(e) {
        var t = e.contacts,
          s = e.jid,
          n = e.selected;
        return (0, r.b)(2, m.f, { contact: (0, d.c)(s, t), selected: n });
      }
      var Wv = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(762, () => {
              var e = new V.a();
              (0, Tt.c)(this.props.allowedExpirations).forEach((t) => {
                var s = (0, r.b)(2, Wt.b, { value: t });
                e.add(
                  () => s,
                  () => this.props.onExpirationSelected(t)
                );
              }),
                (0, y.j)(e);
            });
          }
          render() {
            var e = this.props,
              t = e.expiration,
              s = e.selected;
            return (0, Wt.e)({ expiration: t, selected: s, status: null });
          }
        },
        Kv = (0, i.c)(Wv, (e, t, s) => {
          var r = e.serverProps;
          return {
            selected: s.selected,
            expiration: s.expiration,
            onExpirationSelected: s.onExpirationSelected,
            allowedExpirations: r.ephemeralMessagesAllowedValues,
          };
        });
      function zv(e) {
        return e;
      }
      var Hv = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Tc = (e) => {
                var t = this.props,
                  s = t.groupSubject,
                  r = t.image;
                this.props.backend.openScreen("NEW_GROUP_EDIT", {
                  fromScreenId: this.props.screenId,
                  selectedContacts: e,
                  groupSubject: s,
                  image: r,
                });
              }),
              (this.Td = (e) =>
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 163] })
                  : (0, r.b)(2, o.b, { l10n: 528 })),
              e
            );
          }
          render() {
            var e = this.props.selectedContacts;
            return (0, r.b)(2, H, {
              defaultSelectedContacts: e ? new Set(e) : void 0,
              renderTitle: this.Td,
              done: 793,
              onDone: this.Tc,
              allowUnchanged: !0,
            });
          }
        },
        Jv = (0, i.j)(Hv),
        Qv = ["description", "all", "older_than_1_week"],
        Xv = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {}
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("PF", this.props.selected && "PG"),
              (0, r.b)(2, o.b, { l10n: 568 }),
              2
            );
          }
        },
        qv = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(569, () => {
              t.deleteAllMediaAndReload();
            });
          }
          render() {
            return (0, r.b)(2, m.k, {
              selected: this.props.selected,
              children: (0, r.b)(2, o.b, { l10n: 570 }),
            });
          }
        },
        $v = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(569, () => {
              t.deleteAllMediaAndReload((0, Lt.x)(Lt.g));
            });
          }
          render() {
            return (0, r.b)(2, m.k, {
              selected: this.props.selected,
              children: (0, r.b)(2, o.b, { l10n: 571 }),
            });
          }
        },
        Yv = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Tb = (e, t) => {
                switch (e) {
                  case "description":
                    return (0, r.b)(2, Xv, { selected: t });
                  case "all":
                    return (0, r.b)(2, qv, { selected: t });
                  case "older_than_1_week":
                    return (0, r.b)(2, $v, { selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            return !1;
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 572 }),
              children: (0, r.b)(2, g.a, {
                items: Qv,
                className: "PE",
                keyOf: ef,
                renderItem: this.Tb,
              }),
            });
          }
        },
        Zv = (0, h.e)(Yv);
      function ef(e) {
        return e;
      }
      var tf = s(196),
        sf = "Mr BQ";
      function rf(e) {
        switch (e) {
          case "contacts":
            return 707;
          case "none":
            return 710;
          default:
            return 709;
        }
      }
      function nf(e, t, s, r, n) {
        var a = new V.a(s);
        tf.d[t].forEach((s) => {
          var i = r === s;
          a.addRadioEntry(
            rf(s),
            i,
            () => {
              e.updateGeneralSettings({ [t]: s }).then((e) => {
                "ok" === e.status && (null == n || n());
              });
            },
            i
          );
        }),
          (0, y.j)(a);
      }
      var af = class extends h.b {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.selected !== e.selected ||
              s.title !== e.title ||
              s.subtitle !== e.subtitle ||
              s.loading !== e.loading ||
              s.error !== e.error ||
              s.privacyMenu !== e.privacyMenu)
          );
        }
        addSoftKeys(e, t) {
          var s = this.props,
            r = s.privacyMenu,
            n = s.loading,
            a = s.error;
          n
            ? e.setFull(788)
            : a
            ? e.setCenterLabel(781, () => {
                lf();
              })
            : e.setCenterLabel(818, () => {
                r();
              });
        }
        render() {
          var e,
            t = this.props,
            s = t.selected,
            n = t.title,
            a = t.subtitle,
            i = t.loading,
            c = t.error;
          return (
            (e =
              i || c
                ? l.b
                : "function" == typeof a
                ? a()
                : (0, r.b)(2, o.b, { l10n: a })),
            (0, r.b)(2, m.a, {
              title: n,
              rawSubtitle: e,
              rightComponent: of({ selected: s, loading: i, error: c }),
              selected: s,
              borderBottom: !0,
            })
          );
        }
      };
      function of(e) {
        var t = e.selected,
          s = e.loading;
        return e.error
          ? null
          : s
          ? (0, r.b)(2, lr.a, { className: (0, Oe.a)("Ms", t && "Mt") })
          : (0, r.b)(2, C.a, { className: (0, Oe.a)(sf, t && "Mt") });
      }
      function lf(e) {
        (0, y.e)({ text: 716 });
      }
      var cf = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Sp = (e, t) => {
                var s = new V.a(900);
                s.addNamed("contacts", 877, () => {
                  "contacts" !== t.type &&
                    e.setStatusSettings({ type: "contacts" });
                }),
                  s.addNamed("blacklist", 875, () => {
                    e.openScreen("STATUS_BLACKLIST", { settings: t });
                  }),
                  s.addNamed("whitelist", 880, () => {
                    e.openScreen("STATUS_WHITELIST", { settings: t });
                  }),
                  s.setDefault(t.type),
                  (0, y.j)(s);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.title !== e.title ||
                s.settings !== e.settings)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.settings;
            s &&
              e.setCenterLabel(818, () => {
                this.Sp(t, s);
              });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.title,
              n = e.settings;
            return (0, r.b)(2, m.a, {
              title: s,
              rawSubtitle: n ? (0, r.b)(2, o.b, { l10n: (0, Jc.h)(n) }) : l.b,
              rightComponent: n && (0, r.b)(2, C.a, { className: sf }),
              selected: t,
              borderBottom: !0,
            });
          }
        },
        df = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.RQ = !1),
              (this.state = { loading: !0, error: !1 }),
              (this.RR = () => {
                nf(this.props.backend, "lastSeen", 720, this.props.lastSeen);
              }),
              (this.RS = () => {
                nf(
                  this.props.backend,
                  "profilePhoto",
                  722,
                  this.props.profilePhoto
                );
              }),
              (this.RT = () => {
                nf(this.props.backend, "about", 714, this.props.about);
              }),
              (this.RU = (e) => {
                var t = new V.a(719),
                  s = this.props,
                  r = s.groupAdd,
                  n = s.backend;
                t.addRadioEntry(
                  vf("all"),
                  "all" === r,
                  () => {
                    this.RV("all");
                  },
                  e ? "all" === e : "all" === r
                ),
                  t.addRadioEntry(
                    vf("contacts"),
                    "contacts" === r,
                    () => {
                      this.RV("contacts");
                    },
                    e ? "contacts" === e : "contacts" === r
                  ),
                  t.addRadioEntry(
                    vf("contact_blacklist"),
                    "contact_blacklist" === r,
                    () => {
                      n.openGroupAddBlacklistScreen();
                    },
                    e ? "contact_blacklist" === e : "contact_blacklist" === r
                  ),
                  "none" === r &&
                    t.addRadioEntry(
                      vf("none"),
                      !0,
                      () => {},
                      !e || "none" === e,
                      !0
                    ),
                  (0, y.j)(t);
              }),
              (this.RV = (e) => {
                "none" === this.props.groupAdd
                  ? (0, y.f)({
                      text: 711,
                      onCancel: () => this.RU(e),
                      onConfirm: () => this.RW({ groupAdd: e }),
                    })
                  : this.RW({ groupAdd: e });
              }),
              (this.RW = (e) => {
                this.props.backend.updateGeneralSettings(e);
              }),
              (this.RX = (e) => {
                this.RW({ readReceipts: e });
              }),
              (this.RY = () => {
                var e = this.state,
                  t = e.error,
                  s = e.loading;
                this.props.backend.openScreen(
                  "DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS",
                  { offline: t || s, entryPoint: "account-settings" }
                );
              }),
              (this.RZ = () => {
                var e = this.state,
                  t = e.error,
                  s = e.loading;
                this.props.backend.openScreen("BLOCKED_CONTACTS", {
                  offline: t || s,
                });
              }),
              (this.Ra = (e, t) => {
                var s = this.props,
                  n = s.blocked,
                  a = s.lastSeen,
                  i = s.profilePhoto,
                  o = s.about,
                  l = s.groupAdd,
                  c = s.groupAddBlacklistCount,
                  d = s.readReceipts,
                  h = s.status,
                  u = this.state,
                  p = u.loading,
                  v = u.error;
                switch (e) {
                  case "lastSeen":
                    return (0, r.c)(
                      [
                        (0, r.b)(2, af, {
                          selected: t,
                          title: 720,
                          loading: p,
                          error: v,
                          subtitle: rf(a),
                          privacyMenu: this.RR,
                        }),
                        (0, r.b)(2, m.n, { text: 721 }),
                      ],
                      4
                    );
                  case "profilePhoto":
                    return (0, r.b)(2, af, {
                      selected: t,
                      title: 722,
                      loading: p,
                      error: v,
                      subtitle: rf(i),
                      privacyMenu: this.RS,
                    });
                  case "about":
                    return (0, r.b)(2, af, {
                      selected: t,
                      title: 714,
                      loading: p,
                      error: v,
                      subtitle: rf(o),
                      privacyMenu: this.RT,
                    });
                  case "groupAdd":
                    return (0, r.c)(
                      [
                        (0, r.b)(2, af, {
                          selected: t,
                          title: 717,
                          loading: p,
                          error: v,
                          subtitle: pf(l, c),
                          privacyMenu: this.RU,
                        }),
                        (0, r.b)(2, m.n, { text: 718 }),
                      ],
                      4
                    );
                  case "status":
                    return (0, r.c)(
                      [
                        (0, r.b)(2, cf, {
                          selected: t,
                          title: 879,
                          settings: h,
                        }),
                        (0, r.b)(2, m.n, { text: 878 }),
                      ],
                      4
                    );
                  case "blocked":
                    return (0, r.b)(2, af, {
                      selected: t,
                      title: 704,
                      subtitle: n > 0 ? [n, 200] : 712,
                      privacyMenu: this.RZ,
                      loading: !1,
                      error: !1,
                    });
                  case "readReceipts":
                    return (0, r.b)(2, ff, {
                      selected: t,
                      loading: p,
                      error: v,
                      readReceipts: d,
                      setReadReceipts: this.RX,
                    });
                  case "disappearingMode":
                    return (0, r.c)(
                      [
                        (0, r.b)(2, m.g, { text: 231 }),
                        (0, r.b)(2, af, {
                          selected: t,
                          title: 234,
                          loading: p,
                          error: v,
                          subtitle: () =>
                            (0, r.b)(2, Wt.b, {
                              value: this.props.disappearingMode,
                            }),
                          privacyMenu: this.RY,
                        }),
                        (0, r.b)(2, m.n, { text: 235 }),
                        (0, r.b)(2, m.g),
                      ],
                      4
                    );
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          componentDidMount() {
            (this.RQ = !0),
              this.props.backend.getPrivacySettings().then((e) => {
                var t = "network_error" === e.status;
                this.RQ &&
                  (this.setState({ loading: !1, error: t }),
                  t && lf(this.props.backend));
              }),
              this.props.status ||
                this.props.backend.loadStatusPrivacySettings();
          }
          componentWillUnmount() {
            this.RQ = !1;
          }
          renderTitle() {
            return (0, r.b)(2, o.b, { l10n: 595 });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: this.renderTitle(),
              children: (0, r.b)(2, g.a, {
                items: this.props.items,
                keyOf: uf,
                start: this.props.start,
                renderItem: this.Ra,
              }),
            });
          }
        },
        hf = (0, i.f)(
          (0, h.e)(df),
          (e, t) => {
            var s = t.start,
              r = e.settings;
            return r
              ? {
                  start: s ? { item: s, scrollFromTop: "start" } : void 0,
                  serverProps: e.serverProps,
                  blocked: Object.keys(e.blocked).length,
                  contacts: e.contacts,
                  settings: r,
                  status: e.status.settings,
                }
              : null;
          },
          (e, t) => {
            var s,
              r = e.start,
              n = e.serverProps,
              a = e.settings,
              i = e.blocked,
              o = e.status,
              l = [];
            return (
              l.push("lastSeen"),
              l.push("profilePhoto"),
              l.push("about"),
              0 !== n.groupJoinPermissions && l.push("groupAdd"),
              l.push("status"),
              l.push("readReceipts"),
              (0, Tn.a)("disappearing_mode") && l.push("disappearingMode"),
              l.push("blocked"),
              {
                items: l,
                start: r,
                backend: t,
                blocked: i,
                lastSeen: a.lastSeen,
                groupAdd: a.groupAdd,
                groupAddBlacklistCount:
                  (null == (s = a.groupAddBlacklist) ? void 0 : s.length) || 0,
                profilePhoto: a.profilePhoto,
                about: a.about,
                status: o,
                readReceipts: "all" === a.readReceipts,
                disappearingMode: a.disappearingMsgsDefaultTimer || St.i,
              }
            );
          }
        );
      function uf(e) {
        return e;
      }
      function pf(e, t) {
        return "contact_blacklist" === e ? (0 === t ? 707 : [t, 199]) : rf(e);
      }
      function vf(e) {
        return "contact_blacklist" === e ? 702 : rf(e);
      }
      var ff = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.loading !== e.loading ||
                s.error !== e.error ||
                s.readReceipts !== e.readReceipts ||
                s.setReadReceipts !== e.setReadReceipts)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.loading,
              n = s.error,
              a = s.readReceipts,
              i = s.setReadReceipts;
            r
              ? e.setFull(788)
              : n
              ? e.setCenterLabel(781, () => {
                  lf();
                })
              : a
              ? e.setCenterLabel(771, () => {
                  i("none");
                })
              : e.setCenterLabel(775, () => {
                  i("all");
                });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.loading,
              n = e.error,
              a = e.readReceipts,
              i =
                s || n
                  ? (0, r.b)(2, m.a, {
                      title: 725,
                      rightComponent: l.b,
                      selected: t,
                    })
                  : (0, r.b)(2, m.d, { title: 725, selected: t, checked: a });
            return (0, r.c)([i, (0, r.b)(2, m.n, { text: 726 })], 0);
          }
        },
        gf = s(506),
        bf = s(519),
        mf = s(186),
        Sf = s(256),
        yf = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.RP = () => {
                var e = this.props.modal;
                WAM.log("regular", 2472, void 0, [
                  1,
                  0,
                  e.id,
                  2,
                  0,
                  e.version,
                  3,
                  0,
                  5,
                ]);
              }),
              (this.RO = (e) => {
                (0, mf.d)(e), e.goBack();
                var t = this.props.modal;
                WAM.log("regular", 2472, void 0, [
                  1,
                  0,
                  t.id,
                  2,
                  0,
                  t.version,
                  3,
                  0,
                  4,
                ]);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.modal !== e.modal;
          }
          componentDidMount() {
            var e = this.props,
              t = e.backend,
              s = e.modal;
            (0, Sf.b)(t, s), super.componentDidMount();
          }
          addSoftKeys(e) {
            var t = this.props.modal;
            e.setBack(this.RO),
              e.setLeftLabel(758, this.RO),
              e.dangerouslySetCenterRawString(t.content.acceptLabel, (e) => {
                (0, mf.d)(e),
                  e.goBack(),
                  (0, mf.c)(e, t.id, t.version, "deep-link-modal");
              });
          }
          render() {
            var e = this.props.modal,
              t = e.content,
              s = e.direction;
            return (0, r.b)(2, bf.a, {
              content: t,
              direction: s,
              onLinkOpen: this.RP,
            });
          }
        },
        kf = (0, i.j)((0, h.e)(yf)),
        Cf = "MW GK",
        wf = "MY GI GE",
        xf = "MZ";
      function If(e, t, s, r) {
        var n;
        (n =
          t.includes("name") && t.includes("about")
            ? 596
            : t.includes("name")
            ? 598
            : 597),
          (0, y.g)({
            title: 599,
            text: n,
            left: 773,
            onSoftLeft: s,
            right: 816,
            onSoftRight: r,
          });
      }
      function Lf(e, t, s) {
        var r = (0, Hc.a)(t);
        r > St.u
          ? (0, y.e)({ title: 229, text: 1 })
          : 0 === r
          ? (0, y.e)({ title: 229, text: 0 })
          : (e.setAbout(t), s());
      }
      var _f = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.softKeyData !== e.softKeyData ||
                  s.setAboutJob !== e.setAboutJob ||
                  s.about !== e.about)) ||
              (r !== t && (r.editing !== t.editing || r.about !== t.about))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.Rb = n.e()),
              (this.Rc = (e, t) => {
                var s,
                  r = e.error.reason;
                switch (r) {
                  case "bad-request":
                  case "server-error":
                  case "unknown":
                    s = 700;
                    break;
                  default:
                    return (0, f.a)(r);
                }
                (0, y.f)({
                  title: 229,
                  text: s,
                  confirm: 796,
                  onConfirm: () => {
                    (0, Oh.b)(t, this.props.setAboutJob);
                  },
                });
              }),
              (this.Re = (e) => {
                var t = this.Rg();
                t === this.props.about
                  ? (this.Rf(null), this.setState({ editing: !1 }))
                  : Lf(e, t, () => {
                      this.Rf(null), this.setState({ editing: !1 });
                    });
              }),
              (this.Rd = (e) => {
                this.Rh() !== this.Rg()
                  ? If(
                      0,
                      ["about"],
                      () => {
                        this.Rf(null),
                          this.setState({
                            about: this.props.about,
                            editing: !1,
                          });
                      },
                      () => this.Re(e)
                    )
                  : this.setState({ about: this.props.about, editing: !1 });
              }),
              (this.Ri = (e) => {
                this.Rf(e), this.setState((t) => ({ about: e }));
              }),
              (this.Rh = () => this.props.about || (0, it.k)(145)),
              (this.Rg = () => this.state.about.trim()),
              (this.state = { about: e.about, editing: !1 });
          }
          addSoftKeys(e, t) {
            var s = this.props.setAboutJob;
            if (s) {
              var r = (0, ut.d)(s);
              if (null != r)
                return void e.setCenterLabel(781, () => {
                  this.Rc(r, t);
                });
              if ((0, ut.f)(s)) return;
            }
            this.state.editing
              ? (e.setLeftLabel(761, () => {
                  this.Rd(t);
                }),
                e.setCenterLabel(816, this.Re),
                e.setRightIcon(dl, () => {
                  cl(t, (e) => {
                    var t = this.Rb.current;
                    t && t.pasteText(e);
                  });
                }))
              : e.setCenterLabel(774, () => this.setState({ editing: !0 }));
          }
          Rf(e) {
            if (null == e)
              this.props.softKeyData.setData("aboutIsDirty", !1),
                this.props.softKeyData.setData("about", void 0);
            else {
              var t = e.trim() !== this.props.about;
              this.props.softKeyData.setData("aboutIsDirty", t),
                this.props.softKeyData.setData("about", e);
            }
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.setAboutJob;
            if (this.state.editing)
              return (0, r.b)(2, ou, {
                label: 600,
                value: this.Rg(),
                maxLength: St.u,
                selected: t,
                children: (e) =>
                  (0, r.b)(
                    2,
                    hl.a,
                    {
                      type: "text",
                      hasFocusPriority: t,
                      placeholder: 600,
                      defaultValue: this.Rh(),
                      onChange: this.Ri,
                      invalid: e,
                    },
                    null,
                    this.Rb
                  ),
              });
            var n,
              a = s ? s.jobIn.content : this.Rg();
            if (s) {
              var i = (0, ut.f)(s),
                o = null != (0, ut.d)(s);
              i
                ? (n = (0, r.b)(2, lr.a, { className: xf }))
                : o && (n = (0, r.b)(2, li.a, { className: "Ma" }));
            }
            var l = s ? s.jobIn.content : this.Rh();
            return (0, r.b)(2, ou, {
              label: 600,
              value: a,
              maxLength: St.u,
              selected: t,
              showCounterThreshold: -1,
              children: (e) =>
                (0, r.c)([(0, r.f)(1, "span", wf, (0, c.b)(l), 0), n], 0),
            });
          }
        },
        Nf = (0, i.c)(_f, (e, t, s) => {
          var r = s.selected,
            n = s.softKeyData,
            a = (0, ut.g)(e, "setAbout", Ct.g.setAbout());
          return {
            selected: r,
            softKeyData: n,
            about: e.user.about || "",
            setAboutJob: a,
          };
        }),
        Mf = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e) {
            e.setCenterLabel(182, () => {
              Gt((0, mt.d)(Ql.r.get()));
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.i, {
              label: 602,
              selected: e,
              children: (0, r.f)(
                1,
                "div",
                (0, Oe.a)("MX GF GC GI GE", e && "MU"),
                (0, r.b)(2, yt.a, { jid: Ql.r.get() }),
                2
              ),
            });
          }
        };
      function Of(e, t, s) {
        var r = (0, Hc.a)(t);
        0 === r
          ? (0, y.e)({ title: 229, text: 605 })
          : r > St.A
          ? (0, y.e)({ title: 229, text: 606 })
          : (e.setProfileName(t), s());
      }
      var Tf = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.softKeyData !== e.softKeyData ||
                  s.defaultName !== e.defaultName ||
                  s.setProfileNameJob !== e.setProfileNameJob)) ||
              (r !== t && (r.editing !== t.editing || r.name !== t.name))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.Rb = n.e()),
              (this.Rk = (e) => {
                this.Rj(e), this.setState({ name: e });
              }),
              (this.Re = (e) => {
                var t = this.state.name.trim();
                t === this.props.defaultName
                  ? (this.Rj(null), this.setState({ editing: !1 }))
                  : Of(e, t, () => {
                      this.Rj(null), this.setState({ editing: !1 });
                    });
              }),
              (this.Rd = (e) => {
                this.props.defaultName !== this.state.name.trim()
                  ? If(
                      0,
                      ["name"],
                      () => {
                        this.Rj(null),
                          this.setState({
                            editing: !1,
                            name: this.props.defaultName,
                          });
                      },
                      () => this.Re(e)
                    )
                  : this.setState({ editing: !1 });
              }),
              (this.state = { name: e.defaultName, editing: !1 });
          }
          Rj(e) {
            if (null == e)
              this.props.softKeyData.setData("pushnameIsDirty", !1),
                this.props.softKeyData.setData("pushname", void 0);
            else {
              var t = e.trim() !== this.props.defaultName;
              this.props.softKeyData.setData("pushnameIsDirty", t),
                this.props.softKeyData.setData("pushname", e);
            }
          }
          addSoftKeys(e, t) {
            if (!(0, ut.f)(this.props.setProfileNameJob))
              if (this.state.editing) {
                var s = this.state.name.trim();
                e.setLeftLabel(761, () => this.Rd(t)),
                  "" !== s && e.setCenterLabel(816, this.Re),
                  e.setRightIcon(dl, () => {
                    cl(t, (e) => {
                      var t = this.Rb.current;
                      t && t.pasteText(e);
                    });
                  });
              } else
                e.setCenterLabel(774, () => this.setState({ editing: !0 }));
          }
          render() {
            var e,
              t = this.props,
              s = t.defaultName,
              n = t.selected,
              a = t.setProfileNameJob;
            return this.state.editing
              ? (0, r.b)(2, ou, {
                  label: 601,
                  value: this.state.name,
                  maxLength: St.A,
                  selected: n,
                  children: (e) =>
                    (0, r.b)(
                      2,
                      hl.a,
                      {
                        type: "text",
                        hasFocusPriority: n,
                        placeholder: 601,
                        defaultValue: s,
                        onChange: this.Rk,
                        invalid: e,
                      },
                      null,
                      this.Rb
                    ),
                })
              : ((0, ut.f)(a) && (e = (0, r.b)(2, lr.a, { className: xf })),
                (0, r.b)(2, ou, {
                  label: 601,
                  value: this.state.name,
                  maxLength: St.A,
                  selected: n,
                  showCounterThreshold: -1,
                  children: (t) =>
                    (0, r.c)([(0, r.f)(1, "span", wf, (0, c.b)(s), 0), e], 0),
                }));
          }
        },
        Pf = (0, i.c)(Tf, (e, t, s) => {
          var r = s.selected,
            n = s.softKeyData,
            a = (0, ut.g)(e, "setProfileName", Ct.g.setProfileName());
          return {
            defaultName: e.user.pushname,
            softKeyData: n,
            selected: r,
            setProfileNameJob: a,
          };
        }),
        Af = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Rl = !1),
              (this.state = { picture: void 0 }),
              (this.Rm = (e) => {
                var t = this.props.setProfilePictureJob,
                  s = (0, ut.d)(t);
                if (t && s) {
                  var r,
                    n = s.error.reason;
                  switch (n) {
                    case "bad-size-or-format":
                      r = 609;
                      break;
                    case "bad-request":
                    case "not-yourself":
                    case "server-error":
                    case "unknown":
                      r = 610;
                      break;
                    default:
                      return (0, f.a)(n);
                  }
                  (0, y.f)({
                    title: 229,
                    text: r,
                    confirm: 796,
                    onConfirm: () => {
                      (0, Oh.b)(e, t);
                    },
                  });
                } else
                  __LOG__(
                    3
                  )`showPictureErrorDialog was called without a job result`;
              }),
              (this.Rn = (e) => {
                (0, y.e)({ title: 229, text: 723 });
              }),
              (this.Ro = (e) => {
                this.props.connected ? e.removeProfilePicture() : this.Rn(e);
              }),
              (this.Rp = (e, t) => {
                var s = new V.a(790);
                s.addEntry(833, () => {
                  this.Rq(e, t);
                }),
                  s.addEntry(774, () => {
                    this.Rr(e);
                  }),
                  s.addEntry(799, () => {
                    this.setState({ picture: "removed" }, () => {
                      this.Ro(e);
                    });
                  }),
                  (0, y.j)(s);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.onPhotoSelected !== e.onPhotoSelected ||
                  s.selfJid !== e.selfJid ||
                  s.hasProfilePicture !== e.hasProfilePicture ||
                  s.setProfilePictureJob !== e.setProfilePictureJob ||
                  s.connected !== e.connected)) ||
              (r !== t && r.picture !== t.picture)
            );
          }
          componentDidMount() {
            (this.Rl = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Rl = !1), super.componentWillUnmount();
          }
          Rr(e) {
            this.props.connected
              ? e.openScreen("MEDIA_EDITOR", {
                  fit: "cover",
                  tools: { hasCircleCrop: !0, hasRotation: !0 },
                  onComplete: (t) => {
                    this.Rl &&
                      t &&
                      Sh(t).then((t) => {
                        this.Rl &&
                          t &&
                          this.setState({ picture: t }, () => {
                            e.setProfilePicture(t).then((e) => {
                              var t, s;
                              this.Rl &&
                                null == (null == e ? void 0 : e.error) &&
                                (null ==
                                  (t = (s = this.props).onPhotoSelected) ||
                                  t.call(s));
                            });
                          });
                      });
                  },
                })
              : this.Rn(e);
          }
          Rq(e, t) {
            "avatar" === t
              ? e.openAvatarView(this.props.selfJid)
              : e.openScreen("IMAGE_VIEW", { src: { blob: t } });
          }
          addSoftKeys(e, t) {
            var s = this.props.setProfilePictureJob,
              r = (0, ut.f)(s),
              n = null != (0, ut.d)(s);
            if (r || n)
              n &&
                e.setCenterLabel(781, () => {
                  this.Rm(t);
                });
            else {
              var a = this.state.picture,
                i = this.props.hasProfilePicture ? "avatar" : null,
                o = a || i || "removed";
              "removed" !== o
                ? e.setCenterLabel(790, () => {
                    this.Rp(t, o);
                  })
                : e.setCenterLabel(754, () => {
                    this.Rr(t);
                  });
            }
          }
          render() {
            var e,
              t,
              s = this.props,
              n = s.setProfilePictureJob,
              a = s.selected;
            if (n) {
              var i = (0, ut.f)(n),
                l = null != (0, ut.d)(n);
              (i || l) &&
                ((e =
                  null == n.jobIn.picture
                    ? (0, r.b)(2, ue.c, {
                        jid: this.props.selfJid,
                        className: Cf,
                      })
                    : (0, r.b)(2, te.b, {
                        blob: n.jobIn.picture,
                        className: Cf,
                      })),
                i
                  ? (t = (0, r.b)(2, lr.a, { className: xf }))
                  : l && (t = (0, r.b)(2, li.a, { className: "Ma" })));
            }
            if (!e) {
              var c = this.state.picture;
              e =
                null != c && "removed" !== c
                  ? (0, r.b)(2, te.b, { blob: c, className: Cf })
                  : (0, r.b)(2, ue.c, {
                      jid: this.props.selfJid,
                      className: Cf,
                    });
            }
            return (0, r.b)(2, m.l, {
              selected: a,
              className: (0, Oe.a)("MT", a && "MU"),
              children: [
                e,
                (0, r.b)(2, o.b, { l10n: 603, className: "MV" }),
                t,
              ],
            });
          }
        },
        Ef = (0, i.c)(Af, (e, t, s) => {
          var r = s.selected,
            n = s.onPhotoSelected,
            a = (0, ut.g)(e, "setProfilePicture", Ct.g.setProfilePicture()),
            i = e.user.jid;
          return {
            selected: r,
            onPhotoSelected: n,
            hasProfilePicture: (0, se.i)(i, e.avatars),
            selfJid: i,
            setProfilePictureJob: a,
            connected: e.connected,
          };
        }),
        Rf = ["picture", "name", "number", "about"],
        Gf = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Rt = () => (0, r.b)(2, o.b, { l10n: 612 })),
              (this.Ru = (e, t) => {
                switch (e) {
                  case "picture":
                    return (0, r.b)(2, Ef, { selected: t });
                  case "name":
                    return (0, r.b)(2, Pf, {
                      selected: t,
                      softKeyData: this.Rs,
                    });
                  case "number":
                    return (0, r.b)(2, Mf, { selected: t });
                  case "about":
                    return (0, r.b)(2, Nf, {
                      selected: t,
                      softKeyData: this.Rs,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              (this.Rs = new h.d({}));
          }
          addSoftKeys(e, t) {
            e.addData(this.Rs, (s) => {
              if (s.aboutIsDirty || s.pushnameIsDirty) {
                var r = [];
                s.aboutIsDirty && r.push("about"),
                  s.pushnameIsDirty && r.push("name"),
                  e.setBack(() => {
                    If(
                      0,
                      r,
                      () => {
                        t.goBack();
                      },
                      () => {
                        s.aboutIsDirty &&
                          null != s.about &&
                          Lf(t, s.about, () => {
                            t.goBack();
                          }),
                          s.pushnameIsDirty &&
                            null != s.pushname &&
                            Of(t, s.pushname, () => {
                              t.goBack();
                            });
                      }
                    );
                  });
              }
            });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: this.Rt(),
              children: (0, r.b)(2, g.a, {
                items: Rf,
                keyOf: Df,
                renderItem: this.Ru,
              }),
            });
          }
        },
        Uf = (0, h.e)(Gf);
      function Df(e) {
        return e;
      }
      var jf = [
          "262",
          "30",
          "31",
          "32",
          "33",
          "34",
          "351",
          "352",
          "353",
          "354",
          "356",
          "357",
          "358",
          "359",
          "36",
          "370",
          "371",
          "372",
          "376",
          "377",
          "378",
          "379",
          "385",
          "386",
          "39",
          "40",
          "41",
          "420",
          "421",
          "423",
          "43",
          "44",
          "45",
          "46",
          "47",
          "48",
          "49",
          "590",
          "594",
          "596",
        ],
        Bf = ["name"],
        Vf = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.RK = (e) => {
                this.setState({ name: e.trim() });
              }),
              (this.RL = (e) => {
                var t = this.state.name.trim();
                (0, Hc.a)(t) > St.A
                  ? (0, y.e)({ title: 229, text: 606 })
                  : e.setProfileName(t);
              }),
              (this.renderItem = (e, t) => {
                switch (e) {
                  case "name":
                    return (0, r.b)(2, Kf, {
                      selected: t,
                      name: this.state.name,
                      onNameChange: this.RK,
                    });
                  case "picture":
                    return (0, r.b)(2, Ef, { selected: t });
                  case "over16":
                    return (0, r.b)(2, zf, { selected: t });
                  case "whatsappIreland":
                    return (0, r.b)(2, Hf, { selected: t });
                  default:
                    return (0, f.a)(e);
                }
              }),
              (this.state = { name: "", orderedItemIds: this.RJ() });
          }
          RJ() {
            var e,
              t = [...Bf];
            return (
              (e = this.props.jid),
              jf.includes((0, mt.g)(e)) &&
                (t.push("over16"), t.push("whatsappIreland")),
              t
            );
          }
          addSoftKeys(e, t) {
            this.state.name.length > 0 && e.setCenterLabel(816, this.RL);
          }
          RM() {
            return (0, r.b)(2, o.b, { l10n: 612 });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: this.RM(),
              children: (0, r.b)(2, g.a, {
                items: this.state.orderedItemIds,
                keyOf: Wf,
                renderItem: this.renderItem,
              }),
            });
          }
        },
        Ff = (0, i.c)((0, h.e)(Vf), (e, t) => ({
          backend: t,
          jid: e.user.jid,
        }));
      function Wf(e) {
        return e;
      }
      var Kf = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.RN = n.e()), e;
          }
          addSoftKeys(e, t) {
            e.setRightIcon(dl, () => {
              cl(t, (e) => {
                var t = this.RN.current;
                t && t.pasteText(e);
              });
            });
          }
          render() {
            var e = this.props,
              t = e.name,
              s = e.selected,
              n = e.onNameChange;
            return (0, r.b)(2, ou, {
              label: 601,
              value: t,
              maxLength: St.A,
              selected: s,
              children: (e) =>
                (0, r.b)(
                  2,
                  hl.a,
                  {
                    type: "text",
                    hasFocusPriority: !0,
                    placeholder: 601,
                    onChange: n,
                    invalid: e,
                  },
                  null,
                  this.RN
                ),
            });
          }
        },
        zf = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setRightLabel(785, () => (0, S.y)(t, S.p));
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.o, { text: 306, selected: e });
          }
        },
        Hf = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setRightLabel(785, () => (0, S.y)(t, S.q));
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.o, { text: 326, selected: e });
          }
        },
        Jf = ["picture", "picturePrivacy"],
        Qf = ["picture", "all", "contacts", "none"],
        Xf = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = {
                screenType: "photo",
                orderedItemIds: Jf,
                title: 603,
                privacyWasChanged: !1,
              }),
              (this.RF = () => {
                this.RE &&
                  (this.state.privacyWasChanged &&
                    this.props.backend.dispatch({
                      type: "PROFILE_PHOTO_SCREEN_CHANGED",
                      profilePhotoScreenState: "inactive",
                    }),
                  this.setState({
                    screenType: "privacy",
                    orderedItemIds: Qf,
                    title: 608,
                  }));
              }),
              (this.RG = () => {
                this.RE && this.setState({ privacyWasChanged: !0 });
              }),
              (this.RH = (e, t) => {
                switch (e) {
                  case "picture":
                    return (0, r.b)(2, Ef, {
                      selected: t,
                      onPhotoSelected: this.RF,
                    });
                  case "picturePrivacy":
                    return (0, r.b)(2, Zf, {
                      selected: t,
                      onPrivacySettingChange: this.RG,
                    });
                  default:
                    return (0, r.b)(2, eg, { selected: t, value: e });
                }
              }),
              e
            );
          }
          componentDidMount() {
            (this.RE = !0),
              Ql.e.set("passed"),
              this.props.backend.dispatch({
                type: "PROFILE_PHOTO_SCREEN_CHANGED",
                profilePhotoScreenState: "active",
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.RE = !1), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            e.setLeftLabel(611, () => {
              t.dispatch({
                type: "PROFILE_PHOTO_SCREEN_CHANGED",
                profilePhotoScreenState: "inactive",
              });
            }),
              e.setBack(() => {
                "privacy" === this.state.screenType
                  ? this.setState({
                      screenType: "photo",
                      orderedItemIds: Jf,
                      title: 603,
                    })
                  : t.dispatch({
                      type: "PROFILE_PHOTO_SCREEN_CHANGED",
                      profilePhotoScreenState: "inactive",
                    });
              });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: this.state.title }),
              children: [
                "photo" === this.state.screenType &&
                  (0, r.f)(1, "div", "LI", (0, r.b)(2, o.b, { l10n: 607 }), 2),
                (0, r.b)(2, g.a, {
                  items: this.state.orderedItemIds,
                  keyOf: $f,
                  renderItem: this.RH,
                }),
              ],
            });
          }
        },
        qf = (0, i.j)((0, h.e)(Xf));
      function $f(e) {
        return e;
      }
      var Yf = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.RI = () => {
                var e = this.props;
                nf(
                  e.backend,
                  "profilePhoto",
                  722,
                  e.profilePhoto,
                  e.onPrivacySettingChange
                );
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.profilePhoto !== e.profilePhoto ||
                s.onPrivacySettingChange !== e.onPrivacySettingChange)
            );
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.profilePhoto;
            return (0, r.b)(2, af, {
              selected: t,
              title: 724,
              loading: !1,
              error: !1,
              subtitle: rf(s),
              privacyMenu: this.RI,
            });
          }
        },
        Zf = (0, i.c)(Yf, (e, t, s) => {
          var r = e.settings;
          return {
            selected: s.selected,
            onPrivacySettingChange: s.onPrivacySettingChange,
            profilePhoto: r.profilePhoto,
            backend: t,
          };
        }),
        eg = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.value !== e.value || s.selected !== e.selected)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.updateGeneralSettings({ profilePhoto: this.props.value }),
                t.dispatch({
                  type: "PROFILE_PHOTO_SCREEN_CHANGED",
                  profilePhotoScreenState: "inactive",
                });
            });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.value;
            return (0, r.b)(2, m.k, {
              className: "LJ",
              selected: t,
              children: (0, r.b)(2, o.b, { l10n: rf(s) }),
            });
          }
        },
        tg = s(290),
        sg = "NC",
        rg = "NF",
        ng = class extends h.c {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.selected !== e.selected ||
                  s.gifProvider !== e.gifProvider ||
                  s.content !== e.content ||
                  s.onReachStart !== e.onReachStart ||
                  s.onReachPreviousSide !== e.onReachPreviousSide ||
                  s.onReachNextSide !== e.onReachNextSide ||
                  s.loadGifs !== e.loadGifs ||
                  s.sendGif !== e.sendGif ||
                  s.hideVideos !== e.hideVideos)) ||
              (r !== t &&
                (r.selection !== t.selection || r.direction !== t.direction))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.SG = n.e()),
              (this.SL = () => {
                var e = this.state.selection;
                "bottomContent" === e.type
                  ? this.SM()
                  : (e.type, this.SN(this.SF.previousRow(e.index)));
              }),
              (this.SO = () => {
                if ("gifs" === this.props.content.type) {
                  var e,
                    t = this.state.selection;
                  "grid" === t.type && (e = this.SF.nextRow(t.index)),
                    this.SN(e);
                }
              }),
              (this.SJ = () => {
                var e = this.state.selection;
                if ("grid" === e.type) {
                  var t = this.SF.defaultLeft(e.index);
                  this.SN(t);
                }
              }),
              (this.SP = () => {
                var e = this.state.selection;
                if ("grid" === e.type) {
                  var t = this.SF.defaultRight(e.index);
                  this.SN(t);
                }
              }),
              (this.SK = (e) => {
                if (null != e) {
                  var t,
                    s = this.state.direction;
                  (t =
                    "previousRow" === s || "previous" === s ? "start" : "end"),
                    requestAnimationFrame(() => {
                      requestAnimationFrame(() => {
                        (0, ht.e)(e, { block: t, behavior: "smooth" });
                      });
                    });
                }
              }),
              (this.SR = () => {
                var e = this.props.content;
                if ("gifs" === e.type) {
                  var t = e.loadingState;
                  if (null != t && "error" === t.type) {
                    this.SM();
                    var s = bg(e);
                    null != s && this.props.loadGifs(s, t.fetchPosForError);
                  }
                }
              });
            var s = { length: 0, horizontalRowNavigation: !1 };
            (s.rowLength = lt()),
              (s.onReachEnd = () => {
                this.SH();
              }),
              e.onReachStart && (s.onReachStart = e.onReachStart),
              e.onReachPreviousSide &&
                (s.onReachPreviousSide = e.onReachPreviousSide),
              e.onReachNextSide && (s.onReachNextSide = e.onReachNextSide),
              (this.SF = new ot(s)),
              (this.state = {
                selection: { type: "grid", index: 0 },
                direction: "nextRow",
              });
          }
          componentDidUpdate(e, t) {
            var s = this.props.content;
            if ("gifs" === s.type) {
              var r = s.gifs.length;
              this.SF.update({ length: s.gifs.length });
              var n = bg(s);
              if (null != n && "recents" !== s.source) {
                var a = s.nextFetchPosition,
                  i = s.loadingState;
                null != a &&
                  null == i &&
                  this.SI() &&
                  (__LOG__(2)`GifGrid: is close to bottom`,
                  this.props.loadGifs(n, a));
              }
              var o = this.state.selection;
              "grid" === o.type &&
                o.index > 0 &&
                r === o.index &&
                (__LOG__(2)`GifGrid: moving to new end`, this.SJ());
            } else this.SF.update({ length: 0 });
            super.componentDidUpdate(e, t);
          }
          SH() {
            var e = this.props.content;
            if ("gifs" === e.type) {
              var t,
                s = this.SG.current;
              s &&
                (this.SK(s),
                "error" === (null == (t = e.loadingState) ? void 0 : t.type) &&
                  this.setState({ selection: { type: "bottomContent" } }));
            }
          }
          SM() {
            var e = this.props.content;
            if ("gifs" === e.type && e.gifs.length > 0) {
              var t = { index: e.gifs.length - 1, direction: "previousRow" };
              this.SN(t);
            }
          }
          SN(e) {
            var t = this.props.content;
            "gifs" === t.type &&
              null != e &&
              e.index < t.gifs.length &&
              this.setState({
                selection: { type: "grid", index: e.index },
                direction: e.direction,
              });
          }
          SQ(e) {
            var t = this.props.content,
              s = this.state.selection,
              r = 0;
            return (
              "grid" === s.type
                ? (r = s.index)
                : "gifs" === t.type &&
                  "bottomContent" === s.type &&
                  (r = t.gifs.length - 1),
              Math.abs(r - e) > 2 * St.C
            );
          }
          SI() {
            var e = this.state.selection;
            return (
              "grid" === e.type &&
              this.SF.indexToRow(e.index) > this.SF.getNumberOfRows() - 4
            );
          }
          addSoftKeys(e) {
            e.setUpDownArrows(this.SL, this.SO),
              "grid" === this.state.selection.type &&
                e.setLeftRightArrows(this.SJ, this.SP);
          }
          SS(e) {
            return null == e
              ? null
              : "loading" === e.type
              ? (0, r.f)(
                  1,
                  "div",
                  "NG",
                  (0, r.b)(2, lr.a),
                  2,
                  null,
                  null,
                  this.SG
                )
              : "error" === e.type
              ? (0, r.b)(2, cg, {
                  selected:
                    this.props.selected &&
                    "bottomContent" === this.state.selection.type,
                  retryFunc: this.SR,
                  innerRef: this.SG,
                })
              : void 0;
          }
          ST() {
            var e = this.props.content;
            switch (e.type) {
              case "loading":
                return (0, r.f)(1, "div", rg, (0, r.b)(2, lr.a), 2);
              case "error":
                return (0, r.f)(
                  1,
                  "div",
                  rg,
                  (0, r.b)(2, o.b, { l10n: 335 }),
                  2
                );
              case "gifs":
                if (0 === e.gifs.length)
                  return (0, r.f)(
                    1,
                    "div",
                    rg,
                    "favorites" === e.source
                      ? (0, r.b)(2, o.b, { l10n: 333 })
                      : (0, r.b)(2, o.b, { l10n: 243 }),
                    0
                  );
                var t,
                  s = this.props,
                  n = s.selected,
                  a = s.sendGif,
                  i = s.gifProvider,
                  l = this.state.selection,
                  c = (e) => n && "grid" === l.type && e === l.index;
                "remote" === e.source
                  ? (t = e.gifs.map((e, t) => {
                      var s = c(t),
                        n = e.id + e.fetchPosition;
                      return (0, r.f)(
                        1,
                        "div",
                        null,
                        (0, r.b)(2, ag, {
                          gifProvider: i,
                          gif: e,
                          index: t,
                          selected: s,
                          sendGif: a,
                          isFarAway: this.SQ(t),
                        }),
                        2,
                        null,
                        n,
                        s ? this.SK : null
                      );
                    }))
                  : (e.source,
                    (t = e.gifs.map((t, s) => {
                      var n = c(s);
                      return (0, r.f)(
                        1,
                        "div",
                        null,
                        (0, r.b)(2, og, {
                          source: e.source,
                          gif: t,
                          index: s,
                          selected: n,
                          sendGif: a,
                          hideVideos: this.props.hideVideos,
                          isFarAway: this.SQ(s),
                        }),
                        2,
                        null,
                        t.plaintextHash,
                        n ? this.SK : null
                      );
                    })));
                var d = this.SS(e.loadingState);
                return null != d ? (0, r.c)([t, d], 0) : t;
              default:
                return e.type, null;
            }
          }
          render() {
            var e = (0, Oe.a)("NE", dt(this.SF.options.rowLength));
            return (0, r.f)(1, "div", e, this.ST(), 0);
          }
        },
        ag = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { status: null }),
              (this.onError = () => {
                this.setState({ status: "error" });
              }),
              (this.onLoad = () => {
                this.setState({ status: "loaded" });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.gifProvider !== e.gifProvider ||
                  s.index !== e.index ||
                  s.gif !== e.gif ||
                  s.selected !== e.selected ||
                  s.isFarAway !== e.isFarAway ||
                  s.sendGif !== e.sendGif)) ||
              (r !== t && r.status !== t.status)
            );
          }
          addSoftKeys(e, t) {
            var s = this.state.status;
            if ("error" === s)
              return (
                e.setRightLabel(781, () => {
                  (0, y.e)({ title: 229, text: 845 });
                }),
                void e.setCenterLabel(812, () => {
                  this.setState({ status: null });
                })
              );
            if ("loaded" === s) {
              var r = this.props,
                n = r.gif,
                a = r.sendGif,
                i = r.index;
              e.setCenterLabel(818, () => {
                a(t, { type: "remote", value: n, index: i });
              });
            }
          }
          render() {
            var e,
              t = this.props,
              s = t.selected,
              n = t.gif;
            return (
              (e = t.isFarAway
                ? null
                : "error" === this.state.status
                ? (0, r.b)(2, hg)
                : (0, r.f)(1, "img", sg, null, 1, {
                    src: n.gifPreviewUrl,
                    onError: this.onError,
                    onLoad: this.onLoad,
                  })),
              (0, r.b)(2, dg, { selected: s, children: e })
            );
          }
        },
        ig = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.SU = !1),
              (this.SV = !1),
              (this.state = {
                previewUri: null,
                preview: "loading",
                video: null,
              }),
              (this.SW = new xo.a((e) => {
                var t = this.props,
                  s = t.gif,
                  r = t.selected;
                this.setState({
                  video: { type: "loading", showSpinner: "showSpinner" === e },
                }),
                  r &&
                    (0, Kn.i)(s.contentPath).then((e) => {
                      null != e ||
                        this.SV ||
                        ((this.SV = !0),
                        this.props.backend.markGifContentAsDeleted(
                          this.props.source,
                          s.plaintextHash
                        )),
                        r &&
                          this.SU &&
                          (null != e
                            ? this.setState({
                                video: {
                                  type: "loaded",
                                  blob: e,
                                  uri: (0, Rr.a)(e),
                                },
                              })
                            : this.setState({ video: { type: "error" } }));
                    });
              })),
              (this.onPreviewError = () => {
                this.setState({ preview: "error" });
              }),
              (this.onPreviewLoad = () => {
                this.setState({ preview: "loaded" });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.source !== e.source ||
                  s.selected !== e.selected ||
                  s.isFarAway !== e.isFarAway ||
                  s.gif !== e.gif ||
                  s.index !== e.index ||
                  s.hideVideos !== e.hideVideos ||
                  s.sendGif !== e.sendGif)) ||
              (r !== t &&
                (r.previewUri !== t.previewUri ||
                  r.preview !== t.preview ||
                  r.video !== t.video))
            );
          }
          componentDidMount() {
            (this.SU = !0),
              this.setState({
                previewUri: (0, Rr.a)(this.props.gif.info.highResPreview),
              }),
              this.props.selected && this.SW.debounce(mr.b),
              super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            var s = this.props.selected;
            if (s !== e.selected) {
              var r = this.state.video;
              s && null == r && this.SW.debounce(mr.b),
                s ||
                  (this.SW.cancel(),
                  null != r && "loaded" === r.type && this.SX(r.uri));
            }
            super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            this.SU = !1;
            var e = this.state,
              t = e.previewUri,
              s = e.video;
            t && (0, Rr.b)(t),
              null != s && "loaded" === s.type && (0, Rr.b)(s.uri),
              super.componentWillUnmount();
          }
          SX(e) {
            (0, Rr.b)(e), this.setState({ video: null });
          }
          addSoftKeys(e, t) {
            var s = this.state.video;
            if (
              null != s &&
              ("error" === s.type &&
                (e.setLeftLabel(781, () => {
                  (0, y.e)({ title: 229, text: 336 });
                }),
                e.setCenterLabel(812, () => {
                  this.SW.forceRunNow("showSpinner");
                })),
              "loaded" === s.type)
            ) {
              var r = this.props,
                n = r.sendGif,
                a = r.gif,
                i = s.blob;
              e.setCenterLabel(818, () => {
                var e = a.info,
                  s = a.plaintextHash;
                n(t, {
                  type: "local",
                  plaintext: i,
                  plaintextHash: s,
                  info: e,
                });
              });
            }
          }
          render() {
            var e,
              t = this.props,
              s = t.selected,
              a = t.isFarAway,
              i = t.hideVideos,
              o = this.state,
              l = o.preview,
              c = o.previewUri,
              d = o.video;
            if ("error" === l) e = (0, r.b)(2, lg);
            else if (s && !i && null != d)
              switch (d.type) {
                case "loading":
                  d.showSpinner &&
                    (e = (0, r.f)(1, "div", "NK", (0, r.b)(2, lr.a), 2));
                  break;
                case "error":
                  e = (0, r.b)(2, lg);
                  break;
                default:
                  d.type,
                    (e = (0, r.f)(1, "video", sg, null, 1, {
                      loop: !0,
                      muted: !0,
                      autoPlay: !0,
                      src: d.uri,
                      style: n.h({ backgroundImage: c ? `url(${c})` : "" }),
                    }));
              }
            return (
              a
                ? (e = null)
                : null == e &&
                  (e = (0, r.f)(1, "img", sg, null, 1, {
                    src: c,
                    onError: this.onPreviewError,
                    onLoad: this.onPreviewLoad,
                  })),
              (0, r.b)(2, dg, { selected: s, children: e })
            );
          }
        },
        og = (0, i.j)(ig);
      function lg() {
        return (0, r.f)(
          1,
          "div",
          "NI",
          (0, r.b)(2, li.a, { className: "NJ" }),
          2
        );
      }
      var cg = class extends h.b {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.selected !== e.selected ||
              s.retryFunc !== e.retryFunc ||
              s.innerRef !== e.innerRef)
          );
        }
        addSoftKeys(e) {
          e.setCenterLabel(812, this.props.retryFunc);
        }
        render() {
          var e = this.props,
            t = e.selected,
            s = e.innerRef,
            n = (0, Oe.a)("NG", t && "NH");
          return (0, r.f)(
            1,
            "div",
            n,
            (0, r.b)(2, o.b, { l10n: 334 }),
            2,
            null,
            null,
            s
          );
        }
      };
      function dg(e) {
        var t = e.selected,
          s = e.children;
        return (0, r.f)(1, "div", "NB", [s, t && (0, r.f)(1, "div", "ND")], 0);
      }
      function hg() {
        return (0, r.f)(
          1,
          "div",
          "NI",
          (0, r.b)(2, li.a, { className: "NJ" }),
          2
        );
      }
      function ug(e) {
        switch (e.type) {
          case "gifs":
            var t = e.loadingState;
            return t && "loading" === t.type ? t.promiseId : void 0;
          case "loading":
            return e.promiseId;
          default:
            return void e.type;
        }
      }
      function pg(e, t) {
        var s = ug(e);
        return null == s
          ? (__LOG__(
              4
            )`We tried to stop loading promise id ${t} while not loading, current state is ${e.type}`,
            SEND_LOGS("gifGrid-checkPromiseId"),
            !1)
          : s === t ||
              (__LOG__(
                4
              )`We tried to stop loading the wrong promise id ${t}, content id is ${s}`,
              SEND_LOGS("gifGrid-checkPromiseId"),
              !1);
      }
      function vg(e) {
        var t = e.promiseId,
          s = e.content,
          r = ug(s);
        if (null == r)
          return "gifs" === s.type
            ? "remote" === s.source
              ? {
                  type: "gifs",
                  source: "remote",
                  query: s.query,
                  gifs: s.gifs,
                  nextFetchPosition: s.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: t },
                }
              : "recents" === s.source
              ? {
                  type: "gifs",
                  source: "recents",
                  gifs: s.gifs,
                  loadingState: { type: "loading", promiseId: t },
                }
              : (s.source,
                {
                  type: "gifs",
                  source: "favorites",
                  gifs: s.gifs,
                  nextFetchPosition: s.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: t },
                })
            : (s.type, { type: "loading", promiseId: t });
        r === t
          ? __LOG__(
              4
            )`We tried show a loading spinner for a content already displaying it, promise id ${t}`
          : __LOG__(
              4
            )`We tried to show a loading spinner for another promise id ${t}, content id ${r}`;
      }
      function fg(e) {
        var t = e.query,
          s = e.rowLength,
          r = e.content,
          n = e.result,
          a = e.promiseId;
        if (pg(r, a)) {
          if ("gifs" === r.type)
            return "remote" === r.source && "remote" === n.type
              ? (function (e, t, s, r) {
                  var n = r.gifs,
                    a = n.length,
                    i = null;
                  if (a > 0) {
                    i = r.nextFetchPosition;
                    var o = a % t;
                    0 !== o && (n = n.slice(0, -o));
                  }
                  return {
                    type: "gifs",
                    source: "remote",
                    query: e,
                    gifs: (n = a > 0 ? s.gifs.concat(n) : s.gifs),
                    nextFetchPosition: i,
                  };
                })(t, s, r, n)
              : "favorites" === r.source && "favorites" === n.type
              ? (function (e, t) {
                  var s = t.gifs;
                  return {
                    type: "gifs",
                    source: "favorites",
                    gifs: s.length > 0 ? e.gifs.concat(s) : e.gifs,
                    nextFetchPosition: t.nextFetchPosition,
                  };
                })(r, n)
              : "recents" === r.source && "recents" === n.type
              ? (function (e, t) {
                  var s = t.gifs;
                  return {
                    type: "gifs",
                    source: "recents",
                    gifs: s.length > 0 ? e.gifs.concat(s) : e.gifs,
                  };
                })(r, n)
              : (__LOG__(
                  4
                )`Trying to merge ${n.type} GIFs into a grid showing ${r.source} GIFs from promise ${a}`,
                SEND_LOGS("gifGrid-merge-source-mismatch"),
                { type: "error", query: t });
          switch (n.type) {
            case "recents":
              return { type: "gifs", source: "recents", gifs: n.gifs };
            case "favorites":
              return {
                type: "gifs",
                source: "favorites",
                gifs: n.gifs,
                nextFetchPosition: n.nextFetchPosition,
              };
            case "remote":
              return {
                type: "gifs",
                source: "remote",
                query: t,
                gifs: n.gifs,
                nextFetchPosition: n.nextFetchPosition,
              };
            default:
              return n.type, { type: "error", query: t };
          }
        }
      }
      function gg(e) {
        var t = e.content,
          s = e.fetchPosition,
          r = e.query,
          n = e.promiseId;
        if (pg(t, n))
          return "gifs" === t.type
            ? "remote" === t.source
              ? {
                  type: "gifs",
                  source: "remote",
                  query: r,
                  gifs: t.gifs,
                  nextFetchPosition: null,
                  loadingState: { type: "error", fetchPosForError: s },
                }
              : "recents" === t.source
              ? {
                  type: "gifs",
                  source: "recents",
                  gifs: t.gifs,
                  loadingState: { type: "loading", promiseId: n },
                }
              : (t.source,
                {
                  type: "gifs",
                  source: "favorites",
                  gifs: t.gifs,
                  nextFetchPosition: t.nextFetchPosition,
                  loadingState: { type: "loading", promiseId: n },
                })
            : (t.type, { type: "error", query: r });
      }
      function bg(e) {
        switch (e.source) {
          case "remote":
            return e.query;
          case "favorites":
            return "favorites";
          default:
            return void e.source;
        }
      }
      function mg(e) {
        var t = e.map((e) => e.id);
        return t.length > 0 ? "" + t[t.length - 1] : null;
      }
      var Sg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d:
                "M9.07 8.674a.4.4 0 01-.381.277H3.672a.4.4 0 00-.236.723l4.06 2.95a.4.4 0 01.145.446l-1.55 4.772a.4.4 0 00.615.447l4.059-2.949a.4.4 0 01.47 0l4.06 2.95a.4.4 0 00.615-.448l-1.55-4.772a.4.4 0 01.145-.447l4.059-2.949a.4.4 0 00-.236-.723h-5.017a.4.4 0 01-.38-.277l-1.55-4.771a.4.4 0 00-.761 0L9.07 8.674zm4.968-1.123L12.712 3.47c-.539-1.658-2.885-1.658-3.424 0L7.962 7.55h-4.29c-1.744 0-2.47 2.232-1.058 3.257l3.47 2.522-1.325 4.08c-.539 1.659 1.36 3.038 2.77 2.013L11 16.9l3.471 2.522c1.41 1.025 3.309-.354 2.77-2.013l-1.326-4.08 3.471-2.522c1.411-1.025.686-3.256-1.058-3.256h-4.29z",
              "clip-rule": "evenodd",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        yg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M14.34 5.8a.776.776 0 00-.772.778c0 .43.346.778.772.778h2.712l-4.775 5.067-3.113-3.138-.001-.001a.772.772 0 00-1.094 0h-.001l-5.55 5.59-.002.002a.773.773 0 00-.216.558.74.74 0 00.218.54.772.772 0 001.094 0l.001-.001 5.003-5.04 3.117 3.141v.001a.772.772 0 001.094 0L18.154 8.5v2.692c0 .425.346.778.773.778a.776.776 0 00.773-.778V6.576a.782.782 0 00-.777-.776H14.34z",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        kg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d:
                  "M3.4 11a7.6 7.6 0 1015.2 0 7.6 7.6 0 00-15.2 0zM11 2a9 9 0 100 18 9 9 0 000-18z",
                "clip-rule": "evenodd",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M8.7 8.75c0 .932-.492 1.688-1.1 1.688-.608 0-1.1-.756-1.1-1.688 0-.932.492-1.688 1.1-1.688.608 0 1.1.756 1.1 1.688zm6.6 0c0 .932-.493 1.688-1.1 1.688-.607 0-1.1-.756-1.1-1.688 0-.932.492-1.688 1.1-1.688.607 0 1.1.756 1.1 1.688z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d:
                  "M6.472 11.47a.764.764 0 00-.687.856c.05.4.124.881.215 1.249.573 2.308 2.93 3 5 3s4.427-.692 5-3c.091-.368.164-.849.215-1.25a.764.764 0 00-.687-.855 44.725 44.725 0 00-9.056 0zm.919 1.865c-.475.023-.849.475-.636.9.486.973 2.488 1.828 4.245 1.828 1.757 0 3.759-.855 4.245-1.828.213-.425-.161-.877-.636-.9a76.225 76.225 0 00-7.218 0z",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        Cg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                d:
                  "M5.675 9.516c-.079-.422.267-.743.556-.426l.134.153c.316.366.692.803 1.462.803s1.146-.437 1.462-.803l.133-.153c.29-.317.635.004.557.426l-.03.142C9.706 10.691 8.705 11 7.827 11c-.879 0-1.88-.31-2.123-1.342a3.07 3.07 0 01-.03-.142zm3.328 5.276c-.036.4.28.68.507.347.076-.112.151-.242.23-.378.316-.55.692-1.204 1.462-1.204s1.146.654 1.462 1.204c.078.136.153.266.23.378.225.333.542.053.506-.347-.02-.223-.046-.462-.076-.654-.243-1.549-1.244-2.013-2.122-2.013-.879 0-1.88.464-2.123 2.013-.03.192-.056.43-.076.654zm3.978-5.702c-.289-.317-.635.004-.556.426.009.05.019.098.029.142.243 1.033 1.244 1.342 2.123 1.342.878 0 1.88-.31 2.122-1.342l.03-.142c.078-.422-.268-.743-.557-.426a7.64 7.64 0 00-.133.153c-.316.366-.693.803-1.462.803-.77 0-1.146-.437-1.462-.803l-.134-.153z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                "fill-rule": "evenodd",
                d:
                  "M2.694 14.472C2.258 15.68 2 16.919 2 17.667 2 19.507 3.567 21 5.5 21a3.551 3.551 0 002.849-1.397 9 9 0 10-5.655-5.131zm4.615 4.184-.08.107a2.152 2.152 0 01-1.73.837 2.18 2.18 0 01-1.32-.43 1.919 1.919 0 01-.657-1.437c0-.626.284-1.931.785-3.096.247-.574.52-1.05.79-1.367a1.45 1.45 0 01.328-.301.404.404 0 01.086-.042c.016-.005.024-.005.026-.005.001 0 .009 0 .025.005a.404.404 0 01.086.042c.084.05.196.144.329.3.269.318.542.794.79 1.368.5 1.165.784 2.47.784 3.096 0 .331-.087.647-.242.923zm-3.482-5.138C4.308 12.642 4.899 12 5.537 12c1.621 0 2.936 4.15 2.936 5.733 0 .148-.011.292-.033.433l.32.1A7.6 7.6 0 103.4 11c0 .883.15 1.73.427 2.517z",
                "clip-rule": "evenodd",
              }),
            ],
            4,
            { viewBox: "0 0 22 22" }
          );
        },
        wg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              "fill-rule": "evenodd",
              d:
                "M4.825 7.102 3.58 6.096C4.567 4.876 5.907 4.103 7.347 4c1.361-.1 2.678.412 3.653 1.467C11.975 4.411 13.292 3.9 14.653 4c1.44.104 2.78.876 3.767 2.097 1.896 2.346 2.195 6.044.303 8.386-.573.709-1.752 2.087-3.076 3.267-.66.587-1.403 1.17-2.164 1.592-.664.369-1.543.73-2.483.665-.94.065-1.819-.296-2.483-.665-.761-.422-1.505-1.005-2.164-1.592-1.324-1.18-2.503-2.558-3.076-3.267l1.245-1.006c1.096 1.356 4.466 5.212 6.478 4.922 2.012.29 5.382-3.566 6.478-4.922 1.34-1.657 1.203-4.51-.303-6.374-1.506-1.864-3.812-2.031-5.151-.375l-.073.093c-.293.385-.625.956-.951 1.631-.326-.675-.658-1.246-.951-1.631a3.973 3.973 0 00-.073-.093c-1.339-1.656-3.645-1.489-5.151.375zm0 0L3.58 6.096c-1.896 2.346-2.195 6.044-.303 8.386l1.245-1.006c-1.34-1.657-1.203-4.51.303-6.374z",
              "clip-rule": "evenodd",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        xg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "m9.627 2.969 1.02-.288c1.017-.287 2.054-.156 2.825.609.658.653.89 1.558.979 2.277.105.852.052 1.808-.068 2.686h2.115c1.964 0 3.402 3.156 3.402 4.916 0 2.081-1.889 6.79-4.231 6.79h-4.72a8.4 8.4 0 01-2.853-.538l-.083-.031a1.89 1.89 0 01-1.263.48H4a1.9 1.9 0 01-1.9-1.9v-6.03c0-1.05.85-1.9 1.9-1.9h2.75c.435 0 .835.145 1.155.39l.02-.041L9.317 7.24a3.6 3.6 0 00.309-1.458V2.969zm-.979 8.895a4.344 4.344 0 01-.112.133v6.094l.053.02.054.02a7 7 0 002.383.428h4.643a1.17 1.17 0 001.042-.637c.789-1.538 1.789-2.95 1.789-4.753 0-.95-.791-3.516-2.002-3.516h-3.81c.104-.411.204-.893.28-1.4.234-1.553.245-3.338-.541-4.024a1.135 1.135 0 00-.327-.2c-.282-.114-.636-.124-1.073 0v1.754a5 5 0 01-.428 2.025l-1.395 3.148a4.036 4.036 0 01-.556.908zm-1.512-.243a.5.5 0 00-.386-.182H4a.5.5 0 00-.5.5v6.032a.5.5 0 00.5.5h2.75a.5.5 0 00.5-.5v-6.032a.498.498 0 00-.114-.318z",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        Ig = s(368),
        Lg = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Qj = !1),
              (this.Qk = 0),
              (this.Ql = new Map()),
              (this.Qm = lt()),
              (this.Qn = [
                { key: "recents", icon: Vo },
                { key: "favorites", icon: Sg },
                { key: "trending", icon: yg },
                { key: "haha", icon: kg },
                { key: "sad", icon: Cg },
                { key: "love", icon: wg },
                { key: "thumbs up", icon: xg },
              ]),
              (this.Qo = (e, t) => {
                if (!this.Ql.has(e)) {
                  var s = this.Qn.findIndex((t) =>
                    "" === e ? "trending" === t.key : t.key === e
                  );
                  if (s < 0)
                    return (
                      __LOG__(
                        4
                      )`Failed to find the category index for query ${e}`,
                      void SEND_LOGS("sendGif-loadGifs-categoryNotFound")
                    );
                  var r,
                    n = ++this.Qk;
                  switch (
                    (this.Ql.set(e, n),
                    __LOG__(
                      2
                    )`Fetching GIFs for query ${e} at position ${t}, id ${n}`,
                    e)
                  ) {
                    case "recents":
                      r = Ol(this.props.backend);
                      break;
                    case "favorites":
                      var a = (function (e) {
                        var t = null;
                        if (e && ((t = parseInt(e, 10)), Number.isNaN(t)))
                          throw new Error(
                            `getFavoriteFromId: Incorrect fetch position, should always be a number but was [${e}]`
                          );
                        return t;
                      })(t);
                      r = (function (e, t) {
                        return e
                          .sendAndReceive("backend", "getFavoriteGifs", {
                            fromId: t,
                            limit: ul,
                          })
                          .then((e) => {
                            var t;
                            return (
                              e.length > 0 && (t = e[e.length - 1].id),
                              {
                                type: "favorites",
                                gifs: e,
                                nextFetchPosition: null != t ? "" + t : null,
                              }
                            );
                          });
                      })(this.props.backend, a);
                      break;
                    default:
                      r = (function (e, t, s) {
                        return "" !== t
                          ? fl(e, t, s)
                          : (function (e, t) {
                              switch (e) {
                                case "GIPHY":
                                  return (function () {
                                    var e =
                                      arguments.length > 0 &&
                                      void 0 !== arguments[0]
                                        ? arguments[0]
                                        : "";
                                    return gl(
                                      (0, pa.c)(Sl, "/v1/gifs/trending", {
                                        api_key: ml,
                                        limit: ul,
                                        rating: "pg-13",
                                        offset: e,
                                      }),
                                      e,
                                      yl,
                                      Cl,
                                      kl
                                    );
                                  })(t);
                                case "TENOR":
                                  return (function () {
                                    var e =
                                        arguments.length > 0 &&
                                        void 0 !== arguments[0]
                                          ? arguments[0]
                                          : "",
                                      t = (0, it.d)().lg;
                                    return gl(
                                      (0, pa.c)(Il, "/v1/trending", {
                                        key: xl,
                                        limit: ul,
                                        contentfilter: "low",
                                        media_filter: "basic",
                                        locale: t,
                                        pos: e,
                                      }),
                                      e,
                                      Ll,
                                      Nl,
                                      _l
                                    );
                                  })(t);
                                default:
                                  return (0, f.a)(e);
                              }
                            })(e, s);
                      })(this.props.gifProvider, e, t);
                  }
                  r.then(
                    (r) => {
                      this.Qj &&
                        this.Qs(e, n) &&
                        (null == r
                          ? this.Qw({
                              categoryIndex: s,
                              promiseId: n,
                              query: e,
                              fetchPosition: t,
                            })
                          : this.Qv({
                              categoryIndex: s,
                              promiseId: n,
                              query: e,
                              result: r,
                            }));
                    },
                    (r) => {
                      this.Qj &&
                        (this.Qs(e, n) &&
                          this.Qw({
                            categoryIndex: s,
                            promiseId: n,
                            query: e,
                            fetchPosition: t,
                          }),
                        __LOG__(4)`Failed to fetch with ${r}`,
                        SEND_LOGS("sendGif-loadGifs-failedFetch"));
                    }
                  ),
                    this.Qu({ categoryIndex: s, promiseId: n, query: e });
                }
              }),
              (this.Qy = () => {
                this.Qx(this.state.selectedCategoryIndex - 1);
              }),
              (this.Qz = () => {
                this.Qx(this.state.selectedCategoryIndex + 1);
              }),
              (this.RA = () => {
                this.setState({ selection: "category" });
              }),
              (this.RB = () => {
                var e = this.state.contents[this.state.selectedCategoryIndex];
                ("gifs" === e.type && 0 === e.gifs.length) ||
                  this.setState({ selection: "grid" });
              }),
              (this.RC = (e) => {
                var t,
                  s,
                  r = this.props,
                  n = r.chatJid,
                  a = r.defaultCaption,
                  i = r.quote,
                  o = r.gifProvider,
                  l = r.actionAfterSending,
                  c = r.from;
                return (
                  "remote" === e.type
                    ? (t = {
                        type: "gif",
                        source: "remote",
                        mp4Url: e.value.mp4Url,
                        gifId: e.value.id,
                        gifAttribution: ((s = o), Gs.g[s]),
                      })
                    : (e.type,
                      (t = {
                        type: "gif",
                        source: "local",
                        plaintext: e.plaintext,
                        plaintextHash: e.plaintextHash,
                        info: e.info,
                      })),
                  {
                    from: c,
                    jid: n,
                    media: t,
                    defaultCaption: a,
                    quote: i,
                    actionAfterSending: l,
                  }
                );
              }),
              (this.RD = (e, t) => {
                e.openScreen("SEND_MEDIA", this.RC(t));
              }),
              (this.state = {
                selectedCategoryIndex: 2,
                selection: "category",
                contents: this.Qn.map((e) => ({
                  type: "initial",
                  query: e.key,
                })),
              });
          }
          componentDidMount() {
            (this.Qj = !0),
              this.Qo("", ""),
              (0, tg.f)(),
              WAM.log("regular", 1852, void 0, []),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Qj = !1), (0, tg.e)(), super.componentWillUnmount();
          }
          componentDidUpdate(e, t) {
            var s = this.props,
              r = s.refreshRecentGif,
              n = s.lastAddedFavoriteGifs,
              a = s.lastRemovedFavoriteGif;
            r && r !== e.refreshRecentGif && this.Qp(),
              n && n !== e.lastAddedFavoriteGifs && this.Qq(n),
              a && a !== e.lastRemovedFavoriteGif && this.Qr(a),
              super.componentDidUpdate(e, t);
          }
          Qp() {
            if (!this.Ql.has("recents")) {
              __LOG__(2)`SendGif: refreshing recents`;
              var e = ++this.Qk;
              this.Ql.set("recents", e),
                Ol(this.props.backend).then((t) => {
                  if (this.Qj && this.Qs("recents", e)) {
                    __LOG__(2)`SendGif: updating recents`;
                    var s = t.gifs;
                    this.Qt(0, (e) =>
                      (function (e, t) {
                        return { type: "gifs", source: "recents", gifs: t };
                      })(0, s)
                    );
                  }
                });
            }
          }
          Qq(e) {
            "initial" !== this.state.contents[1].type
              ? (__LOG__(2)`SendGif: Prepending new favorites`,
                this.Qt(1, (t) =>
                  (function (e, t) {
                    var s = [],
                      r = null;
                    if ("gifs" === e.type && "favorites" === e.source) {
                      var n = new Set();
                      t.forEach((e) => {
                        s.push(e), n.add(e.plaintextHash);
                      }),
                        e.gifs.forEach((e) => {
                          n.has(e.plaintextHash) || s.push(e);
                        }),
                        (r = mg(s));
                    }
                    return {
                      type: "gifs",
                      source: "favorites",
                      gifs: s.length > 0 ? s : t,
                      nextFetchPosition: r,
                    };
                  })(t, e)
                ))
              : __LOG__(2)`SendGif: dropping favorite, hasn't initialized yet`;
          }
          Qr(e) {
            __LOG__(2)`SendGif: Removing favorite`,
              this.Qt(1, (t) =>
                (function (e, t) {
                  if ("gifs" === e.type && "favorites" === e.source) {
                    var s = e.gifs.filter((e) => e.plaintextHash !== t);
                    return {
                      type: "gifs",
                      source: "favorites",
                      gifs: s,
                      nextFetchPosition: mg(s),
                    };
                  }
                  return e;
                })(t, e)
              );
          }
          Qt(e, t) {
            this.setState((s) => {
              var r = s.contents[e],
                n = t(r);
              if (null == n) return null;
              var a = s.selection;
              return (
                "gifs" === n.type &&
                  0 === n.gifs.length &&
                  (__LOG__(
                    2
                  )`_updateContent: empty gifs, moving back to category`,
                  (a = "category")),
                {
                  contents: s.contents.map((t, s) => (s === e ? n : t)),
                  selection: a,
                }
              );
            });
          }
          Qu(e) {
            var t = e.categoryIndex,
              s = e.promiseId,
              r = e.query;
            __LOG__(2)`Start loading GIFs for query ${r} with id ${s}`,
              this.Qt(t, (e) => vg({ promiseId: s, content: e }));
          }
          Qv(e) {
            var t = e.categoryIndex,
              s = e.promiseId,
              r = e.query,
              n = e.result,
              a = n.gifs;
            __LOG__(
              2
            )`Successfully loaded ${a.length} GIFs with query ${r} and id ${s}`,
              this.Qt(t, (e) =>
                fg({
                  query: r,
                  promiseId: s,
                  rowLength: this.Qm,
                  content: e,
                  result: n,
                })
              );
          }
          Qw(e) {
            var t = e.categoryIndex,
              s = e.promiseId,
              r = e.query,
              n = e.fetchPosition;
            __LOG__(
              2
            )`Failed to load GIFs with query ${r} at position ${n} with id ${s}`,
              this.Qt(t, (e) =>
                gg({ query: r, promiseId: s, fetchPosition: n, content: e })
              );
          }
          Qs(e, t) {
            var s = this.Ql.get(e);
            return s !== t
              ? (__LOG__(
                  4
                )`Only one promise per query should be pending, id ${t} has completed while id ${s} is the pending one`,
                SEND_LOGS("sendGifs-loadGifs-multiplePromisesPerQuery"),
                !1)
              : (this.Ql.delete(e), !0);
          }
          Qx(e) {
            var t = e;
            if (
              (t < 0
                ? (t = this.Qn.length - 1)
                : t >= this.Qn.length && (t = 0),
              "initial" === this.state.contents[t].type)
            ) {
              var s = this.Qn[t].key;
              switch (s) {
                case "recents":
                  this.Qo("recents", "");
                  break;
                case "favorites":
                  this.Qo("favorites", "");
                  break;
                default:
                  var r = "trending" !== s ? s : "";
                  this.Qo(r, "");
              }
            }
            this.setState({ selectedCategoryIndex: t, selection: "category" });
          }
          addSoftKeys(e, t) {
            e.addCancel();
            var s = this.state,
              n = s.contents,
              a = s.selection,
              i = n[s.selectedCategoryIndex];
            e.setRightIcon((0, r.b)(2, Ig.a, { className: "LH p" }), () => {
              t.openScreen("GIF_SEARCH", {
                gifProvider: this.props.gifProvider,
                makeSendMediaProps: this.RC,
              });
            }),
              Ng(a, i) &&
                ((0, it.g)()
                  ? e.setLeftRightArrows(this.Qz, this.Qy)
                  : e.setLeftRightArrows(this.Qy, this.Qz),
                e.setDownArrow(this.RB),
                "error" === i.type &&
                  e.setCenterLabel(812, () => {
                    this.Qo(i.query, "");
                  }));
          }
          render() {
            var e = this.props,
              t = e.gifProvider,
              s = e.isActiveScreen,
              n = this.state,
              a = n.selection,
              i = n.selectedCategoryIndex,
              o = n.contents[i],
              l = Ng(a, o);
            return (0, r.c)(
              [
                (0, r.b)(2, Bo, {
                  items: this.Qn,
                  selected: l,
                  selectedIndex: i,
                }),
                (0, r.b)(
                  2,
                  ng,
                  {
                    selected: !l,
                    gifProvider: t,
                    content: o,
                    hideVideos: !s,
                    onReachStart: this.RA,
                    onReachPreviousSide: this.Qy,
                    onReachNextSide: this.Qz,
                    loadGifs: this.Qo,
                    sendGif: this.RD,
                  },
                  i
                ),
              ],
              8
            );
          }
        },
        _g = (0, i.j)((0, h.e)(Lg));
      function Ng(e, t) {
        return "category" === e || "gifs" !== t.type;
      }
      var Mg = s(248),
        Og = { type: "search" },
        Tg = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.QT = n.e()),
              (this.QU = n.e()),
              (this.QV = !1),
              (this.QW = null),
              (this.QX = new Map()),
              (this.QY = new xo.a((e) => {
                this.QZ(e);
              })),
              (this.Qa = { totalSearchesPerformed: 0, totalCacheHits: 0 }),
              (this.state = { query: "", content: "initial", selection: Og }),
              (this.Qe = (e) => {
                this.setState({ selection: Og }), this.QY.debounce(300, e);
              }),
              (this.Qf = (e) => {
                var t = e.target.value;
                this.QY.debounce(300, t);
              }),
              (this.Qc = (e) => {
                var t = this.QU.current;
                if (null != t) {
                  var s = this.state.selection,
                    r = "search" === s.type ? "start" : s.direction;
                  (0, ht.e)(t, { block: r, behavior: e || "smooth" });
                }
              }),
              (this.Qb = () => {
                this.Qc("instant");
              }),
              (this.Qh = () => {
                var e = this.state,
                  t = e.selection,
                  s = e.content;
                Ag(s) ||
                  ("term" === t.type &&
                    (0 === t.index
                      ? this.setState({ selection: Og })
                      : this.Qg(s, t.index - 1, "start")));
              }),
              (this.Qi = () => {
                var e = this.state,
                  t = e.selection,
                  s = e.content;
                Ag(s) ||
                  ("term" === t.type
                    ? this.Qg(s, t.index + 1, "end")
                    : (t.type, this.Qg(s, 0, "end")));
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.gifProvider !== e.gifProvider ||
                  s.makeSendMediaProps !== e.makeSendMediaProps)) ||
              (r !== t &&
                (r.query !== t.query ||
                  r.content !== t.content ||
                  r.selection !== t.selection))
            );
          }
          componentDidMount() {
            var e;
            (this.QV = !0),
              document.addEventListener("focus_input", this.Qb),
              (e = this.props.gifProvider),
              WAM.log("regular", 1134, void 0, [1, 0, vl(e)]),
              super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            this.state.selection !== t.selection && this.Qc(),
              super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            var e, t;
            (this.QV = !1),
              this.QY.cancel(),
              (e = this.Qa.totalSearchesPerformed),
              (t = this.Qa.totalCacheHits),
              WAM.log("regular", 2042, void 0, [
                1,
                0,
                e,
                3,
                0,
                t,
                2,
                0,
                null,
                4,
                0,
                null,
              ]),
              document.removeEventListener("focus_input", this.Qb),
              super.componentWillUnmount();
          }
          Qd(e, t) {
            e === this.QW &&
              this.setState((s) => {
                if (s.content === t) return null;
                var r = s.selection;
                return (
                  Ag(t) && "search" !== r.type && (r = Og),
                  { query: e, content: t, selection: r }
                );
              });
          }
          QZ(e) {
            if (((this.QW = e), "" !== e)) {
              var t = this.QX.get(e);
              if (null != t)
                return (
                  __LOG__(2)`GIF autcomplete on ${e}, read from cache`,
                  this.Qa.totalCacheHits++,
                  void this.Qd(e, t)
                );
              this.QX.set(e, "loading"), this.Qd(e, "loading");
              var s = this.props.gifProvider;
              __LOG__(2)`GIF autcomplete on ${e}, fetching from ${s}`,
                (function (e, t, s) {
                  switch (e) {
                    case "GIPHY":
                      return (function (e) {
                        return bl(
                          (0, pa.c)(Sl, "/v1/gifs/search/tags", {
                            api_key: ml,
                            limit: 5,
                            q: e,
                          }),
                          yl,
                          wl
                        );
                      })(t);
                    case "TENOR":
                      return (function (e) {
                        var t = (0, it.d)().lg;
                        return bl(
                          (0, pa.c)(Il, "/v1/autocomplete", {
                            key: xl,
                            limit: 5,
                            locale: t,
                            q: e,
                            type: "trending",
                          }),
                          Ll,
                          Ml
                        );
                      })(t);
                    default:
                      return (0, f.a)(e);
                  }
                })(s, e)
                  .then((t) => {
                    if (this.QV) {
                      var s = this.QX.get(e);
                      if ("loading" !== s)
                        return (
                          __LOG__(
                            4
                          )`Query ${e} was not in a loading state when completed, instead was ${s}`,
                          void SEND_LOGS(
                            "gifSearch-autocomplete-queryWasNotLoading"
                          )
                        );
                      __LOG__(2)`GIF autcomplete on ${e}, done`,
                        "ok" === t.type
                          ? (this.QX.set(e, t.terms), this.Qd(e, t.terms))
                          : (t.type,
                            this.QX.delete(e),
                            this.Qd(e, "error"),
                            __LOG__(
                              4
                            )`Failed to perform autocomplete: ${t.reason}`);
                    }
                  })
                  .catch((t) => {
                    this.QV &&
                      (this.QX.delete(e),
                      this.Qd(e, "error"),
                      __LOG__(4)`Failed to perform autocomplete: ${t}`,
                      SEND_LOGS("gifSearch-autocomplete-failed"));
                  });
            } else this.Qd(e, "initial");
          }
          Qg(e, t, s) {
            var r = e[t];
            r &&
              this.setState({
                selection: { type: "term", value: r, index: t, direction: s },
              });
          }
          addSoftKeys(e, t) {
            var s = () => {
              (function (e) {
                WAM.log("regular", 1126, void 0, [1, 0, vl(e)]);
              })(this.props.gifProvider),
                t.goBack();
            };
            e.setLeftLabel(761, s),
              e.setBack(s),
              e.setUpDownArrows(this.Qh, this.Qi);
            var r = this.props,
              n = r.gifProvider,
              a = r.makeSendMediaProps,
              i = this.state,
              o = i.query,
              l = i.selection;
            if (
              ("search" === l.type
                ? o &&
                  e.setCenterLabel(817, () => {
                    this.Qa.totalSearchesPerformed++,
                      t.openScreen("GIF_RESULTS", {
                        query: o,
                        gifProvider: n,
                        makeSendMediaProps: a,
                      });
                  })
                : (l.type,
                  e.setCenterLabel(817, () => {
                    this.Qa.totalSearchesPerformed++,
                      t.openScreen("GIF_RESULTS", {
                        query: l.value,
                        gifProvider: n,
                        makeSendMediaProps: a,
                      });
                  })),
              o)
            ) {
              var c = this.QT.current;
              c &&
                e.setRightLabel(763, () => {
                  c.setValue("");
                });
            }
          }
          render() {
            var e = this.state,
              t = e.query,
              s = e.content,
              n = e.selection,
              a = "term" === n.type ? n.value : null,
              i = null;
            switch (s) {
              case "initial":
                break;
              case "loading":
                i = (0, r.f)(1, "div", "LD", (0, r.b)(2, lr.a), 2);
                break;
              case "error":
                i = (0, r.f)(
                  1,
                  "div",
                  "LC",
                  (0, r.b)(2, o.b, { l10n: 335 }),
                  2
                );
                break;
              default:
                i =
                  Array.isArray(s) && s.length > 0
                    ? s.map((e) => {
                        var s = e === a;
                        return (0, r.f)(
                          1,
                          "div",
                          (0, Oe.a)("Ky", s && "LE"),
                          [
                            (0, r.b)(2, Ig.a, { className: "Kz" }),
                            (0, r.f)(
                              1,
                              "div",
                              "LA",
                              (0, r.b)(2, Eg, { value: e, query: t }),
                              2
                            ),
                          ],
                          4,
                          null,
                          e,
                          s ? this.QU : null
                        );
                      })
                    : (0, r.f)(
                        1,
                        "div",
                        "LC",
                        (0, r.b)(2, o.b, { l10n: 243 }),
                        2
                      );
            }
            var l = "search" === n.type;
            return (0, r.b)(2, b.a, {
              children: [
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("Kx", l && "LE"),
                  (0, r.b)(2, Mg.a, {
                    hasFocusPriority: l,
                    placeholder: 338,
                    onChange: this.Qe,
                    onKeyDown: this.Qf,
                    forwardedRef: this.QT,
                  }),
                  2,
                  null,
                  null,
                  l ? this.QU : null
                ),
                i,
              ],
            });
          }
        },
        Pg = (0, h.e)(Tg);
      function Ag(e) {
        return "string" == typeof e;
      }
      var Eg = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && (s.value !== e.value || s.query !== e.query);
          }
          render() {
            var e = this.props,
              t = e.value,
              s = e.query;
            return s && t.toLowerCase().startsWith(s.toLowerCase())
              ? [
                  t.substr(0, s.length),
                  (0, r.f)(
                    1,
                    "span",
                    "LB",
                    t.substring(s.length),
                    0,
                    null,
                    "after"
                  ),
                ]
              : t;
          }
        },
        Rg = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.QL = !1),
              (this.QM = null),
              (this.QN = lt()),
              (this.QO = 0),
              (this.QP = null),
              (this.QQ = (e, t) => {
                if (null == this.QM) {
                  var s = ++this.QO;
                  this.QM = t;
                  var r = Date.now(),
                    n = this.props.gifProvider;
                  __LOG__(2)`Fetching GIFs for query ${e} at position ${t}`,
                    fl(n, e, t)
                      .then((a) => {
                        this.QL &&
                          this.QR(t) &&
                          ((this.QM = null),
                          null == a
                            ? (__LOG__(
                                2
                              )`Failed to load GIFs with query ${e} at position ${t}`,
                              this.setState((r) => {
                                var n = r.content,
                                  a = gg({
                                    promiseId: s,
                                    query: e,
                                    fetchPosition: t,
                                    content: n,
                                  });
                                return a ? { content: a } : null;
                              }))
                            : (__LOG__(
                                2
                              )`Successfully loaded ${a.gifs.length} GIFs with query ${e} and id ${s}`,
                              null == this.QP &&
                                ((this.QP = Date.now() - r),
                                0 === a.gifs.length &&
                                  (function (e, t) {
                                    var s = (0, it.d)();
                                    WAM.log("regular", 1128, void 0, [
                                      1,
                                      0,
                                      vl(e),
                                      2,
                                      2,
                                      s.lg,
                                      3,
                                      2,
                                      s.lg,
                                    ]);
                                  })(n)),
                              this.setState((t) => {
                                var r = t.content,
                                  n = fg({
                                    promiseId: s,
                                    query: e,
                                    rowLength: this.QN,
                                    content: r,
                                    result: a,
                                  });
                                return n ? { content: n } : null;
                              })));
                      })
                      .catch(() => {
                        this.QL &&
                          this.QR(t) &&
                          ((this.QM = null),
                          __LOG__(
                            2
                          )`Crashed while loading GIFs with query ${e} at position ${t}`,
                          this.setState((r) => {
                            var n = r.content,
                              a = gg({
                                promiseId: s,
                                query: e,
                                fetchPosition: t,
                                content: n,
                              });
                            return a ? { content: a } : null;
                          }));
                      }),
                    __LOG__(2)`Start loading GIFs for query ${e} with id ${s}`,
                    this.setState((e) => {
                      var t = e.content,
                        r = vg({ promiseId: s, content: t });
                      return r ? { content: r } : null;
                    });
                }
              }),
              (this.QS = (e, t) => {
                var s, r;
                "remote" === t.type &&
                  ((s = this.props.gifProvider),
                  (r = t.index),
                  WAM.log("regular", 1122, void 0, [1, 0, vl(s), 2, 0, r])),
                  e.openScreen("SEND_MEDIA", this.props.makeSendMediaProps(t));
              }),
              (this.state = { content: { type: "initial", query: e.query } });
          }
          componentDidMount() {
            (this.QL = !0),
              this.QQ(this.props.query, ""),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.QL = !1), super.componentWillUnmount();
          }
          QR(e) {
            var t = this.QM;
            return null == t
              ? (__LOG__(
                  4
                )`We tried to stop loading at ${e} while not loading, current state is ${this.state.content.type}`,
                SEND_LOGS("gifResults-checkLoading"),
                !1)
              : t === e ||
                  (__LOG__(
                    4
                  )`We tried to stop loading the wrong promise at ${e}, current one is ${t}`,
                  SEND_LOGS("gifResults-checkLoading"),
                  !1);
          }
          addSoftKeys(e, t) {
            e.setLeftLabel(758, t.goBack);
            var s = this.state.content;
            "error" === s.type &&
              e.setCenterLabel(812, () => {
                this.QQ(s.query, "");
              });
          }
          render() {
            var e = this.props,
              t = e.gifProvider,
              s = e.query;
            return (0, r.b)(2, b.a, {
              title: s,
              children: (0, r.b)(2, ng, {
                selected: !0,
                gifProvider: t,
                content: this.state.content,
                loadGifs: this.QQ,
                onReachStart: null,
                onReachPreviousSide: null,
                onReachNextSide: null,
                sendGif: this.QS,
                hideVideos: !1,
              }),
            });
          }
        },
        Gg = (0, h.e)(Rg),
        Ug = s(516),
        Dg = new Map([
          [
            0,
            new Uint8Array([
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
            ]),
          ],
          [
            90,
            new Uint8Array([
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              255,
              255,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
            ]),
          ],
          [
            180,
            new Uint8Array([
              255,
              255,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              255,
              255,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
            ]),
          ],
          [
            270,
            new Uint8Array([
              0,
              0,
              0,
              0,
              255,
              255,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
            ]),
          ],
        ]);
      Array.from(Dg.keys());
      var jg = s(82),
        Bg = new Uint8Array([79, 112, 117, 115, 72, 101, 97, 100]);
      function Vg() {
        return (Vg = wo()(function* (e) {
          var t = e.slice(26, 27);
          if (1 !== t.size) return !1;
          var s = yield (0, U.h)(t),
            r = 26 + new DataView(s).getUint8(0) + 1,
            n = e.slice(r, r + Bg.byteLength);
          if (n.size !== Bg.byteLength) return !1;
          for (
            var a = yield (0, U.h)(n), i = new Uint8Array(a), o = !0, l = 0;
            l < i.length;
            ++l
          )
            if (i[l] !== Bg[l]) {
              o = !1;
              break;
            }
          return o;
        })).apply(this, arguments);
      }
      var Fg = s(501),
        Wg = s(396),
        Kg = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Pi = !1),
              (this.Pj = !1),
              (this.Pk = !1),
              (this.Pl = n.e()),
              (this.Pm = !1),
              (this.Pn = null),
              (this.Po = !1),
              (this.Pp = !1),
              (this.QC = (e) => {
                this.setState({ caption: e });
              }),
              (this.QD = () => {
                var e;
                switch (this.state.imageRotation) {
                  case 0:
                    e = 90;
                    break;
                  case 90:
                    e = 180;
                    break;
                  case 180:
                    e = 270;
                    break;
                  default:
                    e = 0;
                }
                this.setState({ imageRotation: e });
              }),
              (this.QE = () => {
                var e = this.props,
                  t = e.media,
                  s = e.backend;
                "image" !== t.type &&
                  "video" !== t.type &&
                  __LOG__(3)`Invalid media type for view once`,
                  this.setState(
                    (e) => ({ viewOnceEnabled: !e.viewOnceEnabled }),
                    () => {
                      !0 !== Ql.N.get()
                        ? ((this.Pk = !0),
                          s.openScreen("VIEW_ONCE_NUX", { nuxType: "default" }))
                        : this.Pk ||
                          !0 !== this.state.viewOnceEnabled ||
                          ((this.Pk = !0),
                          (0, pe.a)("image" === t.type ? 967 : 968));
                    }
                  );
              }),
              (this.QF = (e) => {
                var t = this.props,
                  s = t.media,
                  r = t.chat,
                  n = t.contacts,
                  a = new V.a();
                if (
                  (this.Pq ||
                    "image" !== s.type ||
                    a.addEntry(
                      815,
                      this.QD,
                      void 0,
                      this.state.rotationError || null == this.state.upload
                    ),
                  "gif" === s.type && (0, Tn.a)("gif_search_enabled"))
                ) {
                  var i = this.state.favoriteGif,
                    o =
                      "unknown" === i ||
                      "removingFromFavorites" === i ||
                      "addingToFavorites" === i,
                    l = "isFavorite" === i || "removingFromFavorites" === i;
                  a.addEntry(
                    l ? 190 : 188,
                    () => {
                      o || this.QH(e, !l);
                    },
                    void 0,
                    o
                  );
                }
                if (
                  ((0, dn.c)(s) &&
                    r &&
                    !(0, d.h)(r, n) &&
                    a.addCheckboxEntry(
                      971,
                      this.state.viewOnceEnabled,
                      this.QE
                    ),
                  this.Pq && this.state.blob)
                ) {
                  var c = this.state.blob;
                  a.addEntry(492, () => {
                    e.openScreen("MEDIA_EDITOR", {
                      fit: "contain",
                      tools: {
                        hasRotation: !0,
                        hasEmoji: !0,
                        hasFilter: !0,
                        hasCrop: !0,
                      },
                      media: c,
                      onComplete: (e, t) => {
                        this.Pi &&
                          ("changed" === t && (this.Po = !0),
                          this.Ps(e)
                            ? __LOG__(3)`Passed blob is too large: ${e}`
                            : (this.setState({ blob: e }), this.Pt(e)));
                      },
                    });
                  });
                }
                a.addEntry(761, () => {
                  e.goBack();
                }),
                  (this.Pn = (0, y.j)(a));
              }),
              (this.QG = (e) => {
                cl(e, (e) => {
                  var t = this.Pl.current;
                  t && t.pasteText(e);
                });
              }),
              (this.QH = (e, t) => {
                var s = this.props.media,
                  r = this.state.upload;
                "gif" === s.type &&
                  null != r &&
                  "gif" === r.type &&
                  (t
                    ? (__LOG__(2)`SendMedia: Adding to favorite GIFs`,
                      this.setFavoriteGif("addingToFavorites"),
                      e
                        .addFavoriteGif(
                          r,
                          "local" === s.source ? s.plaintextHash : null
                        )
                        .then(() => {
                          this.Pi && this.setFavoriteGif("isFavorite");
                        }))
                    : (__LOG__(2)`SendMedia: Removing from favorite GIFs`,
                      this.setFavoriteGif("removingFromFavorites"),
                      ("local" === s.source
                        ? e.removeFavoriteGif(s.plaintextHash)
                        : e.removeFavoriteGifFromId(s.gifId, s.gifAttribution)
                      ).then(() => {
                        this.Pi && this.setFavoriteGif("isNotFavorite");
                      })));
              }),
              (this.setFavoriteGif = (e) => {
                this.setState({ favoriteGif: e });
                var t = this.props.overlayId;
                null != t &&
                  t === this.Pn &&
                  (("isNotFavorite" !== e && "isFavorite" !== e) ||
                    this.QF(this.props.backend));
              }),
              (this.state = {
                caption: e.defaultCaption,
                blob: null,
                previewUrl: null,
                upload: null,
                imageRotation: 0,
                rotationError: !1,
                viewOnceEnabled: !1,
                favoriteGif: "unknown",
              }),
              (this.Pq = (0, Tn.a)("send_media_editor"));
          }
          componentDidMount() {
            this.Pi = !0;
            var e = this.props,
              t = e.media,
              s = e.backend,
              r = e.settings;
            switch (t.type) {
              case "image":
                if (t.blob) {
                  var n = t.blob;
                  if (this.Ps(n))
                    return void __LOG__(3)`Passed blob is too large: ${n}`;
                  this.setState({ blob: n }), this.Pt(n);
                } else this.Pr();
                break;
              case "video":
                if (((this.Pm = !0), t.file)) {
                  var a = t.file;
                  if (this.Ps(a))
                    return void __LOG__(
                      3
                    )`Passed media blob is too large: ${a.size}`;
                  this.setState({ blob: a }), this.Pv(a);
                } else this.Pu();
                break;
              case "audio":
                this.Pw();
                break;
              case "gif":
                (this.Pm = !0), this.Px();
                break;
              default:
                return (0, f.a)(t.type);
            }
            r || s.loadStatusPrivacySettings(),
              this.Pm && (0, tg.f)(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.Pi = !1;
            var e = this.state,
              t = e.previewUrl,
              s = e.upload;
            this.Pp ||
              null == s ||
              "image" !== s.type ||
              WAM.log("regular", 2892, void 0, [2, 1, this.Po, 1, 1, !1]),
              t && URL.revokeObjectURL(t),
              this.Pm && (0, tg.e)(),
              super.componentWillUnmount();
          }
          Ps(e) {
            var t = this.props.backend,
              s = (0, se.g)();
            return (
              e.size > s * U.b &&
              ((0, y.e)({ title: 229, text: [s, 157], onClose: t.goBack }), !0)
            );
          }
          Py() {
            var e = this.props.jid;
            return null == e ? "unknown" : e === nr.h ? "status" : "chat";
          }
          Pt(e) {
            var t = this.Py();
            return (0, gh.scaleImageAndConvertToJpg)(e, t).then((e) => {
              this.Pi &&
                this.setState({
                  previewUrl: URL.createObjectURL(e.fullImage),
                  upload: {
                    type: "image",
                    plaintext: e.fullImage,
                    preview: e.preview,
                    width: e.fullImageWidth,
                    height: e.fullImageHeight,
                    bg: e.bg,
                    caption: null,
                  },
                });
            });
          }
          Pr() {
            var e = this.props.backend;
            (0, A.j)(e, "image/jpeg")
              .then((t) => {
                if (this.Pi)
                  if (t) {
                    if (!this.Ps(t))
                      return this.setState({ blob: t }), this.Pt(t);
                  } else e.goBack();
              })
              .catch((t) => {
                throw (this.Pi && e.goBack(), t);
              });
          }
          Px() {
            var e = this.props,
              t = e.media,
              s = e.backend;
            if ("gif" === t.type) {
              var r = gh.videoInfoAndPreview,
                n = (function (e, t) {
                  if ("remote" === t.source) {
                    var s = t.gifId,
                      r = t.gifAttribution;
                    __LOG__(2)`pickGif: Picking remote gif`;
                    var n = e.sendAndReceive("backend", "isFavoriteGifFromId", {
                      gifAttribution: r,
                      gifId: s,
                    });
                    return {
                      gifId: s,
                      gifAttribution: r,
                      blobPromise: (0, pa.k)(t.mp4Url).then((e) => {
                        if (e.ok) return e.blob();
                        throw new Error(e.statusText);
                      }),
                      isFavoritePromise: n,
                    };
                  }
                  t.source, __LOG__(2)`pickGif: Picking cached gif`;
                  var a = e.sendAndReceive("backend", "isFavoriteGif", {
                    plaintextHash: t.plaintextHash,
                  });
                  return {
                    gifId: t.info.gifId,
                    gifAttribution: t.info.gifAttribution,
                    blobPromise: Promise.resolve(t.plaintext),
                    isFavoritePromise: a,
                    videoWithPreview: () => Promise.resolve(t.info),
                  };
                })(s, t),
                a = n.gifId,
                i = n.gifAttribution,
                o = n.blobPromise,
                l = n.isFavoritePromise,
                c = n.videoWithPreview;
              null != c && (r = c),
                l.then((e) => {
                  this.Pi &&
                    (__LOG__(2)`SendMedia: setting favourite gif ${e}`,
                    this.setFavoriteGif(e ? "isFavorite" : "isNotFavorite"));
                }),
                o.then((e) => {
                  if (this.Pi && !this.Ps(e))
                    return (
                      this.setState({ blob: e }),
                      r(e)
                        .then((t) => {
                          var s = t.preview,
                            r = t.highResPreview,
                            n = t.width,
                            o = t.height,
                            l = t.duration,
                            c = t.bg,
                            d = t.rotation;
                          this.Pi &&
                            this.setState({
                              previewUrl: URL.createObjectURL(r),
                              upload: {
                                type: "gif",
                                gifId: a,
                                gifAttribution: i,
                                plaintext: e,
                                preview: s,
                                frame: r,
                                width: n,
                                height: o,
                                duration: l,
                                bg: c,
                                rotation: d,
                                caption: null,
                              },
                            });
                        })
                        .catch((e) => {
                          if (this.Pi) {
                            __LOG__(4)`Error when sending GIF: ${e}`;
                            var t = this.props.backend;
                            (0, y.e)({
                              title: 229,
                              text: 845,
                              onClose: t.goBack,
                            });
                          }
                        })
                    );
                });
            }
          }
          Pv(e) {
            return (0, gh.videoInfoAndPreview)(e).then((t) => {
              var s = t.preview,
                r = t.highResPreview,
                n = t.width,
                a = t.height,
                i = t.duration,
                o = t.rotation,
                l = t.bg;
              if (this.Pi) {
                var c = this.props,
                  d = c.jid,
                  h = c.serverProps,
                  u = c.backend;
                if (d && d === nr.h && i > h.statusVideoMaxDuration)
                  return (
                    __LOG__(
                      3
                    )`Passed video is too long: ${i}-${h.statusVideoMaxDuration}`,
                    void (0, y.e)({
                      title: 884,
                      text: [h.statusVideoMaxDuration, 228],
                      onClose: u.goBack,
                    })
                  );
                this.setState({
                  previewUrl: URL.createObjectURL(r),
                  upload: {
                    type: "video",
                    plaintext: e,
                    filepath: e.name,
                    preview: s,
                    frame: r,
                    width: n,
                    height: a,
                    duration: i,
                    rotation: o,
                    bg: l,
                    caption: null,
                  },
                });
              }
            });
          }
          Pu() {
            var e = this.props.backend;
            (0, A.j)(e, "video/*")
              .then((t) => {
                if (this.Pi)
                  if (t) {
                    if (!this.Ps(t))
                      return this.setState({ blob: t }), this.Pv(t);
                  } else e.goBack();
              })
              .catch((t) => {
                throw (this.Pi && e.goBack(), t);
              });
          }
          Pw() {
            var e = this.props.backend;
            (0, A.j)(e, "audio/*").then((e) => {
              if (this.Pi)
                if (e) {
                  if (!this.Ps(e))
                    return (
                      this.setState({ blob: e }),
                      ((t = e),
                      (s = self.URL.createObjectURL(t)),
                      (r = document.createElement("audio")),
                      new Promise((e, t) => {
                        (r.src = s),
                          r.addEventListener("loadedmetadata", () => {
                            r.duration === 1 / 0
                              ? ((r.currentTime = Number.MAX_SAFE_INTEGER),
                                (r.ontimeupdate = () => {
                                  (r.ontimeupdate = null),
                                    e(r.duration),
                                    (r.currentTime = 0);
                                }))
                              : e(r.duration);
                          }),
                          (r.onerror = (e) => {
                            __LOG__(4)`loadAudio.onError: ${(0, jg.f)(e)}`,
                              t(new Error("loadAudio audio.onerror"));
                          }),
                          r.load();
                      })
                        .then((e) => {
                          var s = Math.ceil(e);
                          return "audio/ogg" !== t.type
                            ? { duration: s, mimetype: t.type }
                            : (function (e) {
                                return Vg.apply(this, arguments);
                              })(t).then((e) => ({
                                duration: s,
                                mimetype: e
                                  ? "audio/ogg; codecs=opus"
                                  : "audio/ogg",
                              }));
                        })
                        .finally(() => {
                          __LOG__(2)`loadAudio closing`,
                            self.URL.revokeObjectURL(s),
                            r.removeAttribute("src"),
                            r.load();
                        })).then((t) => {
                        this.Pi &&
                          this.setState(
                            {
                              previewUrl: null,
                              upload: {
                                type: "audio",
                                plaintext: e,
                                mimetype: t.mimetype,
                                filepath: e.name,
                                duration: t.duration,
                              },
                            },
                            () => {
                              var e = this.state.upload;
                              null != e && this.Pz(e);
                            }
                          );
                      })
                    );
                } else this.props.backend.goBack();
              var t, s, r;
            });
          }
          Pz(e) {
            var t = this.state,
              s = t.blob,
              r = t.imageRotation;
            "image" !== e.type ||
              this.Pp ||
              ((this.Pp = !0),
              WAM.log("regular", 2892, void 0, [2, 1, this.Po, 1, 1, !0])),
              0 !== r && null != s ? this.QA(s, r, e) : this.QB(e);
          }
          QA(e, t, s) {
            var r = this.Py();
            "image" === s.type &&
              (0, gh.scaleImageAndConvertToJpg)(e, r, t).then((e) => {
                this.QB({
                  type: "image",
                  plaintext: e.fullImage,
                  preview: e.preview,
                  width: e.fullImageWidth,
                  height: e.fullImageHeight,
                  bg: e.bg,
                  caption: null,
                });
              });
          }
          QB(e) {
            if (!this.Pj) {
              ("image" !== e.type && "video" !== e.type && "gif" !== e.type) ||
                (e.caption = this.state.caption);
              var t,
                s = this.props,
                r = s.backend;
              if (void 0 === s.jid)
                s.from,
                  r.openScreen("SEND_MEDIA_SELECT_CHAT_SCREEN", {
                    uploadRequest: e,
                    from: s.from,
                  });
              else {
                this.Pj = !0;
                var n = s;
                if ("conversation" === n.from || "statusReply" === n.from) {
                  var a = n.jid,
                    i = n.quote,
                    o = n.actionAfterSending,
                    l = this.state.viewOnceEnabled ? (0, dn.e)(e) : e;
                  (function (e) {
                    var t;
                    "gif" === e.type &&
                      null != (t = pl(e.gifAttribution)) &&
                      WAM.log("regular", 1124, void 0, [1, 0, vl(t)]);
                  })(l),
                    r.sendMediaMsg(
                      a,
                      l,
                      i,
                      "cameraTab" === (t = n.from)
                        ? 2
                        : "externalShare" === t
                        ? 4
                        : 1
                    ),
                    (0, ql.a)(r, a),
                    (0, Rs.a)(r, o);
                } else {
                  n.from;
                  var c = n.actionAfterSending,
                    d = n.sessionId;
                  ("image" !== e.type && "video" !== e.type) ||
                    r.sendStatusMediaMsg(e, {
                      from: "statusTab",
                      sessionId: d,
                    }),
                    (0, Rs.a)(r, c);
                }
              }
            }
          }
          onVideoRotationError() {
            this.setState({ imageRotation: 0, rotationError: !0 }),
              (0, y.e)({ title: 229, text: 697 });
          }
          addSoftKeys(e, t) {
            var s = this.state.upload,
              r = this.props,
              n = r.jid,
              a = r.media,
              i = r.settings,
              o = r.showDialogOnFirstSend;
            null != s &&
              "audio" !== a.type &&
              (n && n === nr.h
                ? i &&
                  e.setCenterLabel(823, () => {
                    fd(t, i, o, 823, () => {
                      this.Pz(s);
                    });
                  })
                : e.setCenterLabel(null == n ? 793 : 823, () => this.Pz(s))),
              e.setRightOptions(this.QF),
              e.setLeftIcon(dl, () => this.QG(t));
          }
          renderMedia() {
            var e = this.state,
              t = e.blob,
              s = e.previewUrl,
              n = e.imageRotation;
            if (!s) return (0, r.f)(1, "div", "Kg", (0, r.b)(2, lr.a), 2);
            var a,
              i = 90 === n || 270 === n ? "Kj" : "Ki",
              o = (function (e) {
                switch (e) {
                  case 90:
                    return "Kp";
                  case 180:
                    return "Kq";
                  case 270:
                    return "Kr";
                }
                return null;
              })(n);
            return (
              (a =
                "gif" === this.props.media.type
                  ? (0, r.b)(2, Fg.a, {
                      className: i,
                      blob: t,
                      autoPlay: !0,
                      muted: !0,
                      loop: !0,
                    })
                  : (0, r.f)(1, "img", (0, Oe.a)(i, o), null, 1, { src: s })),
              (0, r.f)(1, "div", "Kh", a, 0)
            );
          }
          renderBottom() {
            var e = this.props,
              t = e.media,
              s = e.defaultCaption;
            return "audio" === t.type
              ? null
              : (0, r.f)(
                  1,
                  "div",
                  "Kk",
                  [
                    (0, r.b)(
                      2,
                      hl.a,
                      {
                        className: "Kn",
                        onChange: this.QC,
                        hasFocusPriority: !0,
                        type: "text",
                        placeholder: 696,
                        defaultValue: s,
                      },
                      null,
                      this.Pl
                    ),
                    this.state.viewOnceEnabled &&
                      (0, r.f)(
                        1,
                        "div",
                        "Kl",
                        (0, r.b)(2, Wg.a, { className: "Km" }),
                        2
                      ),
                  ],
                  0
                );
          }
          render() {
            return this.state.blob
              ? (0, r.c)([this.renderMedia(), this.renderBottom()], 0)
              : "gif" === this.props.media.type
              ? (0, r.f)(1, "div", "Kg", (0, r.b)(2, lr.a), 2)
              : (0, r.f)(1, "div", "Ko");
          }
        },
        zg = (0, i.c)((0, h.e)(Kg, { fullscreen: !0 }), function (e, t, s) {
          return Object.assign({}, s, {
            contacts: e.contacts,
            user: e.user,
            serverProps: e.serverProps,
            settings: e.status.settings,
            showDialogOnFirstSend: e.status.showDialogOnFirstSend,
            backend: t,
            overlayId: e.overlayId,
          });
        }),
        Hg = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.done = (e, t) => {
                var s = this.props,
                  r = s.backend,
                  n = s.uploadRequest,
                  a = s.from,
                  i = e.map((e) => e.jid);
                if (
                  (i.forEach((e) => {
                    r.sendMediaMsg(e, n);
                  }),
                  t)
                )
                  if ("video" === n.type || "image" === n.type) {
                    var o =
                      "externalShare" === a
                        ? { from: "externalShare" }
                        : { from: "cameraTab" };
                    r.sendStatusMediaMsg(n, o);
                  } else
                    __LOG__(
                      3
                    )`SendMediaSelectChatScreen invalid upload request for status ${n.type}`,
                      SEND_LOGS("invalid-send-media-status");
                r.maybeRedirectAfterSharing(i, t);
              }),
              (this.renderTitle = (e) =>
                0 === e
                  ? (0, r.b)(2, o.b, { l10n: 841 })
                  : (0, r.b)(2, o.b, { l10n: [e, 203] })),
              e
            );
          }
          componentDidMount() {
            this.PK();
          }
          componentDidUpdate() {
            this.PK();
          }
          PK() {
            var e = (0, se.g)();
            this.props.uploadRequest.plaintext.size > e * U.b &&
              (0, y.e)({
                title: 229,
                text: [e, 157],
                onClose: this.props.backend.goBack,
              });
          }
          render() {
            var e = this.props,
              t = e.uploadRequest,
              s = e.statusVideoMaxDuration;
            return (0, r.b)(2, yd, {
              renderTitle: this.renderTitle,
              done: 823,
              onDone: this.done,
              status: Jg(t, s),
            });
          }
        };
      function Jg(e, t) {
        return "image" === e.type
          ? { type: "allow" }
          : "gif" === e.type || "video" === e.type
          ? e.duration > t
            ? { type: "disable", subtitle: [t, 229] }
            : { type: "allow" }
          : (e.type, { type: "hide" });
      }
      var Qg = (0, i.c)(Hg, (e, t, s) => ({
          backend: t,
          uploadRequest: s.uploadRequest,
          from: s.from,
          statusVideoMaxDuration: e.serverProps.statusVideoMaxDuration,
        })),
        Xg = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            [
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#25D366",
                d:
                  "M359.5 309h37.1l63.1 114.2L522.8 309h36.3v187.6h-30.3V352.8l-55.3 99.6h-28.4l-55.3-99.6v143.8h-30.3V309zm297.3 190.9c-14 0-26.3-3.1-37-9.3-10.6-6.2-18.9-14.8-24.9-25.8S586 441.2 586 427c0-14.4 2.9-27.1 8.7-38.2s13.9-19.7 24.2-26c10.3-6.2 22.2-9.4 35.6-9.4 13.3 0 24.8 3.2 34.4 9.5s17 15.1 22.2 26.5 7.8 24.7 7.8 39.9v8.3H616.1c1.9 11.4 6.5 20.4 13.9 27 7.4 6.6 16.7 9.8 27.9 9.8 9 0 16.8-1.3 23.3-4s12.6-6.7 18.4-12.2l16.1 19.7c-16 14.7-35.6 22-58.9 22zM679 388.6c-6.3-6.5-14.7-9.7-24.9-9.7-10 0-18.4 3.3-25.1 9.9s-11 15.5-12.8 26.7h73.7c-1-11.4-4.6-20.4-10.9-26.9zm76.6-7h-27.9v-24.8h27.9v-41h29.2v41h42.4v24.8h-42.3v62.8c0 10.5 1.8 17.9 5.4 22.4 3.6 4.5 9.7 6.7 18.4 6.7 3.8 0 7.1-.2 9.8-.5 2.7-.3 5.6-.7 8.8-1.3v24.5c-3.3 1-7 1.8-11.2 2.4-4.2.6-8.5.9-13.1.9-31.5 0-47.3-17.2-47.3-51.7l-.1-66.2zm223.8 115h-28.7V477c-5.1 7.3-11.6 13-19.4 17-7.9 4-16.8 6-26.8 6-12.3 0-23.2-3.2-32.8-9.5s-17-15-22.4-26c-5.4-11-8.2-23.7-8.2-37.9 0-14.3 2.8-26.9 8.3-37.9 5.5-11 13.2-19.6 23-25.9s21-9.4 33.7-9.4c9.6 0 18.1 1.9 25.7 5.6 7.6 3.7 13.9 9 18.9 15.7v-18h28.7v139.9zm-29.2-90.9c-3.1-8-8.1-14.2-14.8-18.8-6.8-4.6-14.5-6.9-23.4-6.9-12.5 0-22.5 4.2-29.9 12.6-7.4 8.4-11.1 19.7-11.1 34 0 14.4 3.6 25.8 10.7 34.2 7.2 8.4 16.8 12.6 29.1 12.6 9 0 17.1-2.3 24.1-7 7.1-4.6 12.2-10.9 15.3-18.8v-41.9zM213.1 302.6c-24.4 0-43.4 18.3-60.6 41.6-23.7-30.2-43.5-41.6-67.2-41.6C37 302.6 0 365.5 0 432.1 0 473.7 20.1 500 53.9 500c24.3 0 41.8-11.5 72.8-65.7 0 0 13-22.9 21.9-38.6 3.1 5 6.4 10.5 9.9 16.3l14.6 24.5c28.4 47.5 44.2 63.6 72.8 63.6 32.9 0 51.2-26.6 51.2-69.2-.1-69.7-38-128.3-84-128.3zM103 419.5c-25.2 39.5-33.9 48.3-47.9 48.3-14.4 0-23-12.7-23-35.2 0-48.3 24.1-97.7 52.8-97.7 15.5 0 28.5 9 48.5 37.5-18.9 29-30.4 47.1-30.4 47.1zm95.1-4.9-17.4-29c-4.7-7.7-9.2-14.7-13.6-21.2 15.7-24.2 28.6-36.3 44-36.3 32 0 57.6 47.1 57.6 104.9 0 22-7.2 34.8-22.2 34.8-14.4.1-21.2-9.4-48.4-53.2z",
              }),
              (0, r.f)(32, "path", null, null, 1, {
                fill: "#67788A",
                d:
                  "M308 142.6V60h-18V46.9h18v-12c0-11.4 2.9-20 8.7-25.9 5.8-5.9 13.8-8.9 24-8.9 6 0 11.3.7 15.9 2v13.6c-2.6-.7-5-1.2-7.3-1.4-2.2-.3-4.4-.4-6.5-.4-13 0-19.5 6.7-19.5 20V47h32.6v13h-32.6v82.6H308zm69.2 0V46.9h15.2v16.6c3-6 6.9-10.7 11.5-13.9 4.7-3.2 10.1-4.9 16.3-4.9 3 0 5.8.3 8.5.9v15.2c-1.5-.2-3.1-.4-4.8-.5s-3.3-.2-5-.2c-7 0-12.7 2.1-17 6.4-4.3 4.3-7.5 10-9.6 17.1v59h-15.1zm110.7 2.1c-9.6 0-17.8-2.1-24.8-6.5-7-4.3-12.4-10.2-16.2-17.7-3.8-7.5-5.7-16.1-5.7-25.8 0-9.8 1.9-18.4 5.7-25.9 3.8-7.5 9.2-13.4 16.2-17.7 7-4.3 15.3-6.4 24.8-6.4h1.9c9.6 0 17.8 2.1 24.8 6.4 7 4.3 12.4 10.2 16.2 17.7 3.8 7.5 5.7 16.1 5.7 25.9 0 9.7-1.9 18.3-5.7 25.8s-9.2 13.4-16.2 17.7c-7 4.3-15.3 6.5-24.8 6.5h-1.9zm.1-14h1.7c9.6 0 17.1-3.3 22.7-9.8 5.6-6.5 8.4-15.2 8.4-26.1 0-10.9-2.8-19.6-8.4-26.1-5.6-6.5-13.2-9.8-22.7-9.8H488c-9.6 0-17.1 3.3-22.7 9.8-5.6 6.5-8.4 15.2-8.4 26.1 0 10.8 2.8 19.5 8.4 26.1 5.6 6.5 13.2 9.8 22.7 9.8zm70.6 11.9V46.9h15.2v17.8c3.5-6.2 7.9-11 13.3-14.6s11.6-5.3 18.8-5.3h1.9c15.9 0 26.1 7.6 30.7 22.9 3.7-7.1 8.4-12.6 14.3-16.7s12.6-6.2 20.3-6.2h2c10.8 0 19 3.6 24.7 10.8s8.5 17.5 8.5 30.9v56.1h-15.2V88.7c0-19.9-7.3-29.8-21.8-29.8h-1.7c-6.9 0-12.8 2.3-17.7 6.8-4.9 4.6-8.5 10.3-10.8 17.3v59.6h-15.2V88.7c0-19.9-7.2-29.8-21.8-29.8h-1.8c-6.9 0-12.8 2.3-17.7 6.8-4.9 4.6-8.5 10.3-10.7 17.3v59.6h-15.3z",
              }),
            ],
            4,
            { viewBox: "0 0 979.4 500" }
          );
        },
        qg = [
          "profile",
          "allStarredMessages",
          "account",
          "chats",
          "notifications",
          "data",
          "storage",
          "help",
        ],
        $g = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.PI = !1),
              (this.PJ = (e, t) => {
                switch (e) {
                  case "profile":
                    return (0, r.b)(2, eb, { selected: t });
                  case "allStarredMessages":
                    return (0, r.b)(2, tb, { selected: t });
                  case "account":
                    return (0, r.b)(2, sb, { selected: t });
                  case "linkedDevices":
                    return null;
                  case "chats":
                    return (0, r.b)(2, rb, { selected: t });
                  case "notifications":
                    return (0, r.b)(2, nb, { selected: t });
                  case "data":
                    return (0, r.b)(2, ab, { selected: t });
                  case "storage":
                    var s = this.props.currentStorageStats;
                    return (0, r.b)(2, ib, {
                      selected: t,
                      storageStats: null == s ? void 0 : s.storageStats,
                      totalMediaSize: null == s ? void 0 : s.totalMediaSize,
                    });
                  case "help":
                    return (0, r.b)(2, ob, { selected: t });
                  case "language":
                  case "internal":
                    return null;
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          componentDidMount() {
            var e = this.props.backend;
            (this.PI = !0),
              Promise.all([
                (0, Kn.h)(),
                e.getStorageSettingTotalMediaSize(),
              ]).then((t) => {
                var s = yr()(t, 2),
                  r = s[0],
                  n = s[1],
                  a = n.totalMediaSize,
                  i = n.largeFilesTotalSize;
                this.PI &&
                  e.dispatch({
                    type: "UPDATE_STORAGE_STATS",
                    currentStorageStats: {
                      storageStats: r,
                      totalMediaSize: a,
                      largeFilesTotalSize: i,
                    },
                  });
              });
          }
          componentWillUnmount() {
            this.PI = !1;
          }
          render() {
            var e = qg;
            return (
              this.props.starredIndexMissing &&
                (e = e.filter((e) => "allStarredMessages" !== e)),
              (0, r.b)(2, b.a, {
                title: (0, r.b)(2, o.b, { l10n: 750 }),
                children: (0, r.b)(2, g.a, {
                  items: e,
                  keyOf: Zg,
                  renderItem: this.PJ,
                }),
              })
            );
          }
        },
        Yg = (0, i.c)((0, h.e)($g), (e, t) => {
          var s = e.starredIndexMissing,
            r = (e.screens, e.storageManager);
          return {
            starredIndexMissing: !!s,
            backend: t,
            currentStorageStats: null == r ? void 0 : r.currentStorageStats,
          };
        });
      function Zg(e) {
        return e;
      }
      var eb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_PROFILE");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 604,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        tb = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, (e) => {
              (function (e, t) {
                var s = Jt(e, t, { limit: St.M });
                e.openScreen("FEATURED_MESSAGES", {
                  chat: null,
                  items: [],
                  allLoaded: !1,
                  loading: { older: s },
                  featureType: t,
                });
              })(e, "star");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 847,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        sb = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_ACCOUNT");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 701,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        rb =
          (h.b,
          class extends h.b {
            addSoftKeys(e, t) {
              e.setCenterLabel(818, () => {
                t.openScreen("SETTINGS_CHATS");
              });
            }
            render() {
              return (0, r.b)(2, m.a, {
                title: 734,
                selected: this.props.selected,
                borderBottom: !0,
              });
            }
          }),
        nb = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_NOTIFICATIONS");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 748,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        ab = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_DATA");
            });
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 743,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        ib = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_STORAGE");
            });
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.storageStats,
              n = e.totalMediaSize,
              a = null != s && s.externalStorageAvailSize < St.R,
              i = t ? "Kd" : a ? "Kc" : "Kb";
            return (0, r.b)(2, m.a, {
              title: 749,
              selected: t,
              borderBottom: !0,
              rawSubtitle:
                n &&
                (0, r.b)(2, Le.a, { size: n, highPrecision: !0, className: i }),
              rightComponent:
                a && (0, r.b)(2, fa, { className: (0, Oe.a)("KZ", t && "Ka") }),
            });
          }
        },
        ob = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(818, () => {
              t.openScreen("SETTINGS_HELP");
            });
          }
          render() {
            return (0, r.c)(
              [
                (0, r.b)(2, m.a, {
                  title: 746,
                  selected: this.props.selected,
                  borderBottom: !0,
                }),
                (0, r.f)(
                  1,
                  "div",
                  "Ke",
                  (0, r.b)(2, Xg, { className: "Kf" }),
                  2
                ),
              ],
              4
            );
          }
        },
        lb =
          (h.b,
          h.b,
          ["autodownloadMobile", "autodownloadWifi", "autodownloadRoaming"]),
        cb = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.QI = (e, t) => {
                var s = this.props.settings[t],
                  r = Gs.b.map((e) => ({
                    key: e,
                    label: ub(e),
                    checked: s.includes(e),
                  }));
                (0, y.k)({
                  title: e,
                  defaultItems: r,
                  onSave: (e) => {
                    this.QJ(t, e);
                  },
                });
              }),
              (this.QK = (e, t) => {
                switch (e) {
                  case "autodownloadMobile":
                    return (0, r.c)(
                      [
                        (0, r.b)(2, m.g, { text: 209 }),
                        (0, r.b)(2, vb, {
                          selected: t,
                          settings: this.props.settings,
                          openSettingsMultiSelect: this.QI,
                        }),
                      ],
                      4
                    );
                  case "autodownloadWifi":
                    return (0, r.b)(2, fb, {
                      selected: t,
                      settings: this.props.settings,
                      openSettingsMultiSelect: this.QI,
                    });
                  case "autodownloadRoaming":
                    return (0, r.b)(2, gb, {
                      selected: t,
                      settings: this.props.settings,
                      openSettingsMultiSelect: this.QI,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.settings !== e.settings ||
                s.updateSettings !== e.updateSettings)
            );
          }
          QJ(e, t) {
            var s = t.filter((e) => e.checked).map((e) => e.key);
            this.props.updateSettings({ [e]: (0, K.m)(s) });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 210 }),
              children: (0, r.b)(2, g.a, {
                items: lb,
                keyOf: hb,
                renderItem: this.QK,
              }),
            });
          }
        },
        db = (0, i.f)(
          (0, h.e)(cb),
          (e) => ({ settings: e.settings }),
          (e, t) => ({
            settings: e.settings,
            updateSettings: t.updateGeneralSettings,
          })
        );
      function hb(e) {
        return e;
      }
      function ub(e) {
        switch (e) {
          case "audio":
            return 31;
          case "photos":
            return 587;
          case "videos":
            return 965;
          case "documents":
            return 241;
          default:
            return (0, f.a)(e);
        }
      }
      function pb(e) {
        switch (e.length) {
          case 0:
            return (0, r.b)(2, o.b, { l10n: 536 });
          case Gs.b.length:
            return (0, r.b)(2, o.b, { l10n: 20 });
          default:
            return (0, it.h)(
              e.map((e) => (0, r.b)(2, o.b, { l10n: ub(e) }, e))
            );
        }
      }
      var vb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.settings !== e.settings ||
                s.selected !== e.selected ||
                s.openSettingsMultiSelect !== e.openSettingsMultiSelect)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(774, () => {
              this.props.openSettingsMultiSelect(206, "autodownloadMobile");
            });
          }
          render() {
            return (0, r.b)(2, m.b, {
              title: 206,
              rawSubtitle: pb(this.props.settings.autodownloadMobile),
              selected: this.props.selected,
            });
          }
        },
        fb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.settings !== e.settings ||
                s.selected !== e.selected ||
                s.openSettingsMultiSelect !== e.openSettingsMultiSelect)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(774, () => {
              this.props.openSettingsMultiSelect(208, "autodownloadWifi");
            });
          }
          render() {
            return (0, r.b)(2, m.b, {
              title: 208,
              rawSubtitle: pb(this.props.settings.autodownloadWifi),
              selected: this.props.selected,
            });
          }
        },
        gb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.settings !== e.settings ||
                s.selected !== e.selected ||
                s.openSettingsMultiSelect !== e.openSettingsMultiSelect)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(774, () => {
              this.props.openSettingsMultiSelect(207, "autodownloadRoaming");
            });
          }
          render() {
            return (0, r.b)(2, m.b, {
              title: 207,
              rawSubtitle: pb(this.props.settings.autodownloadRoaming),
              selected: this.props.selected,
            });
          }
        },
        bb = ["stats", "largeFiles", "storageChats"],
        mb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("SETTINGS_STORAGE_CHATS");
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.a, {
              title: 887,
              selected: e,
              borderBottom: !0,
            });
          }
        },
        Sb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.largeFilesTotalSize !== e.largeFilesTotalSize)
            );
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openStorageSettingMediaDrawer(null, { type: "largeFiles" });
            });
          }
          renderItemSubtitle() {
            var e = this.props.largeFilesTotalSize;
            return null == e
              ? (0, r.b)(2, o.b, { l10n: 888 })
              : 0 === e
              ? (0, r.b)(2, o.b, { l10n: 540 })
              : (0, r.b)(2, Le.a, { size: e, highPrecision: !0 });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.a, {
              title: [St.t, 151],
              rawSubtitle: this.renderItemSubtitle(),
              selected: e,
              borderBottom: !0,
            });
          }
        };
      function yb(e) {
        var t = e.total,
          s = e.free,
          a = e.totalMediaSize,
          i = e.selected,
          l = (a / t) * 100 + "%",
          c = ((t - s - a) / t) * 100 + "%",
          d = (s / t) * 100 + "%",
          h = s < St.R;
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("LP", i && "LQ"),
          [
            (0, r.f)(
              1,
              "div",
              "LR",
              [
                (0, r.f)(
                  1,
                  "div",
                  "LV",
                  (0, r.b)(2, o.b, {
                    l10n: [
                      (0, r.b)(2, Le.a, { size: a, highPrecision: !0 }),
                      231,
                    ],
                  }),
                  2
                ),
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)("LS", h && "LW"),
                  (0, r.b)(2, o.b, {
                    l10n: [
                      (0, r.b)(2, Le.a, { size: s, highPrecision: !0 }),
                      230,
                    ],
                  }),
                  2
                ),
              ],
              4
            ),
            (0, r.f)(
              1,
              "div",
              "LX",
              [
                (0, r.f)(1, "div", "LY", null, 1, { style: n.h({ width: l }) }),
                (0, r.f)(1, "div", "LZ", null, 1, { style: n.h({ width: c }) }),
                (0, r.f)(1, "div", (0, Oe.a)("La", h && "Lb"), null, 1, {
                  style: n.h({ width: d }),
                }),
              ],
              4
            ),
            (0, r.f)(
              1,
              "div",
              "Lc",
              [
                (0, r.f)(1, "div", "LU Ld", (0, r.b)(2, o.b, { l10n: 890 }), 2),
                (0, r.f)(1, "div", "LT Ld", (0, r.b)(2, o.b, { l10n: 889 }), 2),
              ],
              4
            ),
          ],
          4
        );
      }
      var kb = class extends n.a {
          constructor(e, t) {
            var s;
            super(e, t),
              (s = this),
              (this.PF = !1),
              (this.PG = wo()(function* () {
                var e = s.props.backend,
                  t = yield Promise.all([
                    (0, Kn.h)(),
                    e.getStorageSettingTotalMediaSize(),
                  ]),
                  r = yr()(t, 2),
                  n = r[0],
                  a = r[1],
                  i = a.totalMediaSize,
                  o = a.largeFilesTotalSize;
                s.PF &&
                  e.dispatch({
                    type: "UPDATE_STORAGE_STATS",
                    currentStorageStats: {
                      storageStats: n,
                      totalMediaSize: i,
                      largeFilesTotalSize: o,
                    },
                  });
              })),
              (this.PH = (e, t) => {
                var s = this.props.currentStorageStats,
                  n = s.storageStats,
                  a = s.totalMediaSize,
                  i = s.largeFilesTotalSize,
                  o = null;
                if (null != n && null != a && null != i) {
                  var l = n.externalStorageTotalSize,
                    c = n.externalStorageAvailSize;
                  o = (0, r.b)(2, yb, {
                    total: l,
                    free: c,
                    totalMediaSize: a,
                    largeFilesTotalSize: i,
                    selected: t,
                  });
                } else o = (0, r.f)(1, "div", "Le KY", (0, r.b)(2, lr.a), 2);
                switch (e) {
                  case "stats":
                    return o;
                  case "storageChats":
                    return (0, r.b)(2, mb, { selected: t });
                  default:
                    return (0, r.c)(
                      [
                        (0, r.b)(2, m.g, { text: 668 }),
                        (0, r.b)(2, Sb, {
                          selected: t,
                          largeFilesTotalSize: i,
                        }),
                      ],
                      4
                    );
                }
              });
          }
          componentDidMount() {
            this.PF = !0;
            var e = this.props.currentStorageStats,
              t = e.storageStats,
              s = e.totalMediaSize,
              r = e.largeFilesTotalSize;
            (t && s && r) || this.PG();
          }
          componentDidUpdate(e) {
            var t = this.props.lastStorageStatsTs;
            t && t !== e.lastStorageStatsTs && this.PG();
          }
          render() {
            var e = this.props.currentStorageStats,
              t = e.storageStats,
              s = e.totalMediaSize;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 891 }),
              children: (0, r.b)(2, g.c, {
                items: bb,
                keyOf: wb,
                estimatedItemHeight: D.b,
                renderItem: this.PH,
                start: { item: "largeFiles", scrollFromTop: "none" },
                deps: [t, s],
              }),
            });
          }
        },
        Cb = (0, i.c)((0, h.e)(kb), (e, t) => {
          var s = e.storageManager,
            r = s.currentStorageStats;
          return {
            backend: t,
            lastStorageStatsTs: s.lastStorageStatsTs,
            currentStorageStats: r,
          };
        });
      function wb(e) {
        return e;
      }
      function xb(e, t) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("Lj GN", t && "Ll GP"),
          (0, r.f)(1, "div", "Lk GO GF GC GI GE", e, 0),
          2
        );
      }
      var Ib = class extends h.b {
        addSoftKeys(e, t) {
          e.setCenterLabel(797, () => {
            t.openStorageSettingMediaDrawer(this.props.chat, {
              type: "chat",
              chatId: this.props.chat.id,
            });
          });
        }
        render() {
          return this.props.children;
        }
      };
      function Lb(e, t, s, n) {
        return (0, r.b)(2, Ib, {
          chat: t,
          selected: e,
          children: (0, r.b)(2, m.k, {
            selected: e,
            className: "Lf FJ",
            children: [
              (0, r.b)(2, ue.c, { className: "Li FP GK", jid: t.jid }),
              (0, r.f)(
                1,
                "div",
                (0, Oe.a)("Lg FK", e && "Lh FL"),
                [
                  xb(s, e),
                  (0, r.f)(
                    1,
                    "div",
                    (0, Oe.a)("Lm", e && "Ln"),
                    (0, r.b)(2, Le.a, { size: n, highPrecision: !0 }),
                    2
                  ),
                ],
                0
              ),
            ],
          }),
        });
      }
      var _b = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.contacts !== e.contacts ||
                s.selected !== e.selected ||
                s.size !== e.size)
            );
          }
          render() {
            var e = this.props,
              t = e.chat,
              s = e.contacts,
              n = e.selected,
              a = e.size;
            return Lb(n, t, (0, r.b)(2, F.a, { jid: t.jid, contacts: s }), a);
          }
        },
        Nb = class extends n.a {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.chat !== e.chat ||
                s.selected !== e.selected ||
                s.size !== e.size)
            );
          }
          render() {
            var e = this.props,
              t = e.chat,
              s = e.selected,
              r = e.size;
            return Lb(s, t, (0, c.b)(t.groupInfo.title), r);
          }
        },
        Mb = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Mt = !1),
              (this.state = { items: null }),
              (this.Mu = () => {
                this.props.backend
                  .getStorageSettingChatsMediaSizes()
                  .then((e) => {
                    var t = e.chatIdsWithMediaSize;
                    if (this.Mt) {
                      var s = this.props.chats,
                        r = t.map((e) => {
                          var t = e.chatId,
                            r = e.mediaSize;
                          return { chat: s[t], mediaSize: r };
                        });
                      this.setState({ items: r });
                    }
                  });
              }),
              (this.Mv = (e, t) => {
                var s = e.chat,
                  n = e.mediaSize,
                  a = this.props.contacts;
                switch (s.type) {
                  case "ONE_TO_ONE":
                    return (0, r.b)(2, _b, {
                      chat: s,
                      contacts: a,
                      selected: t,
                      size: n,
                    });
                  case "GROUP":
                    return (0, r.b)(2, Nb, { chat: s, selected: t, size: n });
                  default:
                    return (0, f.a)(s);
                }
              }),
              e
            );
          }
          componentDidMount() {
            (this.Mt = !0), this.Mu();
          }
          componentDidUpdate(e) {
            var t = this.props.lastStorageStatsTs;
            t && t !== e.lastStorageStatsTs && this.Mu();
          }
          componentWillUnmount() {
            this.Mt = !1;
          }
          render() {
            var e = this.props.contacts,
              t = this.state.items,
              s =
                null == t
                  ? (0, r.b)(2, bs.a)
                  : (0, r.b)(2, g.c, {
                      className: "Jw",
                      items: t,
                      keyOf: Tb,
                      estimatedItemHeight: D.b,
                      emptyLabel: 534,
                      renderItem: this.Mv,
                      search: Pb(t, e),
                    });
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 887 }),
              children: s,
            });
          }
        },
        Ob = (0, i.c)((0, h.e)(Mb), (e, t) => ({
          chats: e.chatlist.chats,
          contacts: e.contacts,
          backend: t,
          lastStorageStatsTs: e.storageManager.lastStorageStatsTs,
        }));
      function Tb(e) {
        return String(e.chat.id);
      }
      function Pb(e, t) {
        return {
          filter: (s, r) => (0, W.d)(s, e, (e) => e.chat, t),
          emptyLabel: 129,
        };
      }
      var Ab = ["oneToOneShow", "groupsShow", "messagePreview", "reactions"],
        Eb = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Mr = (e, t) => {
                switch (e) {
                  case "oneToOneShow":
                    return this.Ms(
                      549,
                      543,
                      "showOneToOne",
                      this.props.settings.showOneToOne,
                      t
                    );
                  case "groupsShow":
                    return this.Ms(
                      548,
                      542,
                      "showGroups",
                      this.props.settings.showGroups,
                      t
                    );
                  case "messagePreview":
                    return this.Ms(
                      550,
                      544,
                      "showPreviews",
                      this.props.settings.showPreviews,
                      t
                    );
                  case "reactions":
                    return this.Ms(
                      621,
                      620,
                      "showReactions",
                      this.props.settings.showReactions,
                      t
                    );
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.settings !== e.settings;
          }
          Ms(e, t, s, n, a) {
            return (0, r.b)(2, Ub, {
              title: e,
              text: t,
              checked: n,
              selected: a,
              setting: s,
            });
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 551 }),
              children: (0, r.b)(2, g.a, {
                items: Ab,
                keyOf: Gb,
                renderItem: this.Mr,
              }),
            });
          }
        },
        Rb = (0, i.c)((0, h.e)(Eb), (e) => {
          var t = e.settings;
          return {
            settings: {
              showOneToOne: t.showOneToOne,
              showGroups: t.showGroups,
              showPreviews: t.showPreviews,
              showReactions: t.showReactions,
            },
          };
        });
      function Gb(e) {
        return e;
      }
      var Ub = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.title !== e.title ||
                s.text !== e.text ||
                s.checked !== e.checked ||
                s.selected !== e.selected ||
                s.setting !== e.setting)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.checked,
              n = s.setting;
            r
              ? e.setCenterLabel(771, () => {
                  t.updateGeneralSettings({ [n]: !1 });
                })
              : e.setCenterLabel(775, () => {
                  t.updateGeneralSettings({ [n]: !0 });
                });
          }
          render() {
            var e = this.props,
              t = e.title,
              s = e.text,
              n = e.checked,
              a = e.selected;
            return (0, r.c)(
              [
                (0, r.b)(2, m.e, { title: t, checked: n, selected: a }),
                (0, r.b)(2, m.n, { text: s }),
              ],
              4
            );
          }
        },
        Db = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Mi = (e) => {
                var t = this.props,
                  s = t.groupAdd,
                  r = t.backend;
                "none" === s
                  ? (0, y.f)({
                      text: 711,
                      onConfirm: () => {
                        r.updateGeneralSettings({
                          groupAdd: "contact_blacklist",
                          groupAddBlacklist: e,
                        }),
                          r.goBack();
                      },
                    })
                  : (r.updateGeneralSettings({
                      groupAdd: "contact_blacklist",
                      groupAddBlacklist: e,
                    }),
                    r.goBack());
              }),
              (this.Mj = (e) => {
                var t = this.props,
                  s = t.backend,
                  r = t.groupAddBlacklist;
                (0, K.b)((0, K.c)(r), e)
                  ? s.goBack()
                  : (0, y.g)({
                      title: 745,
                      text: 744,
                      left: 773,
                      onSoftLeft: () => {
                        s.goBack();
                      },
                      right: 816,
                      onSoftRight: () => {
                        this.Mi(e);
                      },
                    });
              }),
              (this.Mk = (e) =>
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 199] })
                  : (0, r.b)(2, o.b, { l10n: 702 })),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.groupAdd !== e.groupAdd ||
                s.groupAddBlacklist !== e.groupAddBlacklist)
            );
          }
          render() {
            return (0, r.b)(2, H, {
              defaultSelectedContacts: this.props.groupAddBlacklist,
              renderTitle: this.Mk,
              done: 816,
              onDone: this.Mi,
              onCancel: this.Mj,
              selectAll: !0,
              allowEmpty: !0,
              allowUnchanged: !0,
            });
          }
        },
        jb = (0, i.f)(
          Db,
          (e, t) => ({
            groupAdd: e.settings.groupAdd,
            groupAddBlacklist: t.groupAddBlacklist,
          }),
          (e, t) => ({
            groupAdd: e.groupAdd,
            groupAddBlacklist: new Set(e.groupAddBlacklist),
            backend: t,
          })
        ),
        Bb = s(220),
        Vb = "JZ GK",
        Fb = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Ml = !1),
              (this.state = { pickedContacts: new Set(), sending: !1 }),
              (this.Mm = (e, t) => {
                var s = this.state.pickedContacts;
                if (!s.has(e)) {
                  var r = this.props.maxParticipants;
                  if (s.size >= r) (0, y.e)({ title: 229, text: [r, 201] });
                  else {
                    var n = new Set(s);
                    n.add(e), this.setState({ pickedContacts: n });
                  }
                }
              }),
              (this.Mn = (e) => {
                var t = this.state.pickedContacts;
                if (t.has(e)) {
                  var s = new Set(t);
                  s.delete(e), this.setState({ pickedContacts: s });
                }
              }),
              (this.Mo = (e, t) => {
                var s = this.props.contactInfoMap,
                  r = (0, W.g)(e);
                return t.filter((e) => {
                  var t = s.get(e);
                  return !!t && (0, W.f)(t.contact, r);
                });
              }),
              (this.Mq = (e, t) => {
                var s = this.props.contactInfoMap.get(e) || null;
                return (
                  s &&
                  (0, r.b)(2, Kb, {
                    contactInfo: s,
                    picked: this.state.pickedContacts.has(e),
                    selected: t,
                    onContactPicked: this.Mm,
                    onContactUnpicked: this.Mn,
                  })
                );
              }),
              e
            );
          }
          componentDidMount() {
            (this.Ml = !0), super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Ml = !1), super.componentWillUnmount();
          }
          Mp(e) {
            this.setState((t) => {
              if (!t.sending) {
                var s = this.props,
                  r = s.jid,
                  n = s.contacts,
                  a = s.quote,
                  i = s.contactInfoMap,
                  o = s.actionAfterSending;
                return (
                  Promise.resolve().then(() => {
                    var s = [];
                    t.pickedContacts.forEach((e) => {
                      var t = i.get(e);
                      if (t) {
                        var r = (0, Dn.g)(t, n);
                        s.push({ displayName: (0, Dn.d)(r), vcard: r });
                      }
                    }),
                      e.sendVCardMsg(r, s, a).then((t) => {
                        if (this.Ml)
                          if ("success" !== t) {
                            switch (t.error.reason) {
                              case "too-big":
                                (0, y.e)({ text: [s.length, 251] });
                                break;
                              default:
                                t.error.reason,
                                  __LOG__(
                                    4
                                  )`Tried to share empty vcard message`;
                            }
                            this.setState({ sending: !1 });
                          } else (0, Rs.a)(e, o);
                      });
                  }),
                  { sending: !0 }
                );
              }
            });
          }
          addSoftKeys(e, t) {
            this.state.sending
              ? e.setFull(825)
              : (e.addCancel(),
                this.state.pickedContacts.size > 0 &&
                  e.setRightLabel(823, () => {
                    this.Mp(t);
                  }));
          }
          render() {
            var e = this.state.pickedContacts.size,
              t =
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 202] })
                  : (0, r.b)(2, o.b, { l10n: 839 }),
              s = this.props.phoneNumbers,
              n =
                0 === s.length ? void 0 : { filter: this.Mo, emptyLabel: 525 };
            return (0, r.b)(2, b.a, {
              title: t,
              children: (0, r.b)(2, g.c, {
                items: s,
                keyOf: Wb,
                search: n,
                estimatedItemHeight: D.c,
                emptyLabel: 524,
                renderItem: this.Mq,
                deps: [this.state.pickedContacts],
              }),
            });
          }
        };
      function Wb(e) {
        return e;
      }
      var Kb = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.contactInfo !== e.contactInfo ||
                s.picked !== e.picked ||
                s.selected !== e.selected ||
                s.onContactPicked !== e.onContactPicked ||
                s.onContactUnpicked !== e.onContactUnpicked)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.contactInfo.id,
              n = s.onContactPicked,
              a = s.onContactUnpicked;
            s.picked
              ? e.setCenterLabel(379, () => {
                  a(r);
                })
              : e.setCenterLabel(754, () => {
                  n(r, t);
                });
          }
          renderAvatar() {
            var e = this.props.contactInfo.avatarJid;
            return e
              ? (0, r.b)(2, ue.c, { jid: e, className: Vb })
              : (0, ue.b)(Vb);
          }
          renderContactName() {
            var e = this.props.contactInfo,
              t = e.names,
              s = e.contact,
              n = t.fullName || t.shortName || null;
            return n
              ? (0, r.f)(1, "span", null, n, 0, { dir: "auto" })
              : s.tel && s.tel.length > 0
              ? (0, r.f)(1, "span", null, s.tel[0].value, 0, { dir: "ltr" })
              : s.email && s.email.length > 0
              ? (0, r.f)(1, "span", null, s.email[0].value, 0, { dir: "auto" })
              : null;
          }
          render() {
            var e = this.props,
              t = e.picked,
              s = e.selected;
            return (0, r.b)(2, m.k, {
              selected: s,
              className: "JY",
              children: [
                this.renderAvatar(),
                (0, r.f)(1, "div", "Ja", this.renderContactName(), 0),
                (0, r.b)(2, j.a, { checked: t, selected: s }),
              ],
            });
          }
        },
        zb = (0, bc.b)(function (e, t) {
          var s = new Map();
          (0, U.x)(e).forEach((e) => {
            e && e.phonebookPhone && s.set(e.phonebookPhone, e.jid);
          });
          var r = [],
            n = new Map();
          return (
            t.forEach((e) => {
              var t = (0, Bb.a)(e);
              if (
                (function (e, t) {
                  return (
                    null != (e.fullName || e.shortName || null) ||
                    (t.tel && t.tel.length > 0) ||
                    (t.email && t.email.length > 0) ||
                    !1
                  );
                })(t, e)
              ) {
                var a,
                  i = e.tel,
                  o = new Map();
                if (i)
                  for (var l = 0; l < i.length; ++l) {
                    var c = i[l],
                      d = c && s.get(c.value);
                    d && (o.set(c.value, d), a || (a = d));
                  }
                var h = {
                  id: e.id,
                  contact: e,
                  names: t,
                  userJids: o,
                  avatarJid: a,
                };
                r.push(h), n.set(e.id, h);
              }
            }),
            { phoneNumbers: r.sort(Hb).map((e) => e.id), contactInfoMap: n }
          );
        });
      function Hb(e, t) {
        var s = e.names.fullName || e.names.shortName,
          r = t.names.fullName || t.names.shortName;
        return s && r ? s.localeCompare(r) : s ? -1 : r ? 1 : 0;
      }
      var Jb = (0, i.f)(
          (0, h.e)(Fb),
          (e, t) => ({
            jid: t.jid,
            phoneContacts: t.phoneContacts,
            quote: t.quote,
            actionAfterSending: t.actionAfterSending,
            contacts: e.contacts,
            maxParticipants: e.serverProps.maxParticipants,
          }),
          (e) => {
            var t = e.contacts,
              s = e.jid,
              r = e.phoneContacts,
              n = e.maxParticipants,
              a = e.quote,
              i = e.actionAfterSending,
              o = zb(t, r);
            return {
              jid: s,
              contacts: t,
              phoneNumbers: o.phoneNumbers,
              contactInfoMap: o.contactInfoMap,
              maxParticipants: n,
              quote: a,
              actionAfterSending: i,
            };
          }
        ),
        Qb = s(25),
        Xb = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Mb = !1),
              (this.state = {}),
              (this.Mg = (e, t) => {
                var s = this.props,
                  r = s.data,
                  n = s.backend,
                  a = e.map((e) => e.jid);
                switch (r.type) {
                  case "image/*":
                    var i = (function (e, t) {
                      return e.blobs.map((e) =>
                        (0, gh.scaleImageAndConvertToJpg)(e, t).then((e) => ({
                          type: "image",
                          plaintext: e.fullImage,
                          preview: e.preview,
                          width: e.fullImageWidth,
                          height: e.fullImageHeight,
                          bg: e.bg,
                          caption: null,
                        }))
                      );
                    })(r, a.length > 0 && t ? "both" : t ? "status" : "chat");
                    n.sendMediaMsgs(a, t, i, { from: "externalShare" });
                    break;
                  case "video/*":
                    var o = this.Ma;
                    if (!o) return;
                    n.sendMediaMsgs(a, t, o, { from: "externalShare" });
                    break;
                  default:
                    r.type,
                      (function (e) {
                        var t = e.blobs.map((e) =>
                          (0, U.h)(e)
                            .then((e) => {
                              var t = new Qb.a(e),
                                s = (function (e) {
                                  var t = 0,
                                    s = e.length;
                                  return (
                                    e.startsWith("0") && (t = 1),
                                    e.endsWith("\n") && (s = e.length - 1),
                                    e.slice(t, s).replace("\nn:", "\nN:")
                                  );
                                })(t.readString(t.size())),
                                r = (0, Dn.i)(s),
                                n = r.photo;
                              return n
                                ? (0, gh.cropAndResizeVCardPhoto)(
                                    jn.a + n
                                  ).then(
                                    (e) => (
                                      (r.photo = (function (e) {
                                        return e.startsWith(jn.a)
                                          ? e.slice(jn.a.length)
                                          : e;
                                      })(e)),
                                      r
                                    )
                                  )
                                : r;
                            })
                            .then((e) => ({
                              displayName: (0, Dn.d)(e),
                              vcard: e,
                            }))
                        );
                        return Promise.all(t);
                      })(r)
                        .then((e) => {
                          a.forEach((t) => {
                            n.sendVCardMsg(t, e).then(() => {});
                          });
                        })
                        .catch((e) => {
                          __LOG__(
                            4
                          )`There was an error processing shared vcards: ${e}`;
                        });
                }
                n.maybeRedirectAfterSharing(a, t);
              }),
              (this.Mh = (e) =>
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 203] })
                  : (0, r.b)(2, o.b, { l10n: 841 })),
              e
            );
          }
          componentDidMount() {
            (this.Mb = !0), this.Mc(), this.Md(), this.Me(), this.Mf();
          }
          componentDidUpdate(e) {
            this.Mc(e), this.Md(e), this.Me(e);
          }
          componentWillUnmount() {
            this.Mb = !1;
          }
          Mf() {
            var e = this.props.data;
            if ("video/*" === e.type) {
              var t = (function (e) {
                return e.blobs.map((e) =>
                  (0, gh.videoInfoAndPreview)(e).then((t) => ({
                    type: "video",
                    plaintext: e,
                    filepath: e.name,
                    preview: t.preview,
                    frame: t.highResPreview,
                    width: t.width,
                    height: t.height,
                    duration: t.duration,
                    rotation: t.rotation,
                    bg: t.bg,
                    caption: null,
                  }))
                );
              })(e);
              (this.Ma = t),
                Promise.all(t).then((e) => {
                  if (this.Mb) {
                    var t = 0;
                    e.forEach((e) => {
                      t = Math.max(t, e.duration);
                    }),
                      this.setState({ videoUploadRequestsMaxDuration: t });
                  }
                });
            }
          }
          Mc(e) {
            var t = this.props,
              s = t.data,
              r = t.vcardTooBig,
              n = t.backend;
            r &&
              !(null == e ? void 0 : e.vcardTooBig) &&
              (0, y.g)({
                text: [s.blobs.length, 251],
                onBack: n.goBack,
                center: 796,
                onSoftCenter: n.goBack,
              });
          }
          Md(e) {
            var t = this.props,
              s = t.anyTooBig,
              r = t.backend,
              n = t.maxMediaSize;
            s &&
              !(null == e ? void 0 : e.anyTooBig) &&
              (0, y.g)({
                title: 229,
                text: [n, 157],
                onBack: r.goBack,
                center: 796,
                onSoftCenter: r.goBack,
              });
          }
          Me(e) {
            var t = this.props,
              s = t.tooManyItems,
              r = t.backend;
            s &&
              !(null == e ? void 0 : e.tooManyItems) &&
              (0, y.g)({
                title: 229,
                text: [St.x, 241],
                onBack: r.goBack,
                center: 796,
                onSoftCenter: r.goBack,
              });
          }
          render() {
            var e = this.props,
              t = e.data,
              s = e.serverProps,
              n = this.state.videoUploadRequestsMaxDuration;
            return (0, r.b)(2, yd, {
              renderTitle: this.Mh,
              done: 823,
              onDone: this.Mg,
              status: qb(t, s.statusVideoMaxDuration, n),
            });
          }
        };
      function qb(e, t, s) {
        switch (e.type) {
          case "image/*":
            return { type: "allow" };
          case "video/*":
            return null == s
              ? { type: "disable", subtitle: 788 }
              : s > t
              ? { type: "disable", subtitle: [t, 229] }
              : { type: "allow" };
          default:
            return { type: "hide" };
        }
      }
      var $b = (0, i.f)(
          Xb,
          (e, t) => ({ data: t.data, serverProps: e.serverProps }),
          (e, t) => {
            var s = (0, se.g)(),
              r = e.data.blobs.some((e) => e.size > s * U.b),
              n = !1;
            if ("text/vcard" === e.data.type) {
              var a = e.data.blobs.reduce((e, t) => e + t.size, 0);
              (a += e.data.blobs.length - 1) >
                e.serverProps.vcardMaxSizeKb * U.a && (n = !0);
            }
            var i = e.data.blobs.length > St.x;
            return {
              data: e.data,
              serverProps: e.serverProps,
              anyTooBig: r,
              vcardTooBig: n,
              maxMediaSize: s,
              tooManyItems: i,
              backend: t,
            };
          }
        ),
        Yb = class extends n.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.MP = !1),
              (this.MQ = null),
              (this.MS = (e, t) => {
                var s = this.props,
                  r = s.backend,
                  n = s.text,
                  a = s.fallback,
                  i = s.fromWaMe && { origText: n, urlNumber: !1 },
                  o = { text: n, link: this.MQ || void 0, waMeInfo: i },
                  l = e.map((e) => e.jid),
                  c = No(n);
                if (null != c && null == o.link) {
                  var d = this,
                    h = c.matchedText;
                  r.spinUntilReady(
                    Oo(h)
                      .catch(
                        (e) => (
                          __LOG__(
                            4
                          )`ShareTextScreen getLinkPreviewFromUrl error ${e}`,
                          null
                        )
                      )
                      .then((e) => () => {
                        d.MP &&
                          (null == e
                            ? (o.link =
                                null != a
                                  ? a
                                  : {
                                      imgBlob: null,
                                      matchedText: h,
                                      canonicalUrl: h,
                                      description: h,
                                      title: null,
                                    })
                            : ((d.MQ = Object.assign({}, e, {
                                matchedText: h,
                              })),
                              (o.link = d.MQ)),
                          d.MR(l, o, t));
                      }),
                    844,
                    788
                  );
                } else this.MR(l, o, t);
              }),
              (this.MT = (e) =>
                e > 0
                  ? (0, r.b)(2, o.b, { l10n: [e, 207] })
                  : (0, r.b)(2, o.b, { l10n: 844 })),
              e
            );
          }
          componentDidMount() {
            this.MP = !0;
          }
          componentWillUnmount() {
            this.MP = !1;
          }
          MR(e, t, s) {
            var r = this.props.backend;
            if (s && 0 === e.length) {
              var n = (0, se.h)();
              r.sendStatusTextMsg(t.text, n, t.link, { from: "externalShare" }),
                r.closeAllScreens();
            } else
              s || 1 !== e.length
                ? r.openScreen("SHARE_TEXT_MULTIPLE_SCREEN", {
                    text: t.text,
                    jids: e,
                    preview: t.link,
                    toStatus: s,
                    waMeInfo: t.waMeInfo,
                  })
                : (0, Ne.a)(r, e[0], "newest", t, "withComposeBoxOpened");
          }
          render() {
            var e,
              t =
                ((e = this.props.text),
                (0, Jc.m)(e) > St.P
                  ? { type: "allow", subtitle: [St.P, 221] }
                  : { type: "allow" });
            return (0, r.b)(2, yd, {
              renderTitle: this.MT,
              done: 823,
              onDone: this.MS,
              status: t,
            });
          }
        },
        Zb = (0, i.j)(Yb),
        em = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.Ly = n.e()),
              (this.MA = (e) => {
                var t = this.props.preview;
                if (!this.state.hidePreview && t) {
                  var s = No(e);
                  if (null == s || s.matchedText !== t.matchedText)
                    return void this.setState({ text: e, hidePreview: !0 });
                }
                this.setState({ text: e });
              }),
              (this.state = { text: e.text, hidePreview: null == e.preview });
          }
          Lz(e) {
            var t = this.props,
              s = t.preview,
              r = t.toStatus,
              n = t.waMeInfo,
              a = this.state,
              i = a.hidePreview,
              o = a.text,
              l = i ? null : s;
            if (
              (this.props.jids.forEach((t) => {
                e.sendTextMsg(t, o, null, l, n);
              }),
              r)
            ) {
              var c = (0, se.h)();
              e.sendStatusTextMsg(o, c, l, { from: "externalShare" });
            }
            e.closeAllScreens();
          }
          addSoftKeys(e, t) {
            e.setLeftAsBack(),
              D.e ||
                e.setRightIcon(dl, () => {
                  cl(t, (e) => {
                    var t = this.Ly.current;
                    t && t.pasteText(e);
                  });
                }),
              e.setCenterLabel(823, () => {
                this.Lz(t);
              });
          }
          render() {
            var e = this.props.preview,
              t = this.state.hidePreview;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 844 }),
              children: (0, r.f)(
                1,
                "div",
                "JE",
                [
                  !t && null != e && (0, r.b)(2, Sa, { content: e }),
                  (0, r.f)(
                    1,
                    "div",
                    "JF",
                    (0, r.b)(
                      2,
                      lu.a,
                      {
                        className: "JG",
                        hasFocusPriority: !0,
                        placeholder: 362,
                        defaultValue: this.props.text,
                        onChange: this.MA,
                      },
                      null,
                      this.Ly
                    ),
                    2
                  ),
                ],
                0
              ),
            });
          }
        },
        tm = (0, h.e)(em, { fullscreen: !1 }),
        sm = s(480),
        rm = s(413),
        nm = class extends h.a {
          constructor(e, t) {
            super(e, t),
              (this.MB = n.e()),
              (this.MC = null),
              (this.MD = n.e()),
              (this.ME = !1),
              (this.MH = () => {
                if (this.MB.current) {
                  var e = this.MC;
                  if (e) {
                    var t = this.MB.current.getBoundingClientRect(),
                      s = t.top - e.top,
                      r = e.height - t.height;
                    (r /= 2), this.MI(e.element.scrollTop + s - r);
                  }
                }
              }),
              (this.MI = (e) => {
                var t,
                  s,
                  r,
                  n,
                  a =
                    (null == (t = this.MC) || null == (s = t.element)
                      ? void 0
                      : s.scrollTopMax) || 1 / 0,
                  i = Math.min(a, Math.round(e));
                null == (r = this.MC) ||
                  null == (n = r.element) ||
                  n.scrollTo(0, i);
              }),
              (this.goNext = () => {
                var e = this.props.items,
                  t = this.state.selection;
                "msg" === t.type &&
                  t.index < e.length - 1 &&
                  this.setState({
                    selection: {
                      type: "msg",
                      index: t.index + 1,
                      key: this.props.items[t.index + 1].key,
                    },
                  });
              }),
              (this.MM = (e, t) => {
                var s = this.state.selection,
                  n = this.props,
                  a = n.items,
                  i = n.isActiveScreen,
                  o = "msg" === s.type && e.key === s.key,
                  l = o ? this.MB : null,
                  c = 0 === t || e.msg.id !== a[t - 1].msg.id,
                  d = t === a.length - 1 || e.msg.id !== a[t + 1].msg.id;
                return (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)(c && "JM", d && "JL", o && "JR"),
                  [
                    c && this.MN(e),
                    (0, r.b)(
                      2,
                      Li,
                      {
                        part: e,
                        selected: o,
                        darkBackground: !1,
                        playGif: o && i,
                        truncated: !0,
                        className: (0, Oe.a)(d && "JK"),
                        align: "left",
                      },
                      null,
                      l
                    ),
                  ],
                  0,
                  null,
                  e.key
                );
              }),
              (this.MN = (e) => {
                var t,
                  s = this.props,
                  n = s.contacts,
                  a = s.chats,
                  i = e.msg,
                  l = a[i.chatId],
                  h = i.meta.fromMe
                    ? (0, r.b)(2, o.b, { l10n: 168 })
                    : i.meta.author &&
                      (0, r.b)(2, F.a, { contact: (0, d.c)(i.meta.author, n) }),
                  u =
                    "GROUP" === l.type
                      ? (0, r.f)(
                          1,
                          "span",
                          null,
                          (0, c.b)(
                            null == (t = l.groupInfo) ? void 0 : t.title
                          ),
                          0,
                          { dir: "auto" }
                        )
                      : i.meta.fromMe
                      ? (0, r.b)(2, F.a, { contact: (0, d.c)(l.jid, n) })
                      : (0, r.b)(2, o.b, { l10n: 168 });
                return (0, r.f)(
                  1,
                  "div",
                  "JN",
                  [
                    (0, r.f)(
                      1,
                      "div",
                      "JQ GI GE",
                      [
                        h,
                        (0, r.f)(1, "span", "JO", (0, it.g)() ? "â—€" : "â–¶", 0),
                        u,
                      ],
                      0
                    ),
                    (0, r.b)(2, rm.a, { ts: e.msg.ts, className: "JP" }),
                  ],
                  4
                );
              }),
              (this.state = { selection: { type: "loader", key: "loader" } });
          }
          componentDidMount() {
            var e = this.MD.current;
            if (e) {
              var t = e.getBoundingClientRect();
              this.MC = {
                element: e,
                width: t.width,
                height: t.height,
                top: t.top,
                bottom: t.bottom,
              };
            }
            super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            var s,
              r,
              n,
              a = this.state.selection;
            if (this.props.items.length < e.items.length)
              if (0 === this.props.items.length)
                this.setState({ selection: { type: "empty", key: "empty" } });
              else if ("msg" === a.type) {
                var i = this.props.items.findIndex((e) => e.key === a.key),
                  o = a.key;
                i < 0 &&
                  ((i =
                    a.index < this.props.items.length
                      ? a.index
                      : this.props.items.length - 1),
                  (o = this.props.items[i].key)),
                  this.setState({
                    selection: { type: "msg", index: i, key: o },
                  }),
                  !this.props.allLoaded &&
                    this.props.items.length - i < St.M / 2 &&
                    this.MF(St.M);
              }
            if (
              (a !== t.selection && this.MG(),
              this.props.items.length > 0 &&
                "loader" === a.type &&
                null == (null == (s = this.props.loading) ? void 0 : s.older) &&
                null != (null == (r = e.loading) ? void 0 : r.older))
            ) {
              var l,
                c = e.items.length;
              (l =
                0 === c || this.props.items.length > c
                  ? c
                  : this.props.items.length - 1),
                this.setState({
                  selection: {
                    type: "msg",
                    index: l,
                    key: this.props.items[l].key,
                  },
                });
            }
            null != a &&
              a.key !== (null == (n = t.selection) ? void 0 : n.key) &&
              this.MH(),
              super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            this.MG(),
              this.props.backend.dispatch({ type: "STOP_ANY_MEDIA" }),
              super.componentWillUnmount();
          }
          MG() {
            var e = this.state.selection;
            if ("msg" === e.type && !this.ME) {
              var t = this.props.items[e.index];
              this.ME = (0, Us.d)(
                this.props.player.active,
                t.msg.id,
                this.state.selection.key
              );
            }
          }
          MJ() {
            var e = this.state.selection;
            "msg" === e.type &&
              0 !== e.index &&
              this.setState({
                selection: {
                  type: "msg",
                  index: e.index - 1,
                  key: this.props.items[e.index - 1].key,
                },
              });
          }
          MK() {
            var e = this.state.selection,
              t = this.props,
              s = t.items,
              r = t.allLoaded,
              n = t.loading;
            "msg" === e.type &&
              (r || n || e.index !== s.length - 2 || this.MF(St.M),
              this.goNext());
          }
          MF(e) {
            var t = this.props,
              s = t.items,
              r = t.chat,
              n = t.backend,
              a = s[s.length - 1].msg;
            if (null != r) {
              if ("star" !== this.props.featureType) return;
              if (null == a.starred)
                return (
                  __LOG__(
                    3
                  )`Msg ${a.id} is not starred but it was included in starred message screen.`,
                  void SEND_LOGS("no-starred-msg-in-list")
                );
              Ht(n, "star", {
                chatId: r.id,
                limit: e,
                previousLastMsgId: { msgId: a.id, featureIndex: a.starred },
              });
            } else
              Jt(n, "star", { limit: e, previousLastMsgStarredId: a.starred });
          }
          ML(e) {
            var t = new V.a(),
              s = this.props,
              r = s.backend,
              n = s.contacts,
              a = e.msg,
              i = this.props.chats[e.msg.chatId];
            t.add(560, () => {
              (0, Ne.a)(r, i.jid, a.id);
            }),
              Ws(t, r, a),
              Ks(t, r, n, e, a, i);
            var o = a.meta.author;
            "ONE_TO_ONE" === i.type &&
              o &&
              t.add([(0, F.h)(n, o), 39], () => {
                (0, Ne.a)(r, o, "newest");
              }),
              (0, y.j)(t);
          }
          addSoftKeys(e, t) {
            e.setUpDownArrows(
              () => this.MJ(),
              () => this.MK()
            );
            var s = this.state.selection,
              r = this.props.items;
            if ("msg" === s.type) {
              var n = r[s.index];
              n
                ? e.setRightOptions(() => this.ML(n))
                : __LOG__(
                    3
                  )`No item selected. Probably due to computeSoftKeys being called too early after deleting an item`;
            }
          }
          MO() {
            var e;
            return null == (null == (e = this.props.loading) ? void 0 : e.older)
              ? null
              : (0, r.f)(1, "div", "JI", (0, r.b)(2, lr.a), 2);
          }
          render() {
            var e = this.props,
              t = e.featureType,
              s = e.items,
              n = e.loading;
            return 0 !== s.length || n
              ? (0, r.b)(2, b.a, {
                  title: im(t),
                  children: (0, r.f)(
                    1,
                    "div",
                    "JH",
                    [s.map(this.MM), this.MO()],
                    0,
                    null,
                    null,
                    this.MD
                  ),
                })
              : (0, r.b)(2, om, { selected: !0, featureType: t });
          }
        },
        am = (0, i.c)((0, h.e)(nm), (e, t, s) => {
          var r = e.player,
            n = e.contacts,
            a = e.chatlist;
          return Object.assign({}, s, {
            player: r,
            contacts: n,
            backend: t,
            isActiveScreen: !!s.isActiveScreen,
            chats: a.chats,
          });
        });
      function im(e) {
        return "star" === e
          ? (0, r.b)(2, o.b, { l10n: 848 })
          : (0, r.b)(2, o.b, { l10n: "keptMessagesTitle" });
      }
      var om = class extends h.b {
        addSoftKeys(e) {
          e.setCenterLabel(758, oe.a);
        }
        render() {
          var e,
            t = this.props.featureType;
          return (
            (e =
              "star" === t
                ? (0, r.b)(2, o.b, { l10n: 539 })
                : (0, r.b)(2, o.b, { l10n: "noKeptMessages" })),
            (0, r.b)(2, b.a, {
              title: im(t),
              children: (0, r.f)(1, "div", "JJ", e, 0),
            })
          );
        }
      };
      function lm(e, t) {
        if (null == e || "mutedUpdates" === e) return null;
        var s = (0, $c.m)(e, {
          user: (e) => t.get(e),
          me: (e) => null,
          psa: (e) => t.get($c.b),
        });
        return null == s ? void 0 : s.section;
      }
      var cm = class extends h.a {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.step !== e.step ||
              s.contacts !== e.contacts ||
              s.oldestStatusTimestamp !== e.oldestStatusTimestamp ||
              s.me !== e.me ||
              s.authorJids !== e.authorJids ||
              s.authors !== e.authors ||
              s.lastScrollPosition !== e.lastScrollPosition ||
              s.sections !== e.sections)
          );
        }
        constructor(e, t) {
          super(e, t),
            (this.Ll = n.e()),
            (this.Lm = null),
            (this.Ln = null),
            (this.Lr = (e, t) => {
              if ("loaded" !== this.props.step) return [];
              var s = this.props.contacts,
                r = (0, W.g)(e);
              return t.filter(
                (e) =>
                  "mutedUpdates" !== e &&
                  (0, $c.m)(e, {
                    user: (e) =>
                      (function (e, t, s) {
                        return (0, W.a)((0, d.c)(e, s), t);
                      })(e, r, s),
                    me: () => !1,
                    psa: () => !1,
                  })
              );
            }),
            (this.Ls = (e, t) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to open author while loading`,
                  void SEND_LOGS("statusList-openAuthor-whileLoading")
                );
              var s = this.props,
                r = s.authors,
                n = s.authorJids,
                a = r.get(t);
              if (null != a) {
                var i,
                  o = [];
                if ("recent" === a.section)
                  for (var l = 0, c = n.length; l < c; ++l) {
                    var d = n[l];
                    "mutedUpdates" !== d &&
                      d !== $c.a &&
                      (a.jid !== d
                        ? (0, $c.m)(d, {
                            user: (e) => {
                              var t = r.get(e);
                              t && "recent" === t.section && o.push(t);
                            },
                            psa: () => {
                              var e = r.get($c.b);
                              e && "recent" === e.section && o.push(e);
                            },
                            me: () => {
                              __LOG__(4)`Unexpected 'me' status message`,
                                SEND_LOGS("unexpected-me-status");
                            },
                          })
                        : ((i = o.length), o.push(a)));
                  }
                else a.section, o.push(a), (i = 0);
                if (null != i) {
                  var h = i,
                    u = nd(a);
                  u &&
                    e.openScreen("STATUS_READ_OTHERS", {
                      authors: o,
                      initialAuthorIdx: h,
                      initialStatusMsgId: u,
                      statuses: e.getCachedStatuses(),
                    });
                } else
                  __LOG__(
                    3
                  )`openAuthor: author ${a.jid} not in list of authors to play`;
              }
            }),
            (this.Lt = (e, t, s, n) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to render author while loading`,
                  SEND_LOGS("statusList-renderAuthor-whileLoading"),
                  null
                );
              var a = this.props,
                i = a.authors,
                o = a.contacts,
                l = i.get(e);
              if (!l || "muted" === l.section || l.jid === $c.b) return null;
              var c = o[e];
              return c
                ? (0, r.b)(2, hm, {
                    section: s ? l.section : null,
                    children: (0, r.b)(2, cd, {
                      author: l,
                      contact: c,
                      selected: t,
                      openAuthor: this.Ls,
                      isSectionLast: n,
                    }),
                  })
                : (__LOG__(4)`StatusList: Received status for non-contact`,
                  SEND_LOGS("status-non-contact"),
                  null);
            }),
            (this.Lu = (e) => {
              var t,
                s = this.props,
                n = s.me,
                a = s.backend;
              return (0, r.b)(2, hd, {
                me: n,
                selected: e,
                sessionId: null == (t = a.statusSession) ? void 0 : t.id,
              });
            }),
            (this.Lv = (e, t, s) => {
              if ("loaded" !== this.props.step)
                return (
                  __LOG__(4)`Should not be able to render author while loading`,
                  SEND_LOGS("statusList-renderAuthor-whileLoading"),
                  null
                );
              var n = this.props.authors,
                a = (0, Jc.a)(n.get($c.b));
              return a
                ? (0, r.b)(2, hm, {
                    section: t ? a.section : null,
                    children: (0, r.b)(2, ud, {
                      psa: a,
                      selected: e,
                      openAuthor: this.Ls,
                      isSectionLast: s,
                    }),
                  })
                : (__LOG__(4)`Tried to render PSA without author`,
                  SEND_LOGS("statusList-renderPSA-noExists"),
                  null);
            }),
            (this.Lx = (e, t, s, r) => {
              if ("mutedUpdates" === e) return this.Lw(t);
              var n = !1,
                a = !1,
                i = "loaded" === this.props.step ? this.props.authors : null;
              if (null != i) {
                var o = s > 0 ? lm(r[s - 1], i) : null,
                  l = i ? lm(e, i) : null;
                n = o !== l;
                var c = lm(r[s + 1], i);
                a = l !== c;
              }
              return (0, $c.m)(e, {
                user: (e) => this.Lt(e, t, n, a),
                me: () => this.Lu(t),
                psa: () => this.Lv(t, n, a),
              });
            }),
            e.lastScrollPosition
              ? (this.Lm = {
                  item: e.lastScrollPosition.item,
                  scrollFromTop: e.lastScrollPosition.fromTop,
                })
              : (this.Lm = { item: $c.a, scrollFromTop: "none" });
        }
        componentDidMount() {
          this.Lo(this.props.oldestStatusTimestamp),
            this.Lp(),
            this.Lq(),
            super.componentDidMount();
        }
        componentDidUpdate(e) {
          var t = this.props,
            s = t.oldestStatusTimestamp,
            r = t.step;
          e.oldestStatusTimestamp !== s && this.Lo(s),
            r !== e.step && this.Lq(),
            super.componentDidUpdate(e);
        }
        componentWillUnmount() {
          var e = this.Ll.current;
          if (null != e) {
            var t,
              s = e.getSelected();
            null != s &&
              this.props.backend.saveStatusListScrollPosition({
                item: s.item,
                fromTop:
                  (null == (t = s.node.getClientRect()) ? void 0 : t.top) || 0,
              }),
              clearTimeout(this.Ln),
              (this.Ln = null),
              super.componentWillUnmount();
          }
        }
        addSoftKeys(e, t) {
          "loaded" !== this.props.step && e.setFull(788);
        }
        Lp() {
          "idle" === this.props.step && this.props.backend.loadStatusData();
        }
        Lq() {
          var e = this.props;
          if ("loaded" === e.step) {
            var t,
              s = (0, Jc.a)(e.authors.get($c.b));
            null == (t = e.backend.statusSession) ||
              t.statusTabOpened(e.sections.recent.length, s);
          }
        }
        Lo(e) {
          if ((clearTimeout(this.Ln), null != e)) {
            var t = (0, Lt.C)(e, St.Q + 2);
            this.Ln = setTimeout(() => {
              (function (e) {
                var t = e.getStatusCache();
                if (null != t) {
                  var s = t.purgeExpired();
                  null != s &&
                    e.dispatch({ type: "UPDATE_STATUS_DATA", data: s });
                }
              })(this.props.backend);
            }, t);
          } else this.Ln = null;
        }
        Lw(e) {
          return (0, r.b)(2, pm, { selected: e });
        }
        render() {
          if ("loaded" !== this.props.step)
            return (0, r.b)(2, Ve.b, {
              children: (0, r.b)(2, Be.a, { type: "center" }),
            });
          var e = this.props.authorJids,
            t = 0 === e.length ? void 0 : { filter: this.Lr, emptyLabel: 851 };
          return (0, r.b)(2, Ve.b, {
            children: (0, r.b)(
              2,
              g.c,
              {
                items: e,
                start: this.Lm,
                keyOf: dm,
                search: t,
                estimatedItemHeight: D.d,
                prefilledHeight: Ve.a,
                renderItem: this.Lx,
              },
              null,
              this.Ll
            ),
          });
        }
      };
      function dm(e) {
        return String(e);
      }
      function hm(e) {
        var t = e.children,
          s = e.section;
        if (!s) return t;
        var n = 857;
        switch (s) {
          case "viewed":
            n = 858;
            break;
          case "muted":
            n = 856;
        }
        return (0, r.c)([(0, r.b)(2, m.g, { text: n }), t], 0);
      }
      var um = (0, i.f)(
          (0, h.e)(cm),
          (e) =>
            e.tab && "status" === e.tab.key
              ? {
                  lastScrollPosition: e.status.lastScrollPosition,
                  contacts: e.contacts,
                  statusTab: e.tab,
                }
              : null,
          (e, t) => {
            var s = e.lastScrollPosition,
              r = e.statusTab,
              n = e.contacts;
            if (r.isLoading)
              return { step: "loading", contacts: n, backend: t };
            if (null == r.data)
              return { step: "idle", contacts: n, backend: t };
            var a = r.data,
              i = a.authors,
              o = a.me,
              l = a.oldestStatusTimestamp,
              c = r.data.sections,
              d = c.recent,
              h = c.viewed,
              u = c.muted,
              p = [$c.a].concat(d, h),
              v = {
                recent: {
                  first: d[0],
                  last: d[d.length - 1],
                  length: d.length,
                },
                viewed: {
                  first: h[0],
                  last: h[h.length - 1],
                  length: h.length,
                },
              };
            return (
              u.length > 0 && p.push("mutedUpdates"),
              {
                step: "loaded",
                authorJids: p,
                me: o,
                authors: i,
                lastScrollPosition: s,
                oldestStatusTimestamp: l,
                sections: v,
                contacts: n,
                backend: t,
              }
            );
          }
        ),
        pm = class extends h.b {
          addSoftKeys(e, t) {
            e.setCenterLabel(833, () => {
              t.openScreen("STATUS_MUTED_LIST");
            });
          }
          render() {
            return (0, r.f)(
              1,
              "div",
              (0, Oe.a)("JC GG GC", this.props.selected && "JD"),
              (0, r.b)(2, o.b, { l10n: 885 }),
              2
            );
          }
        },
        vm = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Lj = (e, t) => {
                var s = this.props.authors.get(t);
                if (null != s) {
                  var r = nd(s);
                  r &&
                    e.openScreen("STATUS_READ_OTHERS", {
                      authors: [s],
                      initialAuthorIdx: 0,
                      initialStatusMsgId: r,
                      statuses: e.getCachedStatuses(),
                    });
                }
              }),
              (this.Lk = (e, t) => {
                var s = this.props,
                  n = s.authors,
                  a = s.contacts,
                  i = n.get(e);
                return i
                  ? (0, ar.b)(i, {
                      authorMe: () => (
                        __LOG__(4)`StatusMutedList: received @me author.`, null
                      ),
                      authorPsa: (e) =>
                        (0, r.b)(2, ud, {
                          psa: e,
                          selected: t,
                          openAuthor: this.Lj,
                          isSectionLast: !1,
                        }),
                      authorUser: (e) => {
                        var s = a[e.jid];
                        return s
                          ? (0, r.b)(2, cd, {
                              author: e,
                              contact: s,
                              selected: t,
                              openAuthor: this.Lj,
                              isSectionLast: !1,
                            })
                          : (__LOG__(
                              4
                            )`StatusMutedList: Received status for non-contact`,
                            null);
                      },
                    })
                  : null;
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.authors !== e.authors ||
                s.items !== e.items ||
                s.contacts !== e.contacts)
            );
          }
          addSoftKeys(e, t) {
            0 === this.props.items.length && e.setLeftAsBack();
          }
          render() {
            var e = this.props.items;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 861 }),
              children: (0, r.b)(2, g.c, {
                items: e,
                keyOf: fm,
                preventLoop: !0,
                estimatedItemHeight: D.d,
                renderItem: this.Lk,
                emptyLabel: 883,
              }),
            });
          }
        };
      function fm(e) {
        return e;
      }
      var gm = (0, bc.b)(function (e, t) {
          var s = [],
            r = new Map();
          return (
            t &&
              t.forEach((t) => {
                var n = null == e ? void 0 : e.get(t);
                n && (s.push(t), r.set(t, n));
              }),
            { authors: r, items: s }
          );
        }),
        bm = (0, i.c)((0, h.e)(vm), (e) => {
          var t,
            s,
            r = e.contacts,
            n = e.tab;
          if (null == n || "status" !== n.key || n.isLoading) return null;
          var a = gm(
            null == (t = n.data) ? void 0 : t.authors,
            null == (s = n.data) ? void 0 : s.sections.muted
          );
          return { items: a.items, authors: a.authors, contacts: r };
        }),
        mm = s(526),
        Sm = s(37),
        ym = s(335),
        km = "OO",
        Cm = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { top: 0 }),
              (this.handleScroll = (e) => {
                this.setState({ top: e.top });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.innerRef !== e.innerRef ||
                  s.opened !== e.opened ||
                  s.originalTop !== e.originalTop ||
                  s.targetTop !== e.targetTop ||
                  s.onRest !== e.onRest ||
                  s.children !== e.children)) ||
              (r !== t && r.top !== t.top)
            );
          }
          componentDidUpdate(e) {
            var t = this.props,
              s = t.targetTop;
            if (t.opened)
              if (null == this.Sz) {
                var r = this.props.originalTop,
                  n = new ym.a({
                    defaultStyle: { top: r },
                    style: { top: r },
                    onUpdate: this.handleScroll,
                    onRest: this.props.onRest,
                  });
                n.start(),
                  (this.Sz = n),
                  this.setState({ top: r }),
                  this.reach(s);
              } else s !== e.targetTop && this.reach(s);
          }
          componentWillUnmount() {
            null != this.Sz && this.Sz.end();
          }
          reach(e) {
            this.Sz && this.Sz.update({ top: (0, ym.b)(e) });
          }
          render() {
            var e = this.props,
              t = (0, Oe.a)("OL OK GF GC", !e.opened && km);
            return (0, r.f)(
              1,
              "div",
              t,
              e.children,
              0,
              { style: n.h({ top: this.state.top + "px" }) },
              null,
              e.innerRef
            );
          }
        };
      function wm(e) {
        return e.opened && !e.hidden;
      }
      var xm = class extends h.a {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.TA = n.e()),
            (this.TB = n.e()),
            (this.TC = n.e()),
            (this.state = { targetTop: 0, animating: !1 }),
            (this.TD = 0),
            (this.TE = 0),
            (this.TF = 0),
            (this.onRest = () => {
              this.setState({ animating: !1 });
            }),
            (this.moveUp = () => {
              this.reach(this.state.targetTop + this.TF);
            }),
            (this.moveDown = () => {
              this.reach(this.state.targetTop - this.TF);
            }),
            e
          );
        }
        shouldComponentUpdate(e, t) {
          var s = this.props,
            r = this.state;
          return (
            (s !== e &&
              (s.text !== e.text ||
                s.opened !== e.opened ||
                s.hidden !== e.hidden)) ||
            (r !== t &&
              (r.targetTop !== t.targetTop || r.animating !== t.animating))
          );
        }
        componentDidMount() {
          var e = this.TA.current,
            t = this.TB.current,
            s = this.TC.current;
          e &&
            t &&
            s &&
            ((this.TF = t.clientHeight),
            (this.TE = t.offsetTop),
            (this.TD = e.clientHeight - s.clientHeight)),
            super.componentDidMount();
        }
        componentDidUpdate(e, t) {
          var s = this.props.opened;
          s !== e.opened && (s ? this.open() : this.close()),
            super.componentDidUpdate(e, t);
        }
        clampTargetTop(e) {
          return Math.max(this.TD, Math.min(this.TE, e));
        }
        reach(e) {
          var t = this.clampTargetTop(e);
          this.state.targetTop !== t &&
            this.setState({ targetTop: t, animating: !0 });
        }
        open() {
          this.reach(this.TE - this.TF);
        }
        close() {
          this.reach(this.TE);
        }
        addSoftKeys(e, t) {
          wm(this.props) && e.setUpDownArrows(this.moveUp, this.moveDown);
        }
        render() {
          var e = this.state.animating || wm(this.props);
          return (0, r.f)(
            1,
            "div",
            (0, Oe.a)("OJ", this.props.hidden && km),
            [
              (0, r.f)(
                1,
                "div",
                (0, Oe.a)("OM OK GF GC GI GE", e && km),
                this.props.text,
                0,
                null,
                null,
                this.TB
              ),
              (0, r.b)(2, Cm, {
                innerRef: this.TC,
                onRest: this.onRest,
                opened: e,
                originalTop: this.TE,
                targetTop: this.state.targetTop,
                children: this.props.text,
              }),
            ],
            4,
            null,
            null,
            this.TA
          );
        }
      };
      function Im(e) {
        return (0, r.f)(
          1,
          "div",
          (0, Oe.a)("OJ", e.hidden && km),
          (0, r.f)(1, "div", "ON OK GF GC", e.text, 0),
          2
        );
      }
      var Lm = s(327),
        _m = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M9 .6v.6c0 .3.3.6.6.6h2.6v2.6c0 .3.3.6.6.6h.6c.3 0 .6-.3.6-.6V0H9.6c-.3 0-.6.3-.6.6zM0 0v4.4c0 .3.3.6.6.6h.6c.3 0 .6-.3.6-.6V1.8h2.6c.3 0 .6-.3.6-.6V.6c0-.3-.3-.6-.6-.6H0zm12.2 9.6v2.6H9.6c-.3 0-.6.3-.6.6v.6c0 .3.3.6.6.6H14V9.6c0-.3-.3-.6-.6-.6h-.6c-.3 0-.6.3-.6.6zM0 9.6V14h4.4c.3 0 .6-.3.6-.6v-.6c0-.3-.3-.6-.6-.6H1.8V9.6c0-.3-.3-.6-.6-.6H.6c-.3 0-.6.3-.6.6z",
            }),
            2,
            { viewBox: "0 0 14 14" }
          );
        },
        Nm = "KL Jx",
        Mm = "KM",
        Om = "KT p",
        Tm = n.f((e, t) => {
          var s,
            n = e.parent,
            a = (0, Jc.j)(n.statusMsgInAuthor) || (0, Lt.E)();
          return (0, r.b)(
            2,
            ed,
            {
              meta: e.meta,
              author: n.author.jid,
              contacts: n.contacts,
              position: n.position,
              total: n.total,
              timestamp: a,
              paused: e.paused,
              show: e.show,
              withoutShadow: e.withoutShadow,
              sideways: null != (s = e.sideways) && s,
              duration: e.duration,
              onProgressBegin: n.onProgressBegin,
              onProgressEnd: n.onProgressEnd,
            },
            null,
            t
          );
        }),
        Pm = class extends h.a {
          componentDidMount() {
            var e = this.props,
              t = e.session,
              s = e.statusMsgInAuthor;
            t.startLoadingStatus(s.id), super.componentDidMount();
          }
          componentWillUnmount() {
            var e = this.props,
              t = e.session,
              s = e.statusMsgInAuthor;
            t.stopLoadingStatus(s.id), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            e.setFull(788);
          }
          render() {
            return (0, r.c)(
              [
                (0, r.b)(2, Tm, {
                  parent: this.props,
                  paused: !0,
                  show: "all",
                  duration: 1,
                }),
                (0, r.f)(1, "div", "Jy Jx", (0, r.b)(2, lr.a), 2),
              ],
              4
            );
          }
        },
        Am = { type: "playing" },
        Em = { type: "paused" },
        Rm = { type: "zooming", playing: !0 },
        Gm = { type: "zooming", playing: !1 },
        Um = { type: "replying", playing: !0 },
        Dm = { type: "replying", playing: !1 };
      function jm(e) {
        return "playing" === e.type;
      }
      function Bm(e) {
        return jm(e) || (Vm(e) && e.playing);
      }
      function Vm(e) {
        return "zooming" === e.type;
      }
      function Fm(e) {
        return "replying" === e.type;
      }
      function Wm(e) {
        return Vm(e) || Fm(e);
      }
      function Km(e, t, s) {
        var r = e.props,
          n = r.isActiveScreen,
          a = r.statusMsgInAuthor,
          i = r.session;
        if (n !== t.isActiveScreen)
          if (n) {
            var o = e.state.action;
            Fm(o) && (o.playing ? e.Nw() : e.pause()),
              e.Nx()
                ? i.resumeLoadingStatus(a.id)
                : i.resumeViewingStatus(a.id);
          } else i.stopLoadingOrViewingStatus(a.id);
      }
      function zm(e, t) {
        var s = e.props.parentApi;
        t.setBack(s.close),
          (0, it.g)()
            ? t.setLeftRightArrows(s.goToNextStatus, s.goToPreviousStatus)
            : t.setLeftRightArrows(s.goToPreviousStatus, s.goToNextStatus);
      }
      function Hm(e, t, s) {
        var r = e.props,
          n = r.author,
          a = r.session,
          i = r.statusMsgInAuthor,
          o = r.content,
          l = e.state.action;
        (0, $c.m)(n.jid, {
          user: (r) => {
            t.setLeftLabel(807, () => {
              e.setState({ action: jm(l) ? Um : Dm }),
                (function (e, t, s) {
                  var r,
                    n,
                    a,
                    i = s.content;
                  switch (i.type) {
                    case "text":
                      r = { type: "text", text: i.text };
                      break;
                    case "image":
                    case "gif":
                      (r = { type: "image", caption: i.caption }),
                        (n = i.preview),
                        (a = i.bg);
                      break;
                    case "video":
                      (r = {
                        type: "video",
                        duration: i.duration,
                        caption: i.caption,
                      }),
                        (n = i.preview),
                        (a = i.bg);
                      break;
                    default:
                      return (0, f.a)(i.type);
                  }
                  var o = {
                    type: "reply",
                    quotedMsg: {
                      id: s.statusMsgInAuthor.id,
                      ts: s.statusMsgInAuthor.ts,
                      remoteJid: nr.h,
                      meta: { author: t },
                      content: r,
                      preview: n,
                      bg: a,
                    },
                    formatting: (0, Jc.f)(i),
                  };
                  e.openScreen("STATUS_REPLY", {
                    id: s.statusMsgInAuthor.id,
                    authorJid: t,
                    quotedStatus: o,
                  });
                })(s, r, e.props);
            });
          },
          me: () => {
            t.setLeftLabel(565, () => {
              e.setState({ action: jm(l) ? Um : Dm }),
                Js({ id: i.id, content: o, forwarded: null }, s);
            });
          },
          psa: () => {
            if (o.actionLink) {
              var e = o.actionLink,
                r = e.buttonTitle,
                n = e.url;
              t.dangerouslySetLeftRawString(r, () => {
                a.openPsaStatusLink(i.id, 1, 0), (0, Ls.a)(s, n);
              });
            }
          },
        });
      }
      function Jm() {
        return (0, r.f)(
          1,
          "div",
          "KU GH GC",
          (0, r.b)(2, o.b, { l10n: 299 }),
          2
        );
      }
      function Qm(e) {
        var t = e.linkPreview,
          s = e.linkPreviewImage,
          n = null;
        null != s &&
          (n = (0, r.f)(
            1,
            "div",
            "KH",
            (0, r.b)(2, mr.a, {
              previewId: s.previewId,
              style: { borderRadius: "6px" },
            }),
            2
          ));
        var a = null;
        t.title &&
          (a = (0, r.b)(2, le.a, {
            maxLineClassName: "KI",
            truncated: !0,
            children: t.title,
          }));
        var i = null;
        (n || a) && (i = (0, r.f)(1, "div", "KG", [n, a], 0));
        var o = null;
        return (
          t.description &&
            (o = (0, r.f)(1, "div", "KJ GI GE", t.description, 0)),
          (0, r.c)([i, o], 0)
        );
      }
      function Xm(e) {
        var t = e.url,
          s = e.href,
          n = e.matchedText,
          a = e.content,
          i = a.linkPreview,
          o = (0, mm.toUnicode)(t.hostname),
          l = s.replace(t.hostname, o),
          c = null;
        return (
          null != i &&
            i.matchedText === n &&
            (c = (0, r.b)(2, Qm, {
              linkPreview: i,
              linkPreviewImage: a.linkPreviewImage,
            })),
          (0, r.f)(
            1,
            "div",
            "KF GG GC",
            [
              c,
              (0, r.f)(1, "div", "KK GI GE", o, 0),
              (0, r.f)(
                1,
                "div",
                null,
                (0, r.f)(1, "a", null, l, 0, { href: s }),
                2
              ),
            ],
            0
          )
        );
      }
      var qm = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Ny = null),
              (this.state = { spacing: 0 }),
              (this.OA = (e) => {
                this.setState({ spacing: e.spacing });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e && s.spacing !== e.spacing) ||
              (r !== t && r.spacing !== t.spacing)
            );
          }
          componentDidMount() {
            var e = this.props.spacing;
            null != e && this.Nz(e);
          }
          componentDidUpdate(e) {
            var t = this.props.spacing;
            null != t && t !== e.spacing && this.Nz(t);
          }
          componentWillUnmount() {
            null != this.Ny && this.Ny.end();
          }
          Nz(e) {
            if (null == this.Ny) {
              var t = new ym.a({
                defaultStyle: { spacing: e },
                style: { spacing: e },
                onUpdate: this.OA,
              });
              t.start(), (this.Ny = t), this.setState({ spacing: e });
            } else this.Ny.update({ spacing: (0, ym.b)(e) });
          }
          render() {
            return (0, r.f)(1, "div", null, null, 1, {
              style: n.h({ height: this.state.spacing + "px" }),
            });
          }
        },
        $m = class extends h.a {
          constructor(e, t) {
            var s;
            super(e, t),
              (this.OB = n.e()),
              (this.OC = null),
              (this.OD = null),
              (this.OE = 0),
              (this.OF = 0),
              (this.OG = 0),
              (this.OH = (0, bc.c)(c.d)),
              (this.OI = { skipPhoneNumbers: !0 }),
              (this.OK = (e) => {
                var t = e.ref,
                  s = e.contentHeight,
                  r = e.overflowing;
                (this.OD = t), (this.OE = s), this.setState({ overflowing: r });
              }),
              (this.Nw = () => {
                this.setState({ action: Am, spacing: this.OF });
              }),
              (this.pause = () => {
                this.setState({ action: Em, spacing: this.OG });
              }),
              (this.Nx = () => !1),
              (this.OL = (e) => {
                this.OC = e;
              }),
              (this.OM = (e, t, s) => {
                try {
                  if ("phoneNumber" === s.dataset.contentType)
                    return (
                      __LOG__(
                        4
                      )`Status should not render phone numbers as links`,
                      void SEND_LOGS("status-addLinkSoftKeys-phoneNumber")
                    );
                  var n = s.getAttribute("href") || "";
                  if (!n)
                    return (
                      __LOG__(4)`Empty href attribute on status link`,
                      void SEND_LOGS("status-addLinkSoftKeys-emptyHref")
                    );
                  var a = s.dataset.matchedText || "",
                    i = new URL(n);
                  e.setRightLabel(786, () => {
                    var e = jm(this.state.action);
                    this.pause();
                    var s = this.props.author,
                      o = (0, $c.m)(s.jid, {
                        user: (e) => e,
                        me: () => Ql.r.get(),
                        psa: () => {},
                      }),
                      l = !!o && (0, Hp.a)(a, o, Ql.r.get(), [(0, it.d)().lg]),
                      c = () => {
                        e && this.Nw();
                      };
                    l
                      ? (0, ba.a)(t, a, l, n, { onBack: c, onSoftCenter: c })
                      : (0, y.g)({
                          title: 786,
                          text: () =>
                            (0, r.b)(2, Xm, {
                              href: n,
                              matchedText: a,
                              url: i,
                              content: this.props.content,
                            }),
                          center: 797,
                          onSoftCenter: () => {
                            (0, Ls.a)(t, i.toString());
                          },
                          left: 761,
                          onSoftLeft: c,
                          onBack: c,
                        });
                  });
                } catch (e) {
                  __LOG__(4)`Failed to parse a status link: ${e}`,
                    SEND_LOGS("status-text-addLinkSoftKeys");
                }
              }),
              (this.OJ =
                ((s = e.content), 2e3 + 60 * Math.min((0, Hc.a)(s.text), 180))),
              (this.state = { action: Am, spacing: null, overflowing: !0 });
          }
          componentDidMount() {
            var e = this.OD,
              t = this.OC,
              s = this.OB.current;
            if (null != t && null != e && null != s) {
              var r = s.clientHeight,
                n = t.clientHeight,
                a = e.clientHeight,
                i = this.OE,
                o = 0;
              if (r + i + r < D.l) {
                var l = (D.l - i) / 2;
                (this.OG = l), (o = l);
              } else
                (this.OG = Math.max(10, (n - i) / 2)), (o = (n + r - a) / 2);
              (this.OF = o), this.setState({ spacing: o });
              var c = this.props,
                d = c.session,
                h = c.statusMsgInAuthor,
                u = c.content;
              d.startViewingStatus(h.id, this.OJ, u.linkPreview ? 9 : 1),
                super.componentDidMount();
            }
          }
          componentDidUpdate(e, t) {
            Km(this, e), super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            var e = this.props,
              t = e.session,
              s = e.statusMsgInAuthor;
            t.stopViewingStatus(s.id), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.state.action;
            zm(this, e),
              Hm(this, e, t),
              jm(s)
                ? e.setCenterIcon(
                    (0, r.b)(2, Cn, { className: Om }),
                    this.pause
                  )
                : e.setCenterIcon(
                    (0, r.b)(2, wr.a, { className: Om }),
                    this.Nw
                  );
          }
          render() {
            var e = this.props,
              t = e.content,
              s = e.author,
              a = this.state,
              i = a.overflowing,
              o = a.spacing,
              l = jm(a.action),
              c = !l || !i,
              d = null == o ? "KC KA" : nS(s) ? "KB GD KA" : "KA";
            return (0, r.f)(
              1,
              "div",
              "Jz",
              [
                (0, r.b)(2, zp.a, {
                  setRef: this.OL,
                  addLinkSoftkeys: this.OM,
                  disabled: !c,
                  children: [
                    (0, r.b)(2, qm, { spacing: o }),
                    (0, r.b)(2, le.a, {
                      textClassName: d,
                      maxLineClassName: "KD",
                      moreLabelClassName: "KE",
                      truncated: l,
                      onMount: this.OK,
                      isUsingMoreLabel: !0,
                      children: this.OH(t.text, (0, Jc.f)(t), this.OI),
                    }),
                  ],
                }),
                t.fromFb ? (0, r.b)(2, Jm) : null,
                (0, r.b)(
                  2,
                  Tm,
                  {
                    parent: this.props,
                    paused: !l,
                    show: l ? "all" : "none",
                    withoutShadow: !0,
                    duration: this.OJ,
                  },
                  null,
                  this.OB
                ),
              ],
              0,
              {
                style: n.h({
                  backgroundColor: t.hexBackgroundColor,
                  "--multiline-background": t.hexBackgroundColor,
                }),
              }
            );
          }
        },
        Ym = (0, bc.b)((e, t) => (rS(e) ? { fromMe: !0, ack: t.ack } : {})),
        Zm = class extends h.a {
          constructor(e, t) {
            var s;
            super(e, t),
              (this.ON = null),
              (this.OO = null),
              (this.OH = (0, bc.c)(c.d)),
              (this.OI = { skipPhoneNumbers: !0 }),
              (this.OQ = null),
              (this.OR = (e) => {
                this.ON = e;
              }),
              (this.OS = () => {
                var e = this.props,
                  t = e.statusMsgInAuthor,
                  s = e.session;
                s.stopLoadingStatus(t.id),
                  s.startViewingStatus(t.id, this.OJ, 2);
                var r = this.ON;
                if (r) {
                  var n = new re(
                    r,
                    (e) => {
                      this.setState(e);
                    },
                    { width: D.n, height: D.l }
                  );
                  this.OO = n;
                }
                this.setState({ initialized: !0 });
              }),
              (this.OT = () => {
                var e = this.props,
                  t = e.session,
                  s = e.statusMsgInAuthor;
                t.stopLoadingStatus(s.id), t.failStatus(s.id);
              }),
              (this.Nw = () => {
                this.OO && this.OO.fullout(), this.setState({ action: Am });
              }),
              (this.pause = () => {
                this.setState({ action: Em });
              }),
              (this.Nx = () => !this.state.initialized),
              (this.OV = () => {
                var e = this.state.action;
                this.setState({ action: jm(e) ? Rm : Gm });
              }),
              (this.OU = () => {
                var e = this.state.action;
                Vm(e)
                  ? e.playing
                    ? this.Nw()
                    : this.pause()
                  : __LOG__(
                      4
                    )`You should not be abled to unzoom when not zooming.`;
              }),
              (this.OW = (e) => {
                var t = this.state,
                  s = t.initialized,
                  a = t.scale,
                  i = t.x,
                  o = t.y,
                  l = this.props.content,
                  c = this.OP,
                  d = c.width,
                  h = c.height,
                  u = { width: d + "px", height: h + "px" },
                  p = { transform: `scale(${a}) translate(${i}px,${o}px)` },
                  v = null;
                return (
                  e &&
                    (v = (0, r.f)(
                      1,
                      "img",
                      Mm,
                      null,
                      1,
                      {
                        src: e,
                        style: n.h(p),
                        onLoad: this.OS,
                        onError: this.OT,
                      },
                      null,
                      this.OR
                    )),
                  (0, r.b)(2, mr.g, {
                    width: d,
                    height: h,
                    parentWidth: d,
                    bgColor: l.bg,
                    previewId: l.preview,
                    style: u,
                    isReady: s,
                    overflow: "visible",
                    children: v,
                  })
                );
              }),
              (this.OP = (0, Dr.b)(e.content)),
              (this.OJ =
                ((s = e.content),
                4500 +
                  60 * Math.min(s.caption ? (0, Hc.a)(s.caption) : 0, 30))),
              (this.state = {
                action: Am,
                initialized: !1,
                scale: 1,
                x: 0,
                y: 0,
              });
          }
          componentDidMount() {
            var e = this.props,
              t = e.statusMsgInAuthor;
            e.session.startLoadingStatus(t.id), super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            Km(this, e), super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            clearTimeout(this.OQ);
            var e = this.props,
              t = e.statusMsgInAuthor;
            e.session.stopLoadingOrViewingStatus(t.id),
              super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.props;
            zm(this, e);
            var n = s.content.mediaStatus;
            if ("ready" === n.type) {
              var a = this.state.action;
              if (Vm(a)) {
                var i = this.OO;
                e.setCenterIcon((0, r.b)(2, wr.a, { className: Om }), this.Nw),
                  null != i
                    ? (i.isAtMinScale()
                        ? e.setLeftLabel(758, this.OU)
                        : (e.setUpDownArrows(i.up, i.down),
                          e.setLeftRightArrows(i.left, i.right),
                          e.setLeftLabel(838, i.out)),
                      i.isAtMaxScale() || e.setRightLabel(837, i.in))
                    : e.setLeftLabel(758, this.OU);
              } else
                e.setRightLabel(836, this.OV),
                  jm(a)
                    ? e.setCenterIcon(
                        (0, r.b)(2, Cn, { className: Om }),
                        this.pause
                      )
                    : e.setCenterIcon(
                        (0, r.b)(2, wr.a, { className: Om }),
                        this.Nw
                      ),
                  Hm(this, e, t);
            } else
              (0, Dr.a)(e, rS(this.props.author), n, {
                id: s.statusMsgInAuthor.id,
                origin: "status",
              });
          }
          render() {
            var e = this.props,
              t = e.statusMsgInAuthor,
              s = e.content,
              n = e.author,
              a = this.state,
              i = a.action,
              o = a.initialized,
              l = this.OP.width,
              c = (function (e) {
                return "paused" === e.type;
              })(i),
              d = Wm(i),
              h = null;
            if (s.caption) {
              var u = this.OH(s.caption, (0, Jc.f)(s), this.OI);
              h = nS(n)
                ? (0, r.b)(2, Im, { text: u, hidden: d })
                : (0, r.b)(2, xm, { text: u, opened: c, hidden: d });
            }
            var p = Ym(n, t),
              v = (o || Qc(p)) && jm(i);
            return (0, r.f)(
              1,
              "div",
              Nm,
              [
                (0, r.b)(2, Ur, {
                  msgId: t.id,
                  content: s,
                  parentWidth: l,
                  render: this.OW,
                }),
                (0, r.b)(2, Er, {
                  mediaStatus: s.mediaStatus,
                  meta: p,
                  size: void 0,
                  onReady: void 0,
                }),
                h,
                (0, r.b)(2, Tm, {
                  meta: p,
                  parent: e,
                  paused: !v,
                  show: c || d ? "none" : "all",
                  duration: this.OJ,
                }),
              ],
              0
            );
          }
        };
      function eS(e, t, s) {
        return "gif" === e.type
          ? 1e3 * Math.max(6, 3 * t)
          : 1e3 * Math.min(s, t);
      }
      var tS = class extends h.a {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.author !== e.author ||
                  s.statusMsgInAuthor !== e.statusMsgInAuthor ||
                  s.position !== e.position ||
                  s.total !== e.total ||
                  s.contacts !== e.contacts ||
                  s.isActiveScreen !== e.isActiveScreen ||
                  s.onProgressBegin !== e.onProgressBegin ||
                  s.onProgressEnd !== e.onProgressEnd ||
                  s.session !== e.session ||
                  s.parentApi !== e.parentApi ||
                  s.content !== e.content ||
                  s.muted !== e.muted ||
                  s.statusVideoMaxDuration !== e.statusVideoMaxDuration ||
                  s.uri !== e.uri)) ||
              (r !== t &&
                (r.action !== t.action ||
                  r.durationMs !== t.durationMs ||
                  r.canPlay !== t.canPlay ||
                  r.videoVisible !== t.videoVisible))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.OH = (0, bc.c)(c.d)),
              (this.OI = { skipPhoneNumbers: !0 }),
              (this.OY = !1),
              (this.OZ = null),
              (this.Ob = (e) => {
                this.OX.ref(e, "preserveTime");
              }),
              (this.Nw = () => {
                this.OX.setPlaying(!0);
              }),
              (this.pause = () => {
                this.OX.setPlaying(!1);
              }),
              (this.Nx = () => !this.OY),
              (this.OV = () => {
                this.setState((e) => ({ action: jm(e.action) ? Rm : Gm }));
              }),
              (this.OU = () => {
                var e = this.state.action;
                Vm(e)
                  ? e.playing
                    ? this.setState({ action: Am })
                    : this.setState({ action: Em })
                  : __LOG__(
                      4
                    )`You should not be abled to unzoom while ${e.type}`;
              }),
              (this.Od = () => {
                this.props.parentApi.unmute(),
                  navigator.volumeManager.requestUp();
              }),
              (this.Oe = () => {
                this.props.parentApi.unmute(),
                  navigator.volumeManager.requestDown();
              }),
              (this.onVideoRequested = () => {
                this.state.videoVisible && this.setState({ videoVisible: !1 });
              }),
              (this.onVideoReleased = () => {
                this.state.videoVisible || this.setState({ videoVisible: !0 });
              });
            var s = e.content.duration,
              r = eS(e.content, null != s ? s : 4500, e.statusVideoMaxDuration);
            (this.state = {
              action: Am,
              durationMs: r,
              canPlay: !1,
              videoVisible: !0,
            }),
              this.Oa(e);
            var n = new Tl.a(this);
            n.setPlaying(!0), (this.OX = n);
          }
          componentDidMount() {
            var e = this.props,
              t = e.statusMsgInAuthor;
            e.session.startLoadingStatus(t.id),
              (this.OZ = (0, gh.lockVideoProcessing)()),
              (0, tg.a)(this),
              super.componentDidMount();
          }
          componentDidUpdate(e, t) {
            Km(this, e);
            var s = Fm(this.state.action);
            s !== Fm(t.action) && (s ? this.pause() : this.Nw()),
              this.props.content.rotation !== e.content.rotation &&
                this.Oa(this.props);
            var r = this.state.videoVisible;
            r !== t.videoVisible &&
              (r
                ? (this.OZ = (0, gh.lockVideoProcessing)())
                : null != this.OZ && (this.OZ.resolve(), (this.OZ = null))),
              super.componentDidUpdate(e, t);
          }
          componentWillUnmount() {
            var e = this.props,
              t = e.session,
              s = e.statusMsgInAuthor;
            t.stopLoadingOrViewingStatus(s.id),
              (0, tg.c)(this),
              null != this.OZ && this.OZ.resolve(),
              super.componentWillUnmount();
          }
          Oa(e) {
            var t = e.content.rotation,
              s = 90 === t || 270 === t;
            this.OP = (0, Dr.b)(e.content, s ? "swapDimensions" : void 0);
          }
          handleCanPlay() {
            var e = this.OX.getDuration();
            if (
              (null != e &&
                (e = eS(
                  this.props.content,
                  e,
                  this.props.statusVideoMaxDuration
                )) !== this.state.durationMs &&
                this.setState({ durationMs: e }),
              !this.OY)
            ) {
              var t = this.props,
                s = t.statusMsgInAuthor,
                r = t.session;
              r.stopLoadingStatus(s.id),
                r.startViewingStatus(
                  s.id,
                  this.mediaDuration(),
                  this.Oc() ? 11 : 3
                ),
                (this.OY = !0),
                this.setState({ canPlay: !0 });
            }
          }
          handlePlay() {
            Vm(this.state.action)
              ? this.setState({ action: Rm })
              : this.setState({ action: Am });
          }
          handlePause() {
            var e;
            (null == (e = this.OX.current) ? void 0 : e.ended) &&
              this.props.onProgressEnd &&
              this.props.onProgressEnd();
            var t = this.state.action;
            Vm(t)
              ? this.setState({ action: Gm })
              : jm(t) && this.setState({ action: Em });
          }
          handleTimeUpdate(e) {}
          handleEnded() {}
          mediaDuration() {
            return this.props.content.duration || 0;
          }
          Oc() {
            return "gif" === this.props.content.type;
          }
          addSoftKeys(e, t) {
            var s = this.props,
              n = s.parentApi,
              a = s.content,
              i = s.statusMsgInAuthor,
              o = s.author,
              l = this.state.action,
              c = Vm(l);
            c ? (e.setBack(this.OU), e.hide()) : e.setBack(n.close),
              c && this.OP.shouldBeSideways
                ? (e.setUpDownArrows(n.goToPreviousStatus, n.goToNextStatus),
                  e.setLeftRightArrows(this.Oe, this.Od))
                : (e.setLeftRightArrows(n.goToPreviousStatus, n.goToNextStatus),
                  e.setUpDownArrows(this.Od, this.Oe));
            var d = a.mediaStatus;
            "ready" === d.type
              ? (Bm(l)
                  ? e.setCenterIcon(
                      (0, r.b)(2, Cn, { className: Om }),
                      this.pause
                    )
                  : e.setCenterIcon(
                      (0, r.b)(2, wr.a, { className: Om }),
                      this.Nw
                    ),
                c ||
                  (Hm(this, e, t),
                  e.setRightIcon((0, r.b)(2, _m, { className: Om }), this.OV)))
              : (0, Dr.a)(e, rS(o), d, { id: i.id, origin: "status" });
          }
          render() {
            var e,
              t = this.props,
              s = t.content,
              a = t.uri,
              i = t.muted,
              o = t.author,
              l = t.statusMsgInAuthor,
              c = this.state,
              d = c.durationMs,
              h = c.action,
              u = c.canPlay,
              p = c.videoVisible,
              v = Vm(h),
              f = !Bm(h),
              g = Wm(h),
              b = this.Oc(),
              m = this.OP;
            e = v ? (f ? "progress" : "none") : f ? "none" : "all";
            var S = null;
            if (s.caption) {
              var y = this.OH(s.caption, (0, Jc.f)(s), this.OI);
              S = nS(o)
                ? (0, r.b)(2, Im, { text: y, hidden: g })
                : (0, r.b)(2, xm, { text: y, opened: f, hidden: g });
            }
            var k = v && m.shouldBeSideways,
              C = null;
            if (a && p) {
              var w = s.rotation || 0;
              k && (w += 90), (w %= 360);
              var x = {
                width: (k ? m.widthSideway : m.width) + "px",
                height: (k ? m.heightSideway : m.height) + "px",
                transform: 0 !== w ? `rotate(${w}deg)` : void 0,
                visibility: u ? "visible" : "hidden",
              };
              C = (0, r.f)(
                1,
                "div",
                "KR Jx",
                (0, r.f)(
                  1,
                  "video",
                  "KS",
                  null,
                  1,
                  {
                    src: a,
                    muted: i || b,
                    loop: b,
                    style: n.h(x),
                    preload: "metadata",
                  },
                  null,
                  this.Ob
                ),
                2
              );
            }
            var I = {
                width: (m.swapDimensions ? m.height : m.width) + "px",
                height: (m.swapDimensions ? m.width : m.height) + "px",
                visibility: u && p ? "hidden" : "visible",
              },
              L = Ym(o, l),
              _ = (u || Qc(L)) && !f;
            return (0, r.f)(
              1,
              "div",
              Nm,
              [
                (0, r.f)(
                  1,
                  "div",
                  Mm,
                  (0, r.b)(2, mr.e, {
                    content: s,
                    className: Mm,
                    parentWidth: m.width,
                  }),
                  2,
                  { style: n.h(I) }
                ),
                C,
                (0, r.b)(2, Er, {
                  mediaStatus: s.mediaStatus,
                  meta: L,
                  size: s.size,
                  onReady: u ? void 0 : { icon: null, spinner: Or },
                }),
                (0, r.f)(
                  1,
                  "div",
                  (0, Oe.a)(
                    "KN",
                    this.OP.shouldBeSideways && "KQ",
                    !f && "KO",
                    !v && "KP"
                  ),
                  (0, r.b)(2, wr.a, { className: Om }),
                  2
                ),
                S,
                (0, r.b)(2, Tm, {
                  meta: L,
                  parent: t,
                  paused: !_,
                  sideways: k,
                  show: e,
                  duration: d,
                }),
              ],
              0
            );
          }
        },
        sS = (0, Td.c)({
          getContentRef(e) {
            var t = e.content.mediaStatus;
            return "ready" === t.type ? t.ref : null;
          },
          getId: (e) => e.statusMsgInAuthor.id,
          render: (e, t) =>
            (0, r.i)((0, r.b)(2, tS, Object.assign({}, e, { uri: t }))),
        });
      function rS(e) {
        return e.jid === Sm.a;
      }
      function nS(e) {
        return e.jid === Sm.b;
      }
      function aS(e, t) {
        return null != e[t];
      }
      function iS(e) {
        return e + 1;
      }
      function oS(e) {
        return e - 1;
      }
      var lS = class extends n.a {
          static getDerivedStateFromProps(e, t) {
            if ("me" !== e.type) return null;
            var s = e.authors[e.initialAuthorIdx];
            return s
              ? t.current.author !== s
                ? { current: Object.assign({}, t.current, { author: s }) }
                : void 0
              : null;
          }
          constructor(e) {
            super(e), cS.call(this);
            var t = {};
            e.authors.forEach((e) => {
              var s;
              (null == (s = e.unread) ? void 0 : s.first) &&
                (t[e.jid] = e.unread.first.id);
            });
            var s = e.authors[e.initialAuthorIdx],
              r = s.msgs.findIndex((t) => t.id === e.initialStatusMsgId);
            this.state = {
              oldestUnreads: t,
              current: { id: e.initialStatusMsgId, author: s, index: r },
              muted: !0,
            };
            var n = e.statuses[e.initialStatusMsgId];
            (this.LV = new Lm.b()),
              this.LV.openStatus(
                s,
                e.initialStatusMsgId,
                n && "LOADING" !== n ? n : void 0
              ),
              (this.LU = {
                close: this.LX,
                goToPreviousStatus: this.LY,
                goToNextStatus: this.LZ,
                unmute: this.La,
              });
          }
          componentDidMount() {
            (this.LW = !0),
              this.Lb(this.state.current.id),
              (0, ht.d)(document.body);
            var e = this.state.current.author;
            this.LV.startViewingStatusRow(e, 1, this.Lc(e)),
              (this.props.backend.statusViewerSession = this.LV);
          }
          componentDidUpdate(e, t) {
            this.state.current.id !== t.current.id &&
              this.Lb(this.state.current.id);
            var s = this.props.isActiveScreen;
            if (s !== e.isActiveScreen) {
              var r = (0, ht.c)();
              s && !r ? (0, ht.d)(document.body) : !s && r && (0, ht.a)();
            }
          }
          componentWillUnmount() {
            var e;
            (this.LW = !1), (0, ht.c)() && (0, ht.a)();
            var t = this.props.backend,
              s = null == (e = t.statusSession) ? void 0 : e.id;
            setTimeout(() => {
              this.LV.stopStatusViewerSession(null != s ? s : "noSession");
            }, 0),
              (t.statusViewerSession = null);
          }
          Ld(e, t) {
            var s,
              r = "previous" === t ? oS : iS,
              n = this.state.current.author,
              a = n.msgs,
              i = a.findIndex((t) => t.id === e);
            if (i < 0)
              return (
                __LOG__(
                  4
                )`Displaying a status not present in its author anymore`,
                void SEND_LOGS("status-author-without-status")
              );
            var o = null == (s = a[(i = r(i))]) ? void 0 : s.id;
            if (null != o) return { id: o, index: i, author: n };
            var l = this.props.authors;
            if (0 !== l.length) {
              var c = l.findIndex((e) => e.jid === n.jid);
              if (c < 0)
                return (
                  __LOG__(4)`Displaying an author not present in the list`,
                  void SEND_LOGS("status-author-not-present-in-list")
                );
              var d,
                h = l[r(c)];
              if (null != h)
                return (
                  null == (o = this.state.oldestUnreads[h.jid])
                    ? ((i = 0), (o = null == (d = h.msgs[i]) ? void 0 : d.id))
                    : (i = h.msgs.findIndex((e) => e.id === o)),
                  null == o
                    ? (__LOG__(
                        4
                      )`Trying to go through an author without any status`,
                      void SEND_LOGS("status-author-without-any-status"))
                    : { id: o, index: i, author: h }
                );
            } else __LOG__(3)`StatusRead: No extra authors provided. Closing.`;
          }
          Le(e) {
            return this.Ld(e, "previous");
          }
          Lf(e) {
            return this.Ld(e, "next");
          }
          Lg(e, t) {
            var s,
              r = this.state.current,
              n = r.id,
              a = r.author;
            if (
              ("next" === e ? (this.Lh(n), (s = this.Lf(n))) : (s = this.Le(n)),
              s)
            ) {
              var i = s,
                o = i.author,
                l = this.props.statuses[i.id];
              this.LV.openStatus(o, i.id, l && "LOADING" !== l ? l : void 0),
                this.setState({ current: i }),
                o !== a &&
                  this.LV.startViewingStatusRow(
                    o,
                    (function (e, t) {
                      return "timeout" === e ? 6 : "previous" === t ? 4 : 5;
                    })(t, e),
                    this.Lc(o)
                  );
            } else this.LX();
          }
          Lb(e) {
            var t = this.props,
              s = t.backend,
              r = t.statuses,
              n = this.Lf(e),
              a = [];
            aS(r, e) || a.push(e),
              n && !aS(r, n.id) && a.push(n.id),
              a.length > 0 &&
                s.loadStatuses(a).then(
                  (e) => {
                    if (
                      this.LW &&
                      (e.forEach((e) => {
                        this.LV.statusLoaded(e);
                      }),
                      e.length < a.length)
                    ) {
                      var t = new Set();
                      e.forEach((e) => {
                        t.add(e.id);
                      }),
                        a.forEach((e) => {
                          t.has(e) || this.LV.failStatus(e);
                        });
                    }
                  },
                  (e) => {
                    throw (
                      (this.LW &&
                        a.forEach((e) => {
                          this.LV.failStatus(e);
                        }),
                      e)
                    );
                  }
                );
          }
          Lc(e) {
            var t = this.props.authors.findIndex((t) => t.jid === e.jid);
            return t < 0 ? 0 : t;
          }
          render() {
            var e = this.props,
              t = e.isActiveScreen,
              s = e.contacts,
              n = e.statusVideoMaxDuration,
              a = e.statuses,
              i = e.backend,
              o = this.state,
              l = o.current,
              c = o.muted,
              d = a[l.id],
              h = l.author.msgs[l.index];
            if (null == h)
              return (
                __LOG__(4)`StatusRead: failed to find statusMsgInAuthor`,
                SEND_LOGS("statusRead-missing-statusMsgInAuthor"),
                i.goBack(),
                null
              );
            if (null != d && "LOADING" !== d && d.id !== h.id)
              return (
                __LOG__(
                  4
                )`StatusRead: status and statusMsgInAuthor do not match on their id`,
                SEND_LOGS("statusRead-mismatch-statusMsgInAuthor"),
                i.goBack(),
                null
              );
            var u = l.index + 1,
              p = l.author.msgs.length;
            if (null == d || "LOADING" === d)
              return (0, r.b)(2, Pm, {
                author: l.author,
                statusMsgInAuthor: h,
                position: u,
                total: p,
                contacts: s,
                onProgressBegin: void 0,
                onProgressEnd: void 0,
                isActiveScreen: t,
                backend: this.props.backend,
                session: this.LV,
              });
            var v = d.content,
              g = () => {
                this.Lh(d.id);
              },
              b = this.Li,
              m = d.id;
            switch (v.type) {
              case "text":
                return (0, r.b)(
                  2,
                  $m,
                  {
                    parentApi: this.LU,
                    author: l.author,
                    statusMsgInAuthor: h,
                    position: u,
                    total: p,
                    content: v,
                    contacts: s,
                    onProgressBegin: g,
                    onProgressEnd: b,
                    isActiveScreen: t,
                    backend: this.props.backend,
                    session: this.LV,
                  },
                  m
                );
              case "image":
                return (0, r.b)(
                  2,
                  Zm,
                  {
                    parentApi: this.LU,
                    author: l.author,
                    statusMsgInAuthor: h,
                    position: u,
                    total: p,
                    content: v,
                    contacts: s,
                    onProgressBegin: g,
                    onProgressEnd: b,
                    backend: this.props.backend,
                    isActiveScreen: t,
                    session: this.LV,
                  },
                  m
                );
              case "video":
              case "gif":
                return (0, r.b)(
                  2,
                  sS,
                  {
                    parentApi: this.LU,
                    author: l.author,
                    statusMsgInAuthor: h,
                    position: u,
                    total: p,
                    content: v,
                    contacts: s,
                    onProgressBegin: g,
                    onProgressEnd: b,
                    isActiveScreen: t,
                    statusVideoMaxDuration: n,
                    backend: i,
                    muted: c,
                    session: this.LV,
                  },
                  m
                );
              default:
                return (0, f.a)(v.type);
            }
          }
        },
        cS = function () {
          (this.LW = !1),
            (this.LX = () => {
              this.props.backend.goBack();
            }),
            (this.LY = () => {
              this.Lg("previous", "userToward");
            }),
            (this.LZ = () => {
              this.Lg("next", "userToward");
            }),
            (this.Li = () => {
              this.Lg("next", "timeout");
            }),
            (this.La = () => {
              this.state.muted && this.setState({ muted: !1 });
            }),
            (this.Lh = (e) => {
              var t = this.state,
                s = t.current,
                r = t.oldestUnreads,
                n = this.props.backend;
              if (e === s.id && "@me" !== s.author.jid) {
                var a = s.author.jid;
                s.author.unread.count > 0 && n.markStatusAsSeen(a, e);
                var i = r[a];
                if (!(null == i || e < i)) {
                  var o = s.author.msgs;
                  e === o[o.length - 1]
                    ? this.setState((e) => ({
                        oldestUnreads: Object.assign({}, e.oldestUnreads, {
                          [a]: void 0,
                        }),
                      }))
                    : this.setState((t) => ({
                        oldestUnreads: Object.assign({}, t.oldestUnreads, {
                          [a]: e,
                        }),
                      }));
                }
              }
            });
        },
        dS = (0, i.f)(
          (0, h.e)(lS, { fullscreen: !0 }),
          (e, t) => ({
            authorMe: t.authorMe,
            initialStatusMsgId: t.initialStatusMsgId,
            isActiveScreen: t.isActiveScreen,
            statuses: t.statuses,
            contacts: e.contacts,
            statusVideoMaxDuration: e.serverProps.statusVideoMaxDuration,
          }),
          (e, t) => ({
            type: "me",
            contacts: e.contacts,
            authors: [e.authorMe],
            initialAuthorIdx: 0,
            initialStatusMsgId: e.initialStatusMsgId,
            statuses: e.statuses,
            isActiveScreen: e.isActiveScreen,
            statusVideoMaxDuration: e.statusVideoMaxDuration,
            backend: t,
          })
        ),
        hS = (0, i.f)(
          (0, h.e)(lS, { fullscreen: !0 }),
          (e, t) => ({
            authors: t.authors,
            initialAuthorIdx: t.initialAuthorIdx,
            initialStatusMsgId: t.initialStatusMsgId,
            statuses: t.statuses,
            isActiveScreen: t.isActiveScreen,
            contacts: e.contacts,
            statusVideoMaxDuration: e.serverProps.statusVideoMaxDuration,
          }),
          (e, t) => ({
            type: "others",
            contacts: e.contacts,
            authors: e.authors,
            initialAuthorIdx: e.initialAuthorIdx,
            initialStatusMsgId: e.initialStatusMsgId,
            statuses: e.statuses,
            isActiveScreen: e.isActiveScreen,
            statusVideoMaxDuration: e.statusVideoMaxDuration,
            backend: t,
          })
        ),
        uS = (0, bc.b)(function (e, t) {
          return {
            type: "closeScreen",
            id: e,
            closeScreensAbove: !0,
            specifics: { from: "statusReply", statusId: t },
          };
        }),
        pS = (0, bc.a)(function (e) {
          return { text: "", quote: e, voice: void 0, link: void 0 };
        }),
        vS = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.LT = () => {
                var e,
                  t = this.props,
                  s = t.backend,
                  r = t.id;
                null == (e = s.statusViewerSession) || e.replyToStatus(r),
                  s.goBack(),
                  (0, pe.a)(865);
              }),
              e
            );
          }
          componentDidMount() {
            var e,
              t = this.props,
              s = t.backend,
              r = t.id;
            null == (e = s.statusViewerSession) || e.startReplyingToStatus(r);
          }
          componentWillUnmount() {
            var e,
              t = this.props,
              s = t.backend,
              r = t.id;
            null == (e = s.statusViewerSession) || e.stopReplyingToStatus(r);
          }
          render() {
            var e = this.props,
              t = this.props.backend,
              s = uS(e.screenId, e.id),
              n = pS(e.quotedStatus);
            return (0, r.f)(
              1,
              "div",
              null,
              (0, r.b)(2, nc, {
                selected: sc,
                type: "status",
                contacts: e.contacts,
                user: e.user,
                authorJid: e.authorJid,
                backend: t,
                hasFocusPriority: !0,
                onSent: this.LT,
                onSentFromAnotherScreen: s,
                draft: n,
                connected: e.connected,
                serverPropGifProvider: e.serverPropGifProvider,
              }),
              2
            );
          }
        },
        fS = (0, i.f)(
          (0, h.e)(vS, { order: [oi.a, sc] }),
          (e, t) => {
            var s = e.contacts,
              r = e.serverProps,
              n = e.connected,
              a = e.user;
            return {
              id: t.id,
              quotedStatus: t.quotedStatus,
              authorJid: t.authorJid,
              screenId: t.screenId,
              contacts: s,
              connected: n,
              user: a,
              serverPropGifProvider: r.gifProvider,
            };
          },
          (e, t) => Object.assign({}, e, { backend: t })
        ),
        gS = s(143);
      function bS() {
        return window.getSelection().getRangeAt(0);
      }
      function mS(e, t, s) {
        var r = window.getSelection(),
          n = r.getRangeAt(0);
        n.setStart(e, t),
          n.setEnd(e, s),
          n.collapse(!0),
          r.removeAllRanges(),
          r.addRange(n);
      }
      var SS = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.IS = 0),
              (this.IT = 0),
              (this.IU = null),
              (this.IV = !1),
              (this.IW = null),
              (this.IY = (e) => {
                this.IW = e;
              }),
              (this.Ib = (e) => {
                var t = e.target.innerText || "",
                  s = this.IV ? (0, gS.f)(t) : t;
                this.props.onChange(null != s ? s : "", e);
              }),
              (this.Ic = (e) => {
                var t = (0, jo.m)(e);
                t === jo.f
                  ? (this.IU = requestAnimationFrame(() => {
                      e.target.blur();
                    }))
                  : this.props.hasFocusPriority &&
                    (t === jo.b || t === jo.c) &&
                    e.target.value
                  ? e.stopPropagation()
                  : this.props.onKeyDown && this.props.onKeyDown(e);
              }),
              (this.restoreSelection = () => {
                var e;
                if (
                  null != this.IW &&
                  (null == (e = this.IW) ? void 0 : e.firstChild)
                ) {
                  var t;
                  this.IW.focus();
                  var s = null == (t = this.IW) ? void 0 : t.firstChild;
                  s && (mS(s, this.IS, this.IT), this.saveSelection());
                }
              }),
              (this.saveSelection = () => {
                if (this.IW) {
                  var e = bS(),
                    t = e.startOffset,
                    s = e.endOffset;
                  (this.IS = t), (this.IT = s);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.className !== e.className ||
                s.hasFocusPriority !== e.hasFocusPriority ||
                s.placeholder !== e.placeholder ||
                s.defaultValue !== e.defaultValue ||
                s.disableGoogleAssistant !== e.disableGoogleAssistant ||
                s.onChange !== e.onChange ||
                s.onKeyDown !== e.onKeyDown)
            );
          }
          addSoftKeys(e, t) {
            e.setLeftIcon(dl, () => this.IX(t));
          }
          componentWillUnmount() {
            null != this.IU && cancelAnimationFrame(this.IU),
              super.componentWillUnmount();
          }
          IX(e) {
            cl(e, (e) => {
              this.pasteText(e);
            });
          }
          pasteText(e) {
            var t = this.IW;
            if (null != t) {
              t.focus();
              var s = (0, c.e)(e).normalizedText,
                r = this.IV || s !== e,
                n = this.IZ(),
                a = bS(),
                i = a.startOffset,
                o = a.endOffset,
                l = n.substring(0, i) + s,
                d = l + n.substring(o),
                h = l.length;
              this.setValue(r ? (0, gS.f)(d) : d, !0), this.Ia(h);
            }
          }
          IZ() {
            return (this.IW && this.IW.innerText) || "";
          }
          setValue(e) {
            var t =
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              s =
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = this.IW;
            if (null != r && r.innerText !== e) {
              var n = (0, c.e)(e),
                a = n.normalizedText,
                i = n.fontFamily;
              if (
                ((this.IV = a !== e),
                (r.style.fontFamily = i),
                (r.innerText = a),
                this.Ia(t ? 0 : a.length),
                !s)
              ) {
                var o = new Event("input", { bubbles: !0 });
                r.dispatchEvent(o);
              }
            }
          }
          Ia(e) {
            var t;
            if (this.IW && (null == (t = this.IW) ? void 0 : t.firstChild)) {
              var s;
              this.IW.focus();
              var r = null == (s = this.IW) ? void 0 : s.firstChild;
              r && mS(r, e, e);
            }
          }
          render() {
            var e,
              t = this.props,
              s = t.placeholder ? (0, it.k)(t.placeholder) : void 0;
            return (0, r.b)(4098, Do.b.div, {
              innerRef: this.IY,
              className: t.className,
              contentEditable: !0,
              hasFocusPriority: null != (e = t.hasFocusPriority) && e,
              onInput: this.Ib,
              onKeyDown: this.Ic,
              placeholder: s,
              "x-inputmode": t.disableGoogleAssistant ? "plain" : void 0,
              onNativeFocus: this.restoreSelection,
              onNativeBlur: this.saveSelection,
            });
          }
        },
        yS = (0, U.x)(Gs.o);
      function kS(e) {
        var t = e + 1;
        t >= yS.length && (t = 0);
        var s = yS[t];
        return { index: t, value: s, hex: (0, Jc.b)(s) };
      }
      var CS = class extends h.a {
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.settings !== e.settings ||
                  s.showDialogOnFirstSend !== e.showDialogOnFirstSend)) ||
              (r !== t &&
                (r.text !== t.text ||
                  r.color !== t.color ||
                  r.linkPreview !== t.linkPreview))
            );
          }
          constructor(e, t) {
            super(e, t),
              (this.Fu = () => this.state.text),
              (this.Fv = (e) => {
                this.setState({ linkPreview: e });
              }),
              (this.Fw = () => {
                this.setState({ linkPreview: null });
              }),
              (this.Fx = (e) => {
                this.setState({ text: e }), this.Ft.debounce();
              }),
              (this.Fy = () => {
                this.Ft.debounce();
              });
            var s = Math.floor(Math.random() * yS.length);
            (this.state = { text: "", color: kS(s), linkPreview: null }),
              (this.Ft = new (class {
                constructor(e) {
                  (this.Ie = new Map()),
                    (this.If = null),
                    (this.Ig = null),
                    (this.Ih = new xo.a(() => {
                      var e = No(this.Id.getText());
                      if (!Mo(e, this.Ig))
                        if (((this.Ig = e), e)) {
                          var t = e.normalizedLink,
                            s = e.matchedText,
                            r = this.Ie.get(t);
                          if (null == r) {
                            var n = Oo(t).then((e) => {
                              this.Ie.set(t, e || !1),
                                this.If === n &&
                                  ((this.If = null),
                                  e &&
                                    this.Id.addLinkPreview(
                                      Object.assign({}, e, { matchedText: s })
                                    ));
                            });
                            (this.If = n), this.Id.removeLinkPreview();
                          } else
                            !1 !== r
                              ? this.Id.addLinkPreview(
                                  Object.assign({}, r, { matchedText: s })
                                )
                              : this.Id.removeLinkPreview();
                        } else this.Id.removeLinkPreview();
                    })),
                    (this.Id = e);
                }
                debounce() {
                  this.Ih.debounce(700);
                }
                cancel() {
                  (this.If = null), this.Ih.cancel();
                }
                forceRunNow() {
                  this.Ih.forceRunNow();
                }
              })({
                getText: this.Fu,
                addLinkPreview: this.Fv,
                removeLinkPreview: this.Fw,
              }));
          }
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings(),
              super.componentDidMount();
          }
          componentWillUnmount() {
            this.Ft.cancel(), super.componentWillUnmount();
          }
          addSoftKeys(e, t) {
            var s = this.state.text.trim();
            s.length > 0 &&
              e.setCenterLabel(823, () => {
                var e = this.state,
                  r = e.color,
                  n = e.linkPreview;
                if ((0, Jc.m)(s) > St.P)
                  (0, y.e)({ title: 229, text: [St.P, 215] });
                else {
                  var a = this.props,
                    i = a.showDialogOnFirstSend,
                    o = a.settings;
                  if (!o)
                    return void __LOG__(
                      3
                    )`Tried to send status text without settings`;
                  fd(t, o, i, 823, () => {
                    var e;
                    t.sendStatusTextMsg(s, r.value, n, {
                      from: "statusTab",
                      sessionId: null == (e = t.statusSession) ? void 0 : e.id,
                    }),
                      t.closeAllScreens();
                  });
                }
              }),
              e.setRightLabel(850, () => {
                var e = this.state.color;
                this.setState({ color: kS(e.index) });
              });
          }
          render() {
            var e = this.state,
              t = e.color,
              s = e.linkPreview,
              a = { backgroundColor: t.hex };
            return (0, r.b)(2, b.a, {
              children: (0, r.f)(
                1,
                "div",
                "Al",
                [
                  (0, r.f)(
                    1,
                    "div",
                    "Am",
                    (0, r.b)(2, SS, {
                      className: "Ao GF GC",
                      hasFocusPriority: !0,
                      onChange: this.Fx,
                      onKeyDown: this.Fy,
                      placeholder: 869,
                      disableGoogleAssistant: !0,
                    }),
                    2
                  ),
                  null != s
                    ? (0, r.f)(
                        1,
                        "div",
                        "An",
                        (0, r.b)(2, Sa, { content: s }),
                        2
                      )
                    : null,
                ],
                0,
                { style: n.h(a) }
              ),
            });
          }
        },
        wS = (0, i.c)((0, h.e)(CS, { fullscreen: !0 }), (e, t, s) => ({
          settings: e.status.settings,
          showDialogOnFirstSend: e.status.showDialogOnFirstSend,
          backend: t,
        })),
        xS = "Ar GF GC",
        IS = "At";
      function LS(e) {
        return e ? (0, U.x)(e).filter((e) => null != e[Gs.a.READ]).length : 0;
      }
      var _S = class extends h.a {
        constructor() {
          var e;
          return (
            (e = super(...arguments)),
            (this.Fz = (e, t) => {
              var s = this.props,
                n = s.items,
                a = s.msgs,
                i = s.infos,
                o = a[e];
              if (!o)
                return (
                  __LOG__(4)`Status not found in msgs ${e}`,
                  SEND_LOGS("status-not-found", 0.01),
                  null
                );
              var l = null == i ? null : i[e],
                c = (0, r.b)(2, TS, { selected: t, status: o, info: l });
              return e === n[n.length - 1]
                ? (0, r.c)(
                    [c, (0, r.b)(2, m.n, { text: 872, className: "Au" })],
                    0
                  )
                : c;
            }),
            e
          );
        }
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.isLoading !== e.isLoading ||
              s.items !== e.items ||
              s.msgs !== e.msgs ||
              s.infos !== e.infos)
          );
        }
        addSoftKeys(e, t) {
          var s = this.props,
            r = s.isLoading,
            n = s.items;
          r && e.setFull(788), 0 === n.length && e.setLeftAsBack();
        }
        render() {
          var e = this.props,
            t = e.items,
            s = e.isLoading;
          return (0, r.b)(2, b.a, {
            title: (0, r.b)(2, o.b, { l10n: 863 }),
            children: s
              ? (0, r.b)(2, Be.a, { type: "center" })
              : (0, r.b)(2, g.c, {
                  items: t,
                  keyOf: NS,
                  preventLoop: !0,
                  estimatedItemHeight: 61,
                  renderItem: this.Fz,
                  emptyLabel: 883,
                }),
          });
        }
      };
      function NS(e) {
        return e;
      }
      var MS = (0, i.c)((0, h.e)(_S), (e, t, s) => {
          var r,
            n = s.requestId,
            a = s.infos,
            i = e.tab;
          if (!i || "status" !== i.key || i.isLoading) return null;
          var o = null == (r = i.data) ? void 0 : r.me;
          return o
            ? {
                isLoading: null != n,
                items: o.msgs.map((e) => e.id).reverse(),
                msgs: (0, U.s)(o.msgs, (e) => e.id),
                infos: a,
              }
            : null;
        }),
        OS = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GC = (e) => {
                var t = this.props,
                  s = t.info,
                  r = t.status,
                  n = (null == s ? void 0 : s.acks) || {};
                DS(0, { id: r.id, acks: n });
              }),
              (this.GB = (e, t) => {
                (0, y.f)({
                  title: 769,
                  text: t,
                  confirm: 769,
                  onConfirm: () => {
                    e.revokeStatusMsg(this.props.status.id);
                  },
                });
              }),
              (this.GA = (e) => {
                var t = this.props,
                  s = t.status,
                  r = t.me;
                e.openScreen("STATUS_READ_ME", {
                  initialStatusMsgId: s.id,
                  authorMe: r,
                  statuses: e.getCachedStatuses(),
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.status !== e.status ||
                s.info !== e.info ||
                s.me !== e.me)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props.status;
            e.setCenterLabel(797, () => this.GA(t)),
              (0, Ds.f)(s.ack)
                ? (e.setLeftLabel(769, () => {
                    this.GB(t, 867);
                  }),
                  e.setRightLabel(812, () => {
                    var e;
                    t.retryStatusMsg(s.id, {
                      from: "statusTab",
                      sessionId: null == (e = t.statusSession) ? void 0 : e.id,
                    });
                  }))
                : s.ack === Gs.a.CLOCK
                ? e.setLeftLabel(769, () => {
                    this.GB(t, 866);
                  })
                : (0, Ds.k)(s.ack) &&
                  (e.setLeftLabel(769, () => {
                    this.GB(t, 866);
                  }),
                  e.setRightLabel(835, () => {
                    this.GC(t);
                  }));
          }
          render() {
            var e,
              t,
              s,
              n,
              a = this.props,
              i = a.selected,
              l = a.status,
              c = a.info,
              d = LS(null == c ? void 0 : c.acks);
            return (
              l.ack === Gs.a.CLOCK
                ? ((e = (0, r.b)(2, lr.a, { className: "Av" })),
                  (s = (0, r.b)(2, o.b, { className: xS, l10n: [0, 218] })),
                  (t = (0, r.b)(2, o.b, { l10n: 870 })))
                : (0, Ds.k)(l.ack)
                ? ((s = (0, r.b)(2, o.b, { className: xS, l10n: [d, 218] })),
                  (t = Zc(l.ts)))
                : (0, Ds.f)(l.ack) &&
                  ((s = (0, r.f)(
                    1,
                    "span",
                    (0, Oe.a)(xS, "As", i && IS),
                    (0, r.b)(2, o.b, { l10n: 871 }),
                    2
                  )),
                  (t = null)),
              (0, r.b)(2, m.j, {
                className: "Ap",
                rawTitle: s,
                rawSubtitle: t,
                icon:
                  ((n = null == c ? void 0 : c.preview),
                  (0, r.f)(1, "div", "Aq", od(n), 0)),
                selected: i,
                rightComponent: e,
                borderBottom: !0,
              })
            );
          }
        },
        TS = (0, i.c)(OS, (e, t, s) => {
          var r,
            n = s.selected,
            a = s.status,
            i = s.info,
            o = e.tab;
          if (!o || "status" !== o.key || o.isLoading) return null;
          var l = null == (r = o.data) ? void 0 : r.me;
          return l ? { selected: n, status: a, info: i, me: l } : null;
        }),
        PS = (0, bc.b)(function (e, t) {
          var s = [];
          return (
            (0, U.w)(e)
              .filter((t) => e[t] && null != e[t][Gs.a.READ])
              .sort((t, s) => e[s][Gs.a.READ] - e[t][Gs.a.READ])
              .forEach((e) => {
                s.push(e);
              }),
            "none" === t ? (s.push("READ_RECEIPTS_INFO"), s) : s
          );
        }),
        AS = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GD = (e, t) => {
                var s = this.props,
                  n = s.id,
                  a = s.start,
                  i = s.acks,
                  o = s.contacts,
                  l = s.settings;
                if ("READ_RECEIPTS_INFO" === e)
                  return (0, r.b)(2, US, { selected: t });
                var c = i[e][Gs.a.READ];
                return (0, r.b)(2, GS, {
                  selected: t,
                  contact: (0, d.c)(e, o),
                  read: c,
                  dialogProps: { id: n, start: a, acks: i },
                  settings: l,
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.id !== e.id ||
                s.start !== e.start ||
                s.acks !== e.acks ||
                s.readReceipts !== e.readReceipts ||
                s.contacts !== e.contacts ||
                s.settings !== e.settings)
            );
          }
          componentDidMount() {
            this.props.settings ||
              this.props.backend.loadStatusPrivacySettings();
          }
          render() {
            var e = this.props,
              t = e.acks,
              s = e.readReceipts,
              n = e.start,
              a = PS(t, s);
            return (0, r.b)(2, g.c, {
              items: a,
              keyOf: ES,
              start: n ? { item: n, scrollFromTop: "end" } : null,
              renderItem: this.GD,
              estimatedItemHeight: 61,
              emptyLabel: 873,
              preventLoop: !0,
            });
          }
        };
      function ES(e) {
        return e;
      }
      var RS = (0, i.c)(AS, (e, t, s) => ({
          id: s.id,
          start: s.start,
          acks: s.acks,
          readReceipts: e.settings.readReceipts,
          contacts: e.contacts,
          settings: e.status.settings,
          backend: t,
        })),
        GS = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GE = (e) => {
                var t = this.props,
                  s = t.contact,
                  n = t.settings,
                  a = t.dialogProps,
                  i = new V.a();
                i.setOnClose(() => DS(0, a, s.jid)),
                  i.add(180, () => {
                    (0, Ne.a)(
                      e,
                      s.jid,
                      "unread",
                      void 0,
                      "withComposeBoxOpened"
                    );
                  }),
                  i.add(127, () => {
                    (0, Vn.a)(e, s.jid);
                  }),
                  n &&
                    jS(s, n) &&
                    i.add(
                      (e) =>
                        (0, r.b)(2, o.b, {
                          l10n: 874,
                          className: (0, Oe.a)("Ay", e && IS),
                        }),
                      () => {
                        this.GF(e, s, n);
                      }
                    ),
                  (0, y.j)(i);
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.selected !== e.selected ||
                s.contact !== e.contact ||
                s.read !== e.read ||
                s.dialogProps !== e.dialogProps ||
                s.settings !== e.settings)
            );
          }
          addSoftKeys(e, t) {
            e.setRightOptions(() => {
              this.GE(t);
            });
          }
          GF(e, t, s) {
            var n = (0, r.b)(2, F.a, { contact: t, prefer: "status" });
            (0, y.g)({
              title: 855,
              text: [n, 210],
              left: 761,
              onSoftLeft: "CLOSE",
              center: 874,
              onSoftCenter: () =>
                (function (e, t, s) {
                  var r;
                  switch (s.type) {
                    case "blacklist":
                      if (s.blacklist.includes(t))
                        return void __LOG__(2)`Hide user already blacklisted`;
                      r = {
                        type: "blacklist",
                        blacklist: (0, K.a)(s.blacklist, t),
                      };
                      break;
                    case "whitelist":
                      if (!s.whitelist.includes(t))
                        return void __LOG__(2)`Hide user was not on whitelist`;
                      r = {
                        type: "whitelist",
                        whitelist: (0, K.g)(s.whitelist, (e) => e !== t),
                      };
                      break;
                    default:
                      s.type,
                        (r = { type: "blacklist", blacklist: (0, K.l)(t) });
                  }
                  e.setStatusSettings(r);
                })(e, t.jid, s),
              right: 802,
              onSoftRight: () => {
                e.openScreen("SETTINGS_PRIVACY", { start: "status" });
              },
            });
          }
          render() {
            var e = this.props,
              t = e.contact,
              s = e.read,
              n = e.selected,
              a = e.settings,
              i = a && jS(t, a);
            return (0, r.b)(2, m.f, {
              selected: n,
              contact: t,
              prefer: "status",
              rawSubtitle: Zc(s),
              disabled: !i,
            });
          }
        },
        US = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(797, () => {
              t.openScreen("SETTINGS_PRIVACY", { start: "readReceipts" });
            });
          }
          render() {
            var e = this.props.selected,
              t = (0, r.b)(2, o.b, {
                l10n: 864,
                className: (0, Oe.a)(e && IS, "Ax"),
              });
            return (0, r.b)(2, m.n, { className: "Aw GG GC", text: [t, 214] });
          }
        };
      function DS(e, t, s) {
        var n = t.id,
          a = t.acks;
        (0, y.h)(
          { title: [LS(a), 218], left: 758, onSoftLeft: "CLOSE" },
          (0, r.b)(2, RS, { id: n, acks: a, start: s })
        );
      }
      function jS(e, t) {
        switch (t.type) {
          case "blacklist":
            return !t.blacklist.includes(e.jid);
          case "whitelist":
            return t.whitelist.includes(e.jid);
          default:
            return t.type, !0;
        }
      }
      var BS = (0, i.b)(H, (e, t) => {
        var s = t.settings,
          r = new Set(s.blacklist),
          n = (t) => {
            ("blacklist" === s.type && (0, U.g)(r, new Set(t))) ||
              e.setStatusSettings({ type: "blacklist", blacklist: t }),
              e.goBack();
          };
        return {
          renderTitle: VS,
          defaultSelectedContacts: r,
          defaultSort: "selected",
          done: 816,
          onDone: n,
          onCancel: KS(e, (0, K.c)(r), n),
          allowEmpty: !0,
          allowUnchanged: !0,
        };
      });
      function VS(e) {
        return (0, r.b)(2, o.b, { l10n: 876 });
      }
      var FS = (0, i.b)(H, (e, t) => {
        var s = t.settings,
          r = new Set(s.whitelist),
          n = (t) => {
            ("whitelist" === s.type && (0, U.g)(r, new Set(t))) ||
              e.setStatusSettings({ type: "whitelist", whitelist: t }),
              e.goBack();
          };
        return {
          renderTitle: WS,
          defaultSelectedContacts: r,
          defaultSort: "selected",
          done: 816,
          onDone: n,
          onCancel: KS(e, (0, K.c)(r), n),
          allowEmpty: !0,
          allowUnchanged: !0,
        };
      });
      function WS() {
        return (0, r.b)(2, o.b, { l10n: 881 });
      }
      function KS(e, t, s) {
        return (r) => {
          (0, K.b)(t, r)
            ? e.goBack()
            : (function (e, t, s) {
                (0, y.g)({
                  title: 745,
                  text: 744,
                  left: 773,
                  onSoftLeft: () => {
                    e.goBack();
                  },
                  right: 816,
                  onSoftRight: () => {
                    t(s);
                  },
                });
              })(e, s, r);
        };
      }
      var zS = s(520),
        HS = s(488),
        JS = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.selected !== e.selected;
          }
          addSoftKeys(e, t) {
            e.setCenterLabel(778, () => {
              (0, y.g)({
                title: 946,
                text: 920,
                center: 771,
                onSoftCenter: t.deleteTwoFactor,
                left: 761,
                onSoftLeft: "CLOSE",
              });
            });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.o, {
              selected: e,
              text: [
                (0, r.b)(2, o.b, {
                  l10n: 928,
                  className: (0, Oe.a)(e && "AJ", "AK"),
                }),
                244,
              ],
            });
          }
        },
        QS = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.FX = n.e()),
              (this.state = { pin: null }),
              (this.FY = (e) => {
                this.setState({ pin: e.isCompleted ? e.code : null });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e && s.selected !== e.selected) ||
              (r !== t && r.pin !== t.pin)
            );
          }
          FZ() {
            this.FX.current && this.FX.current.reset();
          }
          addSoftKeys(e, t) {
            var s = this.state.pin;
            null != s &&
              e.setCenterLabel(776, () => {
                t.verifyTwoFactorReminder(s);
              });
          }
          render() {
            var e = this.props.selected;
            return (0, r.b)(2, m.k, {
              selected: e,
              children: (0, r.b)(
                2,
                HS.a,
                { hasFocusPriority: e, selected: e, onChange: this.FY },
                null,
                this.FX
              ),
            });
          }
        },
        XS = ["text", "inputCode"],
        qS = { item: "inputCode", scrollFromTop: "start" },
        $S = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.FX = n.e()),
              (this.renderItem = (e, t) =>
                "text" === e
                  ? (0, r.b)(2, JS, { selected: t })
                  : (0, r.b)(2, QS, { selected: t }, null, this.FX)),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return s !== e && s.hasError !== e.hasError;
          }
          componentDidMount() {
            this.maybeShowAlert(!1);
          }
          componentDidUpdate(e) {
            this.maybeShowAlert(e.hasError);
          }
          maybeShowAlert(e) {
            !e &&
              this.props.hasError &&
              ((0, y.e)({ title: 229, text: 929 }),
              this.FX.current && this.FX.current.FZ());
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 946 }),
              children: (0, r.b)(2, g.a, {
                items: XS,
                keyOf: ZS,
                renderItem: this.renderItem,
                start: qS,
              }),
            });
          }
        },
        YS = (0, i.c)((0, h.e)($S), (e, t) => {
          var s = e.user;
          return {
            hasError:
              s.twoFactor.reminder.shouldRemind &&
              s.twoFactor.reminder.hasError,
            backend: t,
          };
        });
      function ZS(e) {
        return e;
      }
      var ey = s(503),
        ty = ["enableText", "enableAction"],
        sy = { item: "enableAction", scrollFromTop: "start" },
        ry = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GG = (e, t) => {
                switch (e) {
                  case "enableText":
                    return (0, r.b)(2, m.n, { text: 919, selected: t });
                  case "enableAction":
                    return (0, r.b)(2, ny, {
                      action: this.props.onEnable,
                      selected: t,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.onBack !== e.onBack || s.onEnable !== e.onEnable)
            );
          }
          addSoftKeys(e) {
            e.setLeftLabel(758, this.props.onBack);
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 946 }),
              children: (0, r.b)(2, g.a, {
                items: ty,
                keyOf: xy,
                renderItem: this.GG,
                start: sy,
              }),
            });
          }
        },
        ny = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.action !== e.action || s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(775, this.props.action);
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 775,
              selected: this.props.selected,
            });
          }
        },
        ay = [
          "disableText",
          "disableAction",
          "changePinAction",
          "changeEmailAction",
        ],
        iy = { item: "disableAction", scrollFromTop: "start" },
        oy = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GG = (e, t) => {
                switch (e) {
                  case "disableText":
                    return (0, r.b)(2, m.n, { text: 918, selected: t });
                  case "disableAction":
                    return (0, r.b)(2, ly, {
                      selected: t,
                      action: this.props.onDisable,
                    });
                  case "changePinAction":
                    return (0, r.b)(2, cy, {
                      selected: t,
                      action: this.props.onChangePin,
                    });
                  case "changeEmailAction":
                    var s = this.props,
                      n = s.hasEmail,
                      a = s.onChangeEmail;
                    return (0, r.b)(2, dy, {
                      action: a,
                      hasEmail: Boolean(n),
                      selected: t,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.onBack !== e.onBack ||
                s.onDisable !== e.onDisable ||
                s.onChangePin !== e.onChangePin ||
                s.onChangeEmail !== e.onChangeEmail ||
                s.hasEmail !== e.hasEmail)
            );
          }
          addSoftKeys(e) {
            e.setLeftLabel(758, this.props.onBack);
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 946 }),
              children: (0, r.b)(2, g.a, {
                items: ay,
                keyOf: xy,
                renderItem: this.GG,
                start: iy,
              }),
            });
          }
        },
        ly = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.action !== e.action || s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(818, this.props.action);
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 771,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        cy = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.action !== e.action || s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(818, this.props.action);
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 941,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        dy = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.action !== e.action ||
                s.hasEmail !== e.hasEmail ||
                s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            e.setCenterLabel(818, this.props.action);
          }
          render() {
            var e = this.props,
              t = e.hasEmail,
              s = e.selected,
              n = !1 === t ? 939 : 940;
            return (0, r.b)(2, m.a, {
              title: n,
              selected: s,
              borderBottom: !0,
            });
          }
        },
        hy = ["enterPinText", "enterPinAction"],
        uy = { item: "enterPinAction", scrollFromTop: "start" },
        py = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GG = (e, t) => {
                switch (e) {
                  case "enterPinText":
                    return (0, r.b)(2, m.o, {
                      text: this.props.text,
                      selected: t,
                    });
                  case "enterPinAction":
                    var s = this.props,
                      n = s.actionLabel,
                      a = s.defaultValue,
                      i = s.onChange;
                    return (0, r.b)(2, vy, {
                      defaultValue: a,
                      label: n,
                      onChange: i,
                      selected: t,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.onBack !== e.onBack ||
                s.onChange !== e.onChange ||
                s.text !== e.text ||
                s.actionLabel !== e.actionLabel ||
                s.defaultValue !== e.defaultValue)
            );
          }
          addSoftKeys(e) {
            var t = this.props.onBack;
            e.setBack(t), e.setLeftLabel(758, t);
          }
          render() {
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 946 }),
              children: (0, r.b)(2, g.a, {
                items: hy,
                keyOf: xy,
                renderItem: this.GG,
                start: uy,
              }),
            });
          }
        },
        vy = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.state = { pin: null }), e;
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.defaultValue !== e.defaultValue ||
                  s.onChange !== e.onChange ||
                  s.label !== e.label ||
                  s.selected !== e.selected)) ||
              (r !== t && r.pin !== t.pin)
            );
          }
          addSoftKeys(e) {
            var t = this.state.pin;
            if (null != t) {
              var s = this.props,
                r = s.label,
                n = s.onChange;
              e.setCenterLabel(r, () => n(t));
            }
          }
          render() {
            var e = this.props,
              t = e.selected,
              s = e.defaultValue;
            return (0, r.b)(2, m.k, {
              selected: t,
              children: (0, r.b)(2, HS.a, {
                hasFocusPriority: t,
                selected: t,
                defaultValue: s,
                onChange: (e) => {
                  this.setState({ pin: e.isCompleted ? e.code : null });
                },
              }),
            });
          }
        },
        fy = { item: "enterEmailAction", scrollFromTop: "start" },
        gy = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.GG = (e, t) => {
                switch (e) {
                  case "enterEmailText":
                    return (0, r.b)(2, m.o, {
                      text: this.props.text,
                      selected: t,
                    });
                  case "enterEmailAction":
                    var s = this.props,
                      n = s.defaultValue,
                      a = s.onChange;
                    return (0, r.b)(2, by, {
                      defaultValue: n,
                      onChange: a,
                      label: this.props.actionLabel,
                      selected: t,
                    });
                  case "skipEmailAction":
                    return (0, r.b)(2, my, {
                      action: this.props.onSkip,
                      selected: t,
                    });
                  default:
                    return (0, f.a)(e);
                }
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.onBack !== e.onBack ||
                s.onChange !== e.onChange ||
                s.onSkip !== e.onSkip ||
                s.text !== e.text ||
                s.actionLabel !== e.actionLabel ||
                s.defaultValue !== e.defaultValue)
            );
          }
          addSoftKeys(e) {
            var t = this.props.onBack;
            e.setBack(t), e.setLeftLabel(758, t);
          }
          render() {
            var e = ["enterEmailText", "enterEmailAction"];
            return (
              this.props.onSkip && e.push("skipEmailAction"),
              (0, r.b)(2, b.a, {
                title: (0, r.b)(2, o.b, { l10n: 946 }),
                children: (0, r.b)(2, g.a, {
                  items: e,
                  keyOf: xy,
                  renderItem: this.GG,
                  start: fy,
                }),
              })
            );
          }
        },
        by = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.state = { email: null, dirty: !1 }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.defaultValue !== e.defaultValue ||
                  s.onChange !== e.onChange ||
                  s.label !== e.label ||
                  s.selected !== e.selected)) ||
              (r !== t && (r.email !== t.email || r.dirty !== t.dirty))
            );
          }
          componentDidMount() {
            this.GH(), super.componentDidMount();
          }
          componentDidUpdate(e, t, s) {
            var r = this.props.defaultValue;
            e.defaultValue === r || this.state.dirty || this.GH(),
              super.componentDidUpdate(e, t, s);
          }
          GH() {
            this.setState({ email: (0, ey.b)(this.props.defaultValue) });
          }
          addSoftKeys(e) {
            var t = this.state.email;
            if (t) {
              var s = this.props,
                r = s.label,
                n = s.onChange;
              e.setCenterLabel(r, () => n(t));
            }
          }
          render() {
            var e = this.props,
              t = e.defaultValue,
              s = e.selected,
              n = (0, ey.b)(t) || void 0;
            return (0, r.b)(2, m.k, {
              selected: s,
              children: (0, r.b)(2, hl.a, {
                type: "email",
                defaultValue: n,
                hasFocusPriority: s,
                onChange: (e) => {
                  var t = e.trim();
                  this.setState({ email: (0, ey.b)(t), dirty: !0 });
                },
              }),
            });
          }
        },
        my = class extends h.b {
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e && (s.action !== e.action || s.selected !== e.selected)
            );
          }
          addSoftKeys(e) {
            var t = this.props.action;
            null != t && e.setCenterLabel(944, t);
          }
          render() {
            return (0, r.b)(2, m.a, {
              title: 944,
              selected: this.props.selected,
              borderBottom: !0,
            });
          }
        },
        Sy = { pin: null, email: null },
        yy = Object.assign(
          { step: "initial_enable", previousStep: "initial_enable" },
          Sy
        ),
        ky = Object.assign(
          { step: "initial_disable", previousStep: "initial_disable" },
          Sy
        );
      function Cy(e, t) {
        return e.join("") === t.join("");
      }
      var wy = class extends n.a {
        shouldComponentUpdate(e, t) {
          var s = this.props,
            r = this.state;
          return (
            (s !== e &&
              (s.isEnabled !== e.isEnabled || s.hasEmail !== e.hasEmail)) ||
            (r !== t &&
              (r.step !== t.step ||
                r.previousStep !== t.previousStep ||
                r.pin !== t.pin ||
                r.email !== t.email))
          );
        }
        constructor(e) {
          super(e), (this.state = this.GI());
        }
        componentDidUpdate(e) {
          var t = e.isEnabled;
          this.props.isEnabled !== t && this.setState(this.GI());
        }
        GI() {
          return this.props.isEnabled ? ky : yy;
        }
        GJ(e) {
          this.setState((t) => {
            var s = t.step;
            return Object.assign({}, e, { previousStep: s });
          });
        }
        GK() {
          return (0, r.b)(2, ry, {
            onBack: this.props.backend.goBack,
            onEnable: () => this.GJ({ step: "pin_enter" }),
          });
        }
        GL() {
          return (0, r.b)(2, oy, {
            onBack: this.props.backend.goBack,
            onDisable: () => {
              (0, y.f)({
                title: 946,
                text: 915,
                onConfirm: () => {
                  this.props.backend.deleteTwoFactor();
                },
              });
            },
            onChangePin: () => this.GJ({ step: "change_pin_enter" }),
            onChangeEmail: () => this.GJ({ step: "change_email_enter" }),
            hasEmail: this.props.hasEmail,
          });
        }
        GM(e) {
          return (0, r.b)(
            2,
            py,
            {
              text: e.text,
              actionLabel: e.actionLabel || 793,
              defaultValue: e.defaultValue,
              onChange: e.onChange,
              onBack: e.onBack,
            },
            this.state.step
          );
        }
        GN() {
          return this.GM({
            text: 923,
            defaultValue:
              "pin_confirm" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (e) => this.GJ({ step: "pin_confirm", pin: e }),
            onBack: () => this.setState(this.GI()),
          });
        }
        GO() {
          return this.GM({
            text: 917,
            defaultValue:
              "email_enter" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (e) => {
              var t = this.state.pin;
              null == t
                ? this.setState(this.GI())
                : Cy(t, e)
                ? this.GJ({ step: "email_enter" })
                : (0, y.e)({ title: 946, text: 943 });
            },
            onBack: () => this.GJ({ step: "pin_enter" }),
          });
        }
        GP() {
          return this.GM({
            text: 923,
            defaultValue:
              "change_pin_confirm" === this.state.previousStep &&
              null != this.state.pin
                ? this.state.pin
                : void 0,
            onChange: (e) => this.GJ({ step: "change_pin_confirm", pin: e }),
            onBack: () => this.setState(this.GI()),
          });
        }
        GQ() {
          return this.GM({
            text: 917,
            actionLabel: 772,
            onChange: (e) => {
              var t = this.state.pin;
              null == t
                ? this.setState(this.GI())
                : Cy(t, e)
                ? (this.props.backend.changeTwoFactorPin(t), this.setState(ky))
                : (0, y.e)({ title: 946, text: 943 });
            },
            onBack: () => this.GJ({ step: "change_pin_enter" }),
          });
        }
        GR(e) {
          return (0, r.b)(
            2,
            gy,
            {
              text: e.text,
              defaultValue: e.defaultValue,
              actionLabel: e.actionLabel || 793,
              onChange: e.onChange,
              onSkip: e.onSkip,
              onBack: e.onBack,
            },
            this.state.step
          );
        }
        GS() {
          return this.GR({
            text: 922,
            defaultValue:
              "email_confirm" === this.state.previousStep &&
              null != this.state.email
                ? this.state.email
                : void 0,
            onChange: (e) => this.GJ({ step: "email_confirm", email: e }),
            onSkip: () => {
              (0, y.f)({
                title: 946,
                text: 945,
                onConfirm: () => {
                  var e = this.state.pin;
                  e
                    ? this.props.backend.setTwoFactor(e, null)
                    : this.setState(this.GI());
                },
              });
            },
            onBack: () => this.GJ({ step: "pin_confirm" }),
          });
        }
        GT() {
          return this.GR({
            text: 916,
            actionLabel: 772,
            onChange: (e) => {
              if (this.state.email === e) {
                var t = this.state.pin;
                t
                  ? this.props.backend.setTwoFactor(t, e)
                  : this.setState(this.GI());
              } else (0, y.e)({ title: 946, text: 942 });
            },
            onBack: () => this.GJ({ step: "email_enter" }),
          });
        }
        GU() {
          return this.GR({
            text: 922,
            defaultValue:
              "change_email_confirm" === this.state.previousStep &&
              null != this.state.email
                ? this.state.email
                : void 0,
            onChange: (e) =>
              this.GJ({ step: "change_email_confirm", email: e }),
            onBack: () => this.setState(this.GI()),
          });
        }
        GV() {
          return this.GR({
            text: 916,
            actionLabel: 772,
            onChange: (e) => {
              this.state.email === e
                ? (this.props.backend.changeTwoFactorEmail(e),
                  this.setState(ky))
                : (0, y.e)({ title: 946, text: 942 });
            },
            onBack: () => this.GJ({ step: "change_email_enter" }),
          });
        }
        render() {
          switch (this.state.step) {
            case "initial_enable":
              return this.GK();
            case "initial_disable":
              return this.GL();
            case "pin_enter":
              return this.GN();
            case "pin_confirm":
              return this.GO();
            case "change_pin_enter":
              return this.GP();
            case "change_pin_confirm":
              return this.GQ();
            case "email_enter":
              return this.GS();
            case "email_confirm":
              return this.GT();
            case "change_email_enter":
              return this.GU();
            case "change_email_confirm":
              return this.GV();
            default:
              return (0, f.a)(this.state.step);
          }
        }
      };
      function xy(e) {
        return e;
      }
      var Iy = (0, i.f)(
          (0, h.e)(wy),
          (e) => {
            var t = e.user;
            return {
              isEnabled: t.twoFactor.isEnabled,
              hasEmail: t.twoFactor.isEnabled && t.twoFactor.hasEmail,
            };
          },
          (e, t) => ({
            isEnabled: e.isEnabled,
            hasEmail: e.hasEmail,
            backend: t,
          })
        ),
        Ly = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Fr = !1),
              (this.state = { loadedContacts: void 0 }),
              (this.Fs = (e, t) => {
                if (!this.state.loadedContacts) return null;
                var s = this.state.loadedContacts[e];
                return (0, r.b)(2, My, {
                  contact: s,
                  contacts: this.props.contacts,
                  selected: t,
                });
              }),
              e
            );
          }
          componentDidMount() {
            this.Fr = !0;
            var e,
              t = this.props,
              s = t.backend,
              r = t.msgId;
            t.isMMS
              ? ((e = t.path),
                zn(e).then((e) =>
                  e
                    ? e
                        .map((e) => ({ displayName: (0, Dn.d)(e), vcard: e }))
                        .sort(Dn.m)
                    : (__LOG__(3)`Contacts vcard doc is gone from storage`,
                      null)
                )).then((e) => {
                  this.Fr &&
                    (e
                      ? this.setState({ loadedContacts: e })
                      : (s.markMediaContentAsDeleted(r),
                        (0, y.e)({ text: 499, onClose: s.goBack })));
                })
              : (function (e, t) {
                  return Jn(e, t).then((e) =>
                    e
                      ? e
                          .map((e) => {
                            var t = e.displayName,
                              s = e.vcard;
                            return { displayName: t, vcard: (0, Dn.i)(s) };
                          })
                          .sort(Dn.m)
                      : []
                  );
                })(s, r).then((e) => {
                  this.Fr && this.setState({ loadedContacts: e });
                }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Fr = !1), super.componentWillUnmount();
          }
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e,
              t = this.state.loadedContacts;
            if (t) {
              var s = t.map((e, t) => t);
              e = (0, r.b)(2, g.a, {
                items: s,
                keyOf: Ny,
                renderItem: this.Fs,
              });
            } else e = (0, r.b)(2, Be.a, { type: "center" });
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, o.b, { l10n: 962 }),
              children: e,
            });
          }
        },
        _y = (0, i.c)((0, h.e)(Ly), (e, t, s) =>
          s.isMMS
            ? {
                isMMS: !0,
                msgId: s.msgId,
                path: s.path,
                contacts: e.contacts,
                backend: t,
              }
            : { msgId: s.msgId, contacts: e.contacts, backend: t }
        );
      function Ny(e) {
        return e.toString();
      }
      var My = class extends h.b {
        shouldComponentUpdate(e, t) {
          var s = this.props;
          return (
            s !== e &&
            (s.contact !== e.contact ||
              s.contacts !== e.contacts ||
              s.selected !== e.selected)
          );
        }
        addSoftKeys(e, t) {
          var s = this.props,
            r = s.contact,
            n = s.contacts,
            a = r.vcard,
            i = (0, Dn.b)(a, n);
          i && (0, d.k)(i)
            ? e.setCenterLabel(833, () => {
                (0, Vn.a)(t, i.jid);
              })
            : e.setCenterLabel(754, () => {
                Hn(t, a);
              }),
            i &&
              i.jid &&
              e.setRightLabel(180, () => {
                (0, Ne.b)(t, i.jid, "newest");
              });
        }
        render() {
          var e = this.props,
            t = e.contact,
            s = e.selected;
          if (null == t) return null;
          var n = "BH " + (s ? "BL" : ""),
            a = (0, Dn.c)(t.vcard);
          return (0, r.f)(
            1,
            "div",
            n,
            [
              qn((0, Dn.h)(t.vcard), t.vcard.photo),
              (0, r.f)(
                1,
                "div",
                "BI",
                [
                  (0, r.f)(
                    1,
                    "div",
                    "BJ GF GC GI GE",
                    (0, c.b)(t.displayName),
                    0
                  ),
                  (0, r.f)(
                    1,
                    "div",
                    "BK GG GC GI GE",
                    a ? a.formattedNumber : l.a,
                    0
                  ),
                ],
                4
              ),
            ],
            0
          );
        }
      };
      function Oy(e, t) {
        return Math.max(5, Math.ceil(0.02 * Math.min(e, t)));
      }
      function Ty(e, t, s, r) {
        var n = e.x,
          a = e.y;
        return (
          __LOG__(2)`[MEDIA_EDITOR] Rotate point (${n}, ${a}) on ${r}`,
          r % 360 == 0
            ? { x: n, y: a }
            : r % 180 == 0
            ? { x: t - n, y: s - a }
            : 90 === r || -270 === r
            ? { x: Math.ceil(t - a), y: Math.ceil(n) }
            : { x: Math.ceil(a), y: Math.ceil(s - n) }
        );
      }
      function Py(e, t) {
        return {
          x: Math.ceil(e / 2),
          y: Math.ceil(t / 2),
          radius: Math.min(e, t) / 2,
        };
      }
      function Ay() {
        return { x: 0, y: 0, radius: 0 };
      }
      function Ey(e, t, s, r, n, a, i, o) {
        var l = n.x + ("increase" === r ? e : -e),
          c = n.y + ("increase" === r ? t : -t),
          d = n.radius + ("increase" === r ? s : -s);
        return (
          0 !== s &&
            (l - d < 0 && (l = d),
            l + d > a && (l = a - d),
            c - d < 0 && (c = d),
            c + d > i && (c = i - d)),
          Ry(l, c, d, a, i)
            ? null
            : { type: o, value: { x: l, y: c, radius: d } }
        );
      }
      function Ry(e, t, s, r, n) {
        return e - s < 0 || e + s > r || t - s < 0 || t + s > n;
      }
      function Gy(e, t, s) {
        var r = s.x,
          n = s.y,
          a = s.radius,
          i = 2 * a,
          o = t.getImageData(r - a, n - a, i, i);
        (e.width = i),
          (e.height = i),
          t.putImageData(o, 0, 0),
          __LOG__(2)`[MEDIA_EDITOR] Cropped image: from (${r - a}, ${
            n - a
          }) to (${r + a}, ${n + a})`;
      }
      function Uy(e, t, s, r, n, a, i, o, l, c, d) {
        i &&
          e.setLeftLabel(837, () => {
            o({
              type: d,
              value: Object.assign({}, s, { radius: s.radius - r }),
            });
          });
        var h = Ey(0, 0, r, "increase", s, n, a, d);
        null != h &&
          e.setRightLabel(838, () => {
            o(h);
          }),
          e.setCenterLabel(772, () => {
            l({ type: d, value: s });
          }),
          e.setBack(() => {
            c({ type: d, value: Py(n, a) });
          }),
          e.setLeftArrow(() => {
            var e = Ey(r, 0, 0, "decrease", s, n, a, d);
            e && o(e);
          }),
          e.setRightArrow(() => {
            var e = Ey(r, 0, 0, "increase", s, n, a, d);
            e && o(e);
          }),
          e.setUpDownArrows(
            () => {
              var e = Ey(0, r, 0, "decrease", s, n, a, d);
              e && o(e);
            },
            () => {
              var e = Ey(0, r, 0, "increase", s, n, a, d);
              e && o(e);
            }
          );
      }
      var Dy = "Ni Nf",
        jy = "Nj Nf",
        By = "Nk";
      function Vy(e) {
        var t,
          s,
          n,
          a,
          i = !0,
          o = !0,
          l = !0,
          c = !0;
        if (void 0 !== e.left)
          (n = "disabled" === e.up),
            (s = "disabled" === e.right),
            (t = "disabled" === e.left),
            (a = "disabled" === e.down),
            (i = "hide" !== e.left),
            (o = "hide" !== e.right),
            (l = "hide" !== e.up),
            (c = "hide" !== e.down);
        else {
          var d = e.width,
            h = e.height,
            u = e.x,
            p = e.y,
            v = e.radius,
            f = e.step,
            g = e.shouldArrowBeInactive;
          (n = g(u, p - f, v, d, h)),
            (s = g(u + f, p, v, d, h)),
            (t = g(u - f, p, v, d, h)),
            (a = g(u, p + f, v, d, h));
        }
        return (0, r.f)(
          1,
          "div",
          "Nc",
          (0, r.f)(
            1,
            "div",
            "Ne",
            [
              l && (0, r.b)(2, C.a, { className: (0, Oe.a)("Ng Nf", n && By) }),
              o && (0, r.b)(2, C.a, { className: (0, Oe.a)(jy, s && By) }),
              i && (0, r.b)(2, C.a, { className: (0, Oe.a)(Dy, t && By) }),
              c && (0, r.b)(2, C.a, { className: (0, Oe.a)("Nh Nf", a && By) }),
            ],
            0
          ),
          2
        );
      }
      function Fy(e) {
        var t = e.leftDisabled,
          s = e.rightDisabled;
        return (0, r.f)(
          1,
          "div",
          "Nd",
          (0, r.f)(
            1,
            "div",
            "Ne",
            [
              (0, r.b)(2, C.a, { className: (0, Oe.a)(jy, s && By) }),
              (0, r.b)(2, C.a, { className: (0, Oe.a)(Dy, t && By) }),
            ],
            4
          ),
          2
        );
      }
      var Wy,
        Ky,
        zy = (D.e, 0),
        Hy = D.e ? D.l / 2 - zy : 98,
        Jy = {
          background: `radial-gradient(circle at ${D.n / 2}px ${
            D.l / 2 - zy
          }px, transparent 0%, transparent ${
            Hy - 1
          }px, rgba(255, 255, 255, 1) ${Hy}px, rgba(0, 0, 0, 0.4) ${Hy + 1}px)`,
        },
        Qy =
          ((Ky = Wy = class extends h.b {
            shouldComponentUpdate(e, t) {
              var s = this.props;
              return (
                s !== e &&
                (s.onCommit !== e.onCommit ||
                  s.onChange !== e.onChange ||
                  s.onCancel !== e.onCancel ||
                  s.width !== e.width ||
                  s.height !== e.height ||
                  s.selected !== e.selected ||
                  s.current !== e.current)
              );
            }
            constructor(e, t) {
              super(e, t);
              var s = e.width,
                r = e.height;
              this.step = Oy(s, r);
            }
            static change(e, t, s) {
              var r = Py(e.width, e.height),
                n = r.x,
                a = r.y,
                i = `scale(${r.radius / s.radius})`,
                o = `translate(${n - s.x}px, ${a - s.y}px)`;
              e.style.transform = `${i} ${o}`;
            }
            addSoftKeys(e, t) {
              var s = this.props,
                r = s.current,
                n = s.width,
                a = s.height,
                i = s.onChange,
                o = s.onCommit,
                l = s.onCancel;
              Uy(
                e,
                0,
                r,
                this.step,
                n,
                a,
                !(
                  2 * (r.radius - this.step) <
                  gh.PROFILE_PHOTO_SQUARE_MIN_PIXELS
                ),
                i,
                o,
                l,
                "CircleCrop"
              );
            }
            render() {
              var e = this.props,
                t = e.width,
                s = e.height,
                a = e.selected,
                i = e.current,
                o = i.x,
                l = i.y,
                c = i.radius;
              return (0, r.c)(
                [
                  (0, r.f)(1, "div", "Nb", null, 1, { style: n.h(Jy) }),
                  a &&
                    (0, r.b)(2, Vy, {
                      shouldArrowBeInactive: Ry,
                      width: t,
                      height: s,
                      x: o,
                      y: l,
                      radius: c,
                      step: this.step,
                    }),
                ],
                0
              );
            }
          }),
          (Wy.getInitialState = Ay),
          (Wy.commit = Gy),
          Ky),
        Xy = 2 * Hy;
      function qy(e) {
        return (D.n - e) / 2;
      }
      function $y(e) {
        return (D.l - e) / 2 - zy;
      }
      function Yy(e, t, s) {
        var r;
        switch (s) {
          case "contain":
            r = (function (e, t) {
              return Math.min(D.n / e, D.l / t);
            })(e, t);
            break;
          default:
            r = (function (e, t) {
              return Math.max(Xy / e, Xy / t);
            })(e, t);
        }
        return { translateX: qy(e), translateY: $y(t), scale: r };
      }
      function Zy(e) {
        var t = e.translateX,
          s = e.translateY,
          r = e.scale;
        return {
          transform: `translate(${
            ((0, it.g)() ? -1 : 1) * t
          }px, ${s}px) scale(${r})`,
        };
      }
      var ek,
        tk,
        sk =
          ((tk = ek = class extends h.b {
            shouldComponentUpdate(e, t) {
              var s = this.props;
              return (
                s !== e &&
                (s.onCommit !== e.onCommit ||
                  s.onChange !== e.onChange ||
                  s.onCancel !== e.onCancel ||
                  s.width !== e.width ||
                  s.height !== e.height ||
                  s.selected !== e.selected ||
                  s.current !== e.current ||
                  s.align !== e.align)
              );
            }
            constructor(e, t) {
              super(e, t);
              var s = e.width,
                r = e.height;
              this.step = Oy(s, r);
            }
            addSoftKeys(e, t) {
              var s = this.props,
                r = s.current,
                n = s.width,
                a = s.height,
                i = s.onChange,
                o = s.onCommit,
                l = s.onCancel;
              Uy(
                e,
                0,
                r,
                this.step,
                n,
                a,
                r.radius > this.step,
                i,
                o,
                l,
                "Crop"
              );
            }
            render() {
              var e = this.props,
                t = e.width,
                s = e.height,
                a = e.align,
                i = e.current;
              if (!e.selected) return null;
              var o = i.y - i.radius,
                l = s - (i.y + i.radius),
                c = i.x - i.radius,
                d = t - (i.x + i.radius),
                h = Object.assign({}, Zy(a), {
                  width: t + "px",
                  height: s + "px",
                }),
                u = {
                  top: o + "px",
                  bottom: l + "px",
                  left: c + "px",
                  right: d + "px",
                  "border-width": (a.scale < 1 ? 1 / a.scale : 1) + "px",
                },
                p = { "border-width": `${o}px ${d}px ${l}px ${c}px` },
                v = this.props.current,
                f = v.x,
                g = v.y,
                b = v.radius;
              return (0, r.c)(
                [
                  (0, r.f)(
                    1,
                    "div",
                    "OG",
                    [
                      (0, r.f)(1, "div", "OH", null, 1, { style: n.h(p) }),
                      (0, r.f)(1, "div", "OI", null, 1, { style: n.h(u) }),
                    ],
                    4,
                    { style: n.h(h) }
                  ),
                  (0, r.b)(2, Vy, {
                    shouldArrowBeInactive: Ry,
                    width: t,
                    height: s,
                    x: f,
                    y: g,
                    radius: b,
                    step: this.step,
                  }),
                ],
                4
              );
            }
          }),
          (ek.getInitialState = Ay),
          (ek.commit = Gy),
          tk),
        rk = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M18.93 13.31 10.24 22l-8.7-8.69 8.7-8.69 8.7 8.7zm-14.48 0 5.8 5.8 5.79-5.8-5.8-5.8-5.8 5.8zM2.2 3.36A11.25 11.25 0 0120 5.63l-1.77 1.03A9.21 9.21 0 003.37 5.12h2.77v2.05H.41L0 1.09 2.04.95l.17 2.41z",
              "clip-rule": "evenodd",
            }),
            2,
            { fill: "none", viewBox: "0 0 20 22" }
          );
        },
        nk = class e extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Rz = () => {
                var e = (this.props.current.deg - 90) % 360;
                this.props.onChange({ type: "Rotation", value: { deg: e } });
              }),
              (this.SA = () => {
                var e = (this.props.current.deg + 90) % 360;
                this.props.onChange({ type: "Rotation", value: { deg: e } });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.current !== e.current ||
                s.onCommit !== e.onCommit ||
                s.onChange !== e.onChange ||
                s.onCancel !== e.onCancel ||
                s.selected !== e.selected)
            );
          }
          static getInitialState() {
            return { deg: 0 };
          }
          static change(e, t, s, r) {
            var n = s.deg,
              a = n;
            null != r && (a = n - r.deg);
            var i = document.createElement("canvas"),
              o = i.getContext("2d", { willReadFrequently: !0 });
            if (
              ((i.width = e.width),
              (i.height = e.height),
              o.drawImage(e, 0, 0),
              a % 180 != 0)
            ) {
              var l = e.height;
              (e.height = e.width), (e.width = l);
            } else t.clearRect(0, 0, e.width, e.height);
            t.save(),
              t.translate(e.width / 2, e.height / 2),
              t.rotate((a * Math.PI) / 180),
              t.drawImage(i, -i.width / 2, -i.height / 2),
              t.restore(),
              __LOG__(
                2
              )`[MEDIA_EDITOR] rotate image to ${n}deg. New size is (${e.width}, ${e.height})`;
          }
          addSoftKeys(t, s) {
            t.setLeftArrow(this.Rz),
              t.setLeftIcon((0, r.b)(2, rk, { className: "Mw p Mx" }), this.Rz),
              t.setRightArrow(this.SA),
              t.setRightIcon(
                (0, r.b)(2, rk, { className: "Mw p Mx My" }),
                this.SA
              ),
              t.setCenterLabel(772, () => {
                0 !== this.props.current.deg
                  ? this.props.onCommit({
                      type: "Rotation",
                      value: { deg: this.props.current.deg },
                    })
                  : this.props.onCancel({
                      type: "Rotation",
                      value: e.getInitialState(),
                    });
              }),
              t.setBack(() => {
                this.props.onCancel({
                  type: "Rotation",
                  value: e.getInitialState(),
                });
              });
          }
          render() {
            return null;
          }
        },
        ak = s(145),
        ik = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M1.18 8.19h11.64a1.18 1.18 0 000-2.35H1.18a1.17 1.17 0 100 2.35z",
            }),
            2,
            { fill: "none", viewBox: "0 0 14 14" }
          );
        },
        ok = "Mz p";
      function lk(e, t, s) {
        var r = s.x,
          n = s.y,
          a = s.size,
          i = s.image;
        if (null != i) {
          t.save();
          var o = s.canvasRotation;
          t.translate(r, n),
            t.rotate((o * Math.PI) / 180),
            t.drawImage(i, 0, 0, i.width, i.height, -a / 2, -a / 2, a, a),
            t.restore();
        }
      }
      var ck = class extends h.b {
          constructor() {
            var e;
            return (e = super(...arguments)), (this.SB = n.e()), e;
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.current !== e.current ||
                s.onCommit !== e.onCommit ||
                s.onChange !== e.onChange ||
                s.onCancel !== e.onCancel ||
                s.selected !== e.selected ||
                s.width !== e.width ||
                s.height !== e.height ||
                s.align !== e.align)
            );
          }
          addSoftKeys(e, t) {
            var s = this.props,
              n = s.current,
              a = s.width,
              i = s.height,
              o = s.onChange,
              l = s.onCommit,
              c = s.onCancel;
            e.setBack(() => {
              c({
                type: "Emoji",
                value: Object.assign(
                  {},
                  { x: 0, y: 0, size: 100, canvasRotation: 0, image: null },
                  { canvasRotation: n.canvasRotation }
                ),
              });
            }),
              n.size > this.step &&
                e.setLeftIcon((0, r.b)(2, ik, { className: ok }), () => {
                  o({
                    type: "Emoji",
                    value: Object.assign({}, n, { size: n.size - this.step }),
                  });
                }),
              300 !== n.size &&
                e.setRightIcon((0, r.b)(2, Yl, { className: ok }), () => {
                  o({
                    type: "Emoji",
                    value: Object.assign({}, n, {
                      size: Math.min(n.size + this.step, 300),
                    }),
                  });
                }),
              e.setCenterLabel(772, () => {
                l({ type: "Emoji", value: n });
              }),
              e.setLeftArrow(() => {
                var e = n.x - this.step;
                e >= 0 &&
                  o({ type: "Emoji", value: Object.assign({}, n, { x: e }) });
              }),
              e.setRightArrow(() => {
                var e = n.x + this.step;
                e < a &&
                  o({ type: "Emoji", value: Object.assign({}, n, { x: e }) });
              }),
              e.setUpArrow(() => {
                var e = n.y - this.step;
                e >= 0 &&
                  o({ type: "Emoji", value: Object.assign({}, n, { y: e }) });
              }),
              e.setDownArrow(() => {
                n.y + this.step < i &&
                  o({
                    type: "Emoji",
                    value: Object.assign({}, n, { y: n.y + this.step }),
                  });
              });
          }
          SD(e) {
            if (this.SB.current) {
              var t = this.SB.current,
                s = this.props,
                r = s.width,
                n = s.height,
                a = Math.ceil(0.15 * Math.min(r, n)),
                i = r / 2,
                o = n / 2,
                l = this.props.current;
              (this.step = Oy(r, n)),
                (t.width = r),
                (t.height = n),
                this.props.onChange({
                  type: "Emoji",
                  value: Object.assign({}, l, {
                    x: i,
                    y: o,
                    size: a,
                    image: e,
                    canvasRotation: 0,
                  }),
                });
            } else
              __LOG__(3)`[MEDIA_EDITOR] Canvas is not inited for emoji layer`;
          }
          SE() {
            cl(
              this.props.backend,
              (e) => {
                var t;
                ((t = e),
                new Promise((e, s) => {
                  var r = (function (e) {
                    var t = (0, gS.d)(e, 0);
                    if (t) {
                      var s = (function (e) {
                        var t = 0,
                          s = [];
                        do {
                          var r = e.codePointAt(t);
                          s.push(r.toString(16)), (t += (0, gS.b)(r));
                        } while (t < e.length);
                        return s.join("-");
                      })(t.emojiNormalized);
                      return `${ak.e}${s}.png`;
                    }
                    __LOG__(4)`Emoji canot be parsed`;
                  })(t);
                  if (r) {
                    __LOG__(2)`Emoji: loading emoji`;
                    var n = new Image();
                    (n.onload = () => {
                      e(n);
                    }),
                      (n.onerror = () => {
                        s(new Error("loadEmoji cannot load png chunk"));
                      }),
                      (n.crossOrigin = "Anonymous"),
                      (n.src = r);
                  } else s(new Error("loadEmoji cannot parse emoji"));
                })).then(
                  (e) => {
                    this.SC && this.SD(e);
                  },
                  (e) => {
                    __LOG__(4)`[MEDIA_EDITOR] ${e}`,
                      this.SC &&
                        this.props.onCancel({
                          type: "Emoji",
                          value: this.props.current,
                        });
                  }
                );
              },
              () => {
                this.SC &&
                  this.props.onCancel({
                    type: "Emoji",
                    value: this.props.current,
                  });
              }
            );
          }
          componentDidMount() {
            (this.SC = !0), super.componentDidMount();
          }
          componentDidUpdate(e) {
            var t = this.props.current;
            if (this.SB.current) {
              var s = this.SB.current;
              if (!this.props.selected || e.selected) {
                var r = this.props,
                  n = r.width,
                  a = r.height,
                  i = n !== e.width || a !== e.height;
                if (
                  (i && ((s.width = n), (s.height = a)), e.current !== t || i)
                ) {
                  var o = s.getContext("2d");
                  o.clearRect(0, 0, s.width, s.height), lk(0, o, t);
                }
                super.componentDidUpdate(e);
              } else this.SE();
            } else super.componentDidUpdate(e);
          }
          componentWillUnmount() {
            (this.SC = !1), super.componentWillUnmount();
          }
          render() {
            var e = this.props,
              t = e.width,
              s = e.height,
              a = e.current,
              i = e.selected,
              o = a.x,
              l = a.y,
              c = a.size;
            return (0, r.c)(
              [
                (0, r.f)(
                  1,
                  "div",
                  "NA",
                  (0, r.f)(
                    1,
                    "canvas",
                    null,
                    null,
                    1,
                    { style: n.h(Zy(this.props.align)) },
                    null,
                    this.SB
                  ),
                  2
                ),
                i &&
                  (0, r.b)(2, Vy, {
                    shouldArrowBeInactive: hk,
                    width: t,
                    height: s,
                    x: o,
                    y: l,
                    radius: c / 2,
                    step: this.step,
                  }),
              ],
              0
            );
          }
        },
        dk = (0, i.j)(ck);
      function hk(e, t, s, r, n) {
        return e < 0 || t < 0 || e >= r || t >= n;
      }
      function uk(e, t, s) {
        var r = e / 255,
          n = t / 255,
          a = s / 255,
          i = Math.max(r, n, a),
          o = Math.min(r, n, a),
          l = i,
          c = i - o,
          d = 0 === i ? 0 : c / i,
          h = 0;
        if (i === o) h = 0;
        else {
          switch (i) {
            case r:
              h = (n - a) / c + (n < a ? 6 : 0);
              break;
            case n:
              h = (a - r) / c + 2;
              break;
            case a:
              h = (r - n) / c + 4;
          }
          h /= 6;
        }
        return [h, d, l];
      }
      function pk(e, t, s) {
        var r,
          n,
          a,
          i = Math.floor(6 * e),
          o = 6 * e - i,
          l = s * (1 - t),
          c = s * (1 - o * t),
          d = s * (1 - (1 - o) * t);
        switch (i % 6) {
          case 0:
            (r = s), (n = d), (a = l);
            break;
          case 1:
            (r = c), (n = s), (a = l);
            break;
          case 2:
            (r = l), (n = s), (a = d);
            break;
          case 3:
            (r = l), (n = c), (a = s);
            break;
          case 4:
            (r = d), (n = l), (a = s);
            break;
          default:
            (r = s), (n = l), (a = c);
        }
        return [255 * r, 255 * n, 255 * a];
      }
      function vk(e, t) {
        for (var s = e.data, r = 0; r < s.length; r += 4) {
          var n = s[r],
            a = s[r + 1],
            i = s[r + 2];
          (s[r] = n * (1 - 0.607 * t) + 0.769 * a * t + 0.189 * i * t),
            (s[r + 1] = 0.349 * n * t + a * (1 - 0.314 * t) + 0.168 * i * t),
            (s[r + 2] = 0.272 * n * t + 0.534 * a * t + i * (1 - 0.869 * t));
        }
        return e;
      }
      function fk(e, t) {
        var s = e.data;
        if (1 === t) return e;
        for (var r = 0; r < s.length; r += 4)
          (s[r] *= t), (s[r + 1] *= t), (s[r + 2] *= t);
        return e;
      }
      function gk(e, t) {
        for (
          var s = e.data, r = t < 0 ? -1 : t - 1, n = 0;
          n < s.length;
          n += 4
        ) {
          var a = 0.2989 * s[n] + 0.587 * s[n + 1] + 0.114 * s[n + 2];
          (s[n] = -a * r + s[n] * (1 + r)),
            (s[n + 1] = -a * r + s[n + 1] * (1 + r)),
            (s[n + 2] = -a * r + s[n + 2] * (1 + r));
        }
        return e;
      }
      function bk(e, t) {
        for (
          var s = e.data, r = -128 * t + 128, n = t, a = 0;
          a < s.length;
          a += 4
        )
          (s[a] = n * s[a] + r),
            (s[a + 1] = n * s[a + 1] + r),
            (s[a + 2] = n * s[a + 2] + r);
        return e;
      }
      function mk(e, t) {
        for (var s = e.data, r = t[3], n = 0; n < s.length; n += 4)
          (s[n] -= (s[n] - t[0]) * r),
            (s[n + 1] -= (s[n + 1] - t[1]) * r),
            (s[n + 2] -= (s[n + 2] - t[2]) * r);
        return e;
      }
      function Sk(e, t) {
        for (var s = e.data, r = 0; r < s.length; r += 4)
          (s[r] *= t[0]), (s[r + 1] *= t[1]), (s[r + 2] *= t[2]);
        return e;
      }
      var yk = [
          "none",
          "reyes",
          "juno",
          "slumber",
          "crema",
          "aden",
          "perpetua",
          "mayfair",
          "inkwell",
          "earlybird",
          "toaster",
          "kelvin",
          "brooklyn",
        ],
        kk = {
          none: function (e) {
            return e;
          },
          reyes: function (e) {
            var t = vk(e, 0.75);
            return gk((t = fk((t = bk(t, 0.75)), 1.25)), 1.4);
          },
          juno: function (e) {
            return (
              Sk(e, [1.01, 1.04, 1]), gk(fk(bk(vk(e, 0.35), 1.15), 1.15), 1.8)
            );
          },
          slumber: function (e) {
            return (function (e, t) {
              for (var s = e.data, r = 0; r < s.length; r += 4) {
                var n = uk(s[r], s[r + 1], s[r + 2]);
                n[1] *= -0.5;
                var a = pk(n[0], n[1], n[2]);
                (s[r] = a[0]), (s[r + 1] = a[1]), (s[r + 2] = a[2]);
              }
              return e;
            })(fk(e, 1.1));
          },
          crema: function (e) {
            return gk(Sk(e, [1.04, 1, 1.02]), 0.95);
          },
          aden: function (e) {
            return gk(mk(e, [228, 130, 225, 0.13]), 0.8);
          },
          perpetua: function (e) {
            return Sk(e, [1.05, 1.1, 1]);
          },
          mayfair: function (e) {
            return gk(mk(e, [230, 115, 108, 0.05]), 1.15);
          },
          inkwell: function (e) {
            return (function (e) {
              for (var t = e.data, s = 0; s < t.length; s += 4) {
                var r = 0.2126 * t[s] + 0.7152 * t[s + 1] + 0.0722 * t[s + 2];
                t[s] = t[s + 1] = t[s + 2] = r;
              }
              return e;
            })(e);
          },
          earlybird: function (e) {
            return mk(e, [255, 165, 40, 0.2]);
          },
          toaster: function (e) {
            return mk(vk(e, 0.1), [255, 145, 0, 0.2]);
          },
          kelvin: function (e) {
            var t = mk(e, [255, 140, 0, 0.1]);
            return gk((t = Sk(t, [1.15, 1.05, 1])), 1.35);
          },
          brooklyn: function (e) {
            return vk(mk(e, [25, 240, 252, 0.05]), 0.3);
          },
        },
        Ck = class extends h.b {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Rx = (e) => {
                var t,
                  s = this.props.current,
                  r = yk.indexOf(s.fn);
                if ("next" === e) {
                  if (r === yk.length - 1) return;
                  t = r + 1;
                } else if ("prev" === e) {
                  if (0 === r) return;
                  t = r - 1;
                } else t = e % yk.length;
                var n = yk[t];
                __LOG__(2)`[MEDIA_EDITOR] Change filter to ${n}`,
                  this.props.onChange({
                    type: "Filter",
                    value: { fn: n, original: s.original },
                  });
              }),
              (this.Ry = () => {
                var e = this.props.current.original;
                this.props.onCancel({
                  type: "Filter",
                  value: { fn: e, original: e },
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props;
            return (
              s !== e &&
              (s.current !== e.current ||
                s.onCommit !== e.onCommit ||
                s.onChange !== e.onChange ||
                s.onCancel !== e.onCancel ||
                s.selected !== e.selected)
            );
          }
          static getInitialState() {
            return { fn: "none", original: "none" };
          }
          static change(e, t, s) {
            var r = kk[s.fn],
              n = t.getImageData(0, 0, e.width, e.height);
            t.putImageData(r(n), 0, 0),
              __LOG__(2)`[MEDIA_EDITOR] filter image using ${s.fn} filter`;
          }
          addSoftKeys(e, t) {
            var s = this.props.current;
            e.setRightLabel(495, () => {
              this.props.onCommit({
                type: "Filter",
                value: { fn: s.fn, original: s.fn },
              });
            }),
              e.setLeftLabel(761, this.Ry);
            var n = yk.indexOf(s.fn);
            e.dangerouslySetCenterRawString(
              (0, r.b)(2, Fy, {
                leftDisabled: 0 === n,
                rightDisabled: n === yk.length - 1,
              }),
              () => {}
            ),
              e.setBack(this.Ry),
              e.setLeftArrow(() => this.Rx("prev")),
              e.setRightArrow(() => this.Rx("next"));
          }
          render() {
            var e,
              t = this.props,
              s = t.selected,
              n = t.current;
            return s
              ? (0, r.f)(
                  1,
                  "div",
                  "Mv GG GC",
                  "none" === (e = n.fn)
                    ? (0, r.b)(2, o.b, { l10n: 493 })
                    : (0, r.f)(1, "span", "Mu", e, 0),
                  0
                )
              : null;
          }
        };
      function wk() {
        return (0, r.f)(1, "div", "KX", (0, r.b)(2, lr.a), 2);
      }
      var xk,
        Ik = class extends Ms.b {
          constructor(e, t) {
            super(e, t), (this.state = { optionIdx: e.startIdx });
          }
          Rv(e) {
            var t,
              s = this.props.options.length,
              r = this.state.optionIdx;
            if ("prev" === e) {
              if (r <= 0) return;
              t = r - 1;
            } else {
              if (r >= s - 1) return;
              t = r + 1;
            }
            this.setState({ optionIdx: t });
          }
          addSoftKeys(e, t) {
            var s = this.props,
              r = s.options,
              n = s.loading,
              a = r[this.state.optionIdx];
            n ||
              e.setCenterLabel(a.label, () => {
                a.action(t);
              }),
              e.setLeftArrow(() => this.Rv("prev")),
              e.setRightArrow(() => this.Rv("next"));
          }
          Rw() {
            var e = this.props.options,
              t = this.state.optionIdx;
            return e.map((e, s) => {
              var n = e.icon,
                a = (0, r.b)(2, n, { className: "LO p" }),
                i = s === t;
              return (0, r.f)(
                1,
                "div",
                (0, Oe.a)("LL", i && "LM"),
                (0, r.f)(1, "div", "LN", a, 0),
                2,
                null,
                e.key
              );
            });
          }
          render() {
            return this.props.selected
              ? (0, r.f)(1, "div", "LK", this.Rw(), 0)
              : null;
          }
        },
        Lk = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M16.1 14.4h1.6V7.9c0-.9-.7-1.6-1.6-1.6H9.6v1.6h6.6v6.5h-.1zm-8.2 1.7V3H6.3v3.2H3v1.6h3.2V16c0 .9.7 1.6 1.6 1.6H16V21h1.6v-3.2H21v-1.6c0-.1-13.1-.1-13.1-.1z",
            }),
            2,
            { viewBox: "0 0 24 24" }
          );
        },
        _k = (e) => {
          var t = e.className;
          return (0, r.f)(
            32,
            "svg",
            t,
            (0, r.f)(32, "path", null, null, 1, {
              d:
                "M11.24 4.5c.58.06.64.38 1.02.77.19.19.26.32.38.64.26.64.58.7.83 1.41.26.58.32.64.64.7.58.06.83-.06 1.02-.64.26-.77.58-.7.9-1.54.13-.38.45-.64.7-.96.19-.58 2.3-.45 2.56-.13.19.38-.45.9-.58 1.41-.19.58-.64.77-.83 1.41-.19.45-.64.83-.83 1.28-.13.38-.19.51-.38.77-.7.77-.77 1.86-.13 2.62.45.45.58 1.22.96 1.6.38.38.45 1.02.83 1.41.19.19.32.38.51.9.06.19.13.32.26.45.96 1.02-.58.96-1.66 1.02-.51-.19-.7-.38-1.02-.83-.26-.26-.26-.32-.38-.7-.19-.58-.64-.77-.83-1.47-.19-.51-.51-.7-1.02-.58-.32.06-.32.06-.58.7-.19.45-.19.51-.38.7-.19.19-.32.38-.45.7-.13.45-.45.64-.7.96-.26.38-.45.45-1.22.45-.83 0-1.34-.13-1.47-.38-.13-.13.45-.77.51-.96.38-1.02.77-1.09 1.02-1.79.13-.45.64-.83.83-1.34.19-.38.26-.58.51-.77.38-.32.64-1.22.38-1.79-.13-.45-.19-.51-.38-.77-.19-.19-.19-.26-.32-.51-.38-.77-.38-.83-.58-1.09-.19-.26-.32-.38-.38-.7-.26-.64-.7-1.02-1.28-1.22H7.66c-2.5 0-2.37 0-2.56.32l-.07.13v2.43l.07.13c.19.26.13.26 2.11.26h1.6c.38.19.51.38.45 1.02 0 .58-.13.64-.45.83h-1.6c-1.98 0-1.92 0-2.11.32l-.07.13v2.56c0 2.37 0 2.56-.06 2.69-.26.58-1.47.58-1.79 0-.06-.13-.06-11.78 0-12.1.06-.38.26-.58.64-.58.25.07 7.17.07 7.42.13",
            }),
            2,
            { viewBox: "0 0 22 22" }
          );
        },
        Nk = class extends h.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.Op = n.e()),
              (this.state = {
                selectedTool: null,
                width: 0,
                height: 0,
                align: { translateX: 0, translateY: 0, scale: 1 },
                rotation: nk.getInitialState(),
                cropHighlight: sk.getInitialState(),
                emoji: {
                  x: 0,
                  y: 0,
                  size: 100,
                  canvasRotation: 0,
                  image: null,
                },
                filter: Ck.getInitialState(),
                isProcessing: !1,
              }),
              (this.Os = (e) => {
                this.props.onCancel(() => this.Ot(e));
              }),
              (this.Ot = (e) => {
                if (null == this.Op.current)
                  return (
                    __LOG__(
                      4
                    )`Failed to save Image in MediaEditor.MainLayer component`,
                    SEND_LOGS("MediaEditor failed"),
                    void e.goBack()
                  );
                var t,
                  s = this.Op.current,
                  r = this.props.tools;
                r.hasCircleCrop &&
                  this.state.crop &&
                  Qy.commit(s, this.ctx, this.state.crop),
                  r.hasEmoji &&
                    (lk(0, this.ctx, (t = this.state.emoji)),
                    __LOG__(
                      2
                    )`[MEDIA_EDITOR] Placed emoji on image. From (${t.x}, ${t.y}), size: ${t.size}`),
                  s.toBlob(
                    (t) => {
                      this.props.onComplete(t), e.goBack();
                    },
                    "image/jpeg",
                    0.8
                  );
              }),
              (this.Ou = (e) => {
                var t = this.Op.current;
                if (t) {
                  var s = performance.now();
                  switch (e.type) {
                    case "Rotation":
                      nk.change(t, this.ctx, e.value, this.state.rotation);
                      var r = e.value.deg - this.state.rotation.deg,
                        n = t.width,
                        a = t.height,
                        i = this.state.crop;
                      if (i) {
                        var o = this.cached.width,
                          l = this.cached.height;
                        if (e.value.deg % 180 != 0) {
                          var c = o;
                          (o = l), (l = c);
                        }
                        (i = (function (e, t, s, r) {
                          __LOG__(
                            2
                          )`[MEDIA_EDITOR] image was rotated. Align with new angle ${r}`;
                          var n = e.x,
                            a = e.y,
                            i = e.radius;
                          return Object.assign(
                            { radius: i },
                            Ty({ x: n, y: a }, t, s, r)
                          );
                        })(i, o, l, r)),
                          this.props.tools.hasCircleCrop &&
                            i &&
                            (__LOG__(
                              2
                            )`[MEDIA_EDITOR] re-align CircleCrop because of rotation: ${r}`,
                            Qy.change(t, this.ctx, i));
                      }
                      var d = (function (e, t, s, r) {
                          var n = e.x,
                            a = e.y;
                          return Object.assign(
                            {},
                            e,
                            Ty({ x: n, y: a }, t, s, r)
                          );
                        })(this.state.emoji, n, a, r),
                        h = this.state.rotation,
                        u = d.canvasRotation + e.value.deg - h.deg;
                      this.setState({
                        width: n,
                        height: a,
                        crop: i,
                        cropHighlight: Py(n, a),
                        rotation: e.value,
                        align: Yy(n, a, this.props.fit),
                        emoji: Object.assign({}, d, { canvasRotation: u }),
                      });
                      break;
                    case "Emoji":
                      this.setState({ emoji: e.value });
                      break;
                    case "Filter":
                      this.setState({ filter: e.value }, () => {
                        this.Oq();
                      });
                      break;
                    case "CircleCrop":
                      Qy.change(t, this.ctx, e.value),
                        this.setState({ crop: e.value });
                      break;
                    default:
                      e.type, this.setState({ cropHighlight: e.value });
                  }
                  __LOG__(2)`[MEDIA_EDITOR] Transform for ${
                    e.type
                  } completed. Time taken: ${performance.now() - s}`;
                }
              }),
              (this.Ov = (e) => {
                this.setState({ selectedTool: null }), this.Ou(e);
              }),
              (this.Ow = (e) => {
                var t = this.Op.current;
                if (!t)
                  return (
                    __LOG__(
                      4
                    )`[MEDIA_EDITOR] Canvas element is not presented on the page when the tool is trying to commit changes`,
                    void SEND_LOGS("MediaEditor failed")
                  );
                var s = performance.now();
                switch (e.type) {
                  case "Crop":
                    var r = e.value,
                      n = r.x,
                      a = r.y,
                      i = r.radius,
                      o = (function (e, t, s) {
                        return Object.assign({}, s, { x: s.x - e, y: s.y - t });
                      })(n - i, a - i, this.state.emoji);
                    sk.commit(t, this.ctx, e.value);
                    var l = t.width,
                      c = t.height,
                      d = Yy(l, c, this.props.fit);
                    this.setState({
                      width: l,
                      height: c,
                      emoji: o,
                      align: d,
                      cropHighlight: Py(l, c),
                      crop: e.value,
                    });
                    break;
                  case "Filter":
                    var h = e.value;
                    this.setState({ filter: h });
                    break;
                  default:
                    e.type;
                }
                this.setState({ selectedTool: null }),
                  __LOG__(2)`[MEDIA_EDITOR] Commit for ${
                    e.type
                  } completed. Time taken: ${performance.now() - s}`,
                  this.props.onPush(e);
              }),
              (this.Oz = (e) => () => {
                this.setState((t) => {
                  if (null == t.selectedTool) return { selectedTool: e };
                  __LOG__(
                    3
                  )`[MEDIA_EDITOR]: Trying to select a tool while other is still active`;
                });
              }),
              e
            );
          }
          shouldComponentUpdate(e, t) {
            var s = this.props,
              r = this.state;
            return (
              (s !== e &&
                (s.image !== e.image ||
                  s.onComplete !== e.onComplete ||
                  s.onCancel !== e.onCancel ||
                  s.onPush !== e.onPush ||
                  s.tools !== e.tools ||
                  s.fit !== e.fit)) ||
              (r !== t &&
                (r.selectedTool !== t.selectedTool ||
                  r.width !== t.width ||
                  r.height !== t.height ||
                  r.align !== t.align ||
                  r.rotation !== t.rotation ||
                  r.cropHighlight !== t.cropHighlight ||
                  r.crop !== t.crop ||
                  r.filter !== t.filter ||
                  r.emoji !== t.emoji ||
                  r.isProcessing !== t.isProcessing))
            );
          }
          componentDidMount() {
            if (((this.Oo = !0), !this.Op.current))
              return (
                __LOG__(
                  4
                )`[MEDIA_EDITOR] Canvas element is not presented on the page after the image is loaded`,
                void SEND_LOGS("MediaEditor failed")
              );
            var e = this.props,
              t = e.image,
              s = e.fit,
              r = this.Op.current;
            this.ctx = r.getContext("2d", { willReadFrequently: !0 });
            var n = t.naturalWidth,
              a = t.naturalHeight;
            (r.width = n),
              (r.height = a),
              this.ctx.drawImage(t, 0, 0),
              (this.cached = this.ctx.getImageData(0, 0, n, a)),
              this.setState({
                width: n,
                height: a,
                cropHighlight: Py(n, a),
                align: Yy(n, a, s),
              }),
              super.componentDidMount();
          }
          componentWillUnmount() {
            (this.Oo = !1), super.componentWillUnmount();
          }
          Oq() {
            this.Or(() => {
              if (!this.Op.current) return Promise.resolve();
              var e = this.Op.current;
              return (
                (e.width = this.cached.width),
                (e.height = this.cached.height),
                this.ctx.putImageData(this.cached, 0, 0),
                this.state.rotation.deg % 360 != 0 &&
                  nk.change(e, this.ctx, this.state.rotation),
                this.state.crop && sk.commit(e, this.ctx, this.state.crop),
                Ck.change(e, this.ctx, this.state.filter),
                Promise.resolve()
              );
            });
          }
          Or(e) {
            this.setState({ isProcessing: !0 }, () => {
              requestAnimationFrame(() => {
                setTimeout(() => {
                  this.Oo &&
                    e().then(() => {
                      this.Oo && this.setState({ isProcessing: !1 });
                    });
                }, 0);
              });
            });
          }
          addSoftKeys(e, t) {
            e.setBack(this.Os),
              e.addCancel(this.Os),
              this.state.isProcessing ||
                null != this.state.selectedTool ||
                e.setRightLabel(816, () => {
                  this.Ot(t);
                });
          }
          Ox() {
            if (null == this.Op.current) return null;
            var e = this.state.selectedTool,
              t = this.props.tools;
            return (0, r.c)(
              [
                t.hasRotation &&
                  (0, r.b)(2, nk, {
                    current: this.state.rotation,
                    selected: "Rotation" === e,
                    onCommit: this.Ow,
                    onChange: this.Ou,
                    onCancel: this.Ov,
                  }),
                t.hasFilter &&
                  (0, r.b)(2, Ck, {
                    current: this.state.filter,
                    selected: "Filter" === e,
                    onCommit: this.Ow,
                    onChange: this.Ou,
                    onCancel: this.Ov,
                  }),
                t.hasCrop &&
                  (0, r.b)(2, sk, {
                    current: this.state.cropHighlight,
                    selected: "Crop" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.Ow,
                    onChange: this.Ou,
                    onCancel: this.Ov,
                    align: this.state.align,
                  }),
                t.hasEmoji &&
                  (0, r.b)(2, dk, {
                    align: this.state.align,
                    current: this.state.emoji,
                    selected: "Emoji" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.Ow,
                    onChange: this.Ou,
                    onCancel: this.Ov,
                  }),
                t.hasCircleCrop &&
                  (0, r.b)(2, Qy, {
                    current: this.state.cropHighlight,
                    selected: "CircleCrop" === e,
                    width: this.state.width,
                    height: this.state.height,
                    onCommit: this.Ow,
                    onChange: this.Ou,
                    onCancel: this.Ov,
                  }),
                this.Oy(),
              ],
              0
            );
          }
          Oy() {
            var e = this.props.tools,
              t = this.state,
              s = t.selectedTool,
              n = t.emoji,
              a = t.isProcessing,
              i = [
                e.hasRotation && {
                  key: "Rotation",
                  label: 494,
                  icon: rk,
                  action: this.Oz("Rotation"),
                },
                e.hasCrop && {
                  key: "Crop",
                  label: 489,
                  icon: Lk,
                  action: this.Oz("Crop"),
                },
                e.hasCircleCrop && {
                  key: "CircleCrop",
                  label: 489,
                  icon: Lk,
                  action: this.Oz("CircleCrop"),
                },
                e.hasEmoji && {
                  key: "Emoji",
                  label: null == n.image ? 486 : 491,
                  icon: Fo,
                  action: this.Oz("Emoji"),
                },
                e.hasFilter && {
                  key: "Filter",
                  label: 789,
                  icon: _k,
                  action: this.Oz("Filter"),
                },
              ];
            return (0, r.b)(2, Ik, {
              startIdx: 0,
              options: i.filter(Boolean),
              selected: null == s,
              loading: a,
            });
          }
          render() {
            var e = Object.assign({}, Zy(this.state.align), {
              width: this.state.width + "px",
              height: this.state.height + "px",
            });
            return (0, r.f)(
              1,
              "div",
              "NL",
              [
                (0, r.f)(
                  1,
                  "div",
                  null,
                  (0, r.f)(1, "canvas", null, null, 1, null, null, this.Op),
                  2,
                  { style: n.h(e) }
                ),
                this.Ox(),
                this.state.isProcessing && (0, r.b)(2, wk),
              ],
              0
            );
          }
        },
        Mk = class extends n.a {
          constructor() {
            var e;
            return (
              (e = super(...arguments)),
              (this.MU = n.e()),
              (this.MW = null),
              (this.state = { operations: [] }),
              (this.MX = (e) => {
                __LOG__(2)`[MEDIA_EDITOR] Edit image using: ${e.type}`,
                  this.setState((t) => ({
                    operations: t.operations.concat(e),
                  }));
              }),
              (this.MY = (e) => {
                __LOG__(2)`[MEDIA_EDITOR] Cancel`,
                  this.state.operations.length > 0
                    ? (0, y.g)({
                        title: 488,
                        text: 487,
                        center: 816,
                        left: 761,
                        right: 490,
                        onSoftCenter: () => e(),
                        onSoftLeft: "CLOSE",
                        onSoftRight: () => this.props.onCancel(),
                      })
                    : this.props.onCancel();
              }),
              (this.MZ = (e) => {
                var t = this.state.operations;
                __LOG__(2)`[MEDIA_EDITOR] Save new file`,
                  this.props.onComplete(
                    e,
                    t.length > 0 ? "changed" : "unchanged"
                  );
              }),
              e
            );
          }
          componentDidMount() {
            var e;
            (this.MV = !0),
              ((e = this.props.media),
              new Promise((t, s) => {
                var r = new Image(),
                  n = (0, Rr.a)(e);
                (r.src = n),
                  (r.onload = () => {
                    if (
                      !(
                        r.naturalWidth < gh.PROFILE_PHOTO_SQUARE_MIN_PIXELS ||
                        r.naturalHeight < gh.PROFILE_PHOTO_SQUARE_MIN_PIXELS
                      )
                    )
                      return 0 === r.naturalWidth || 0 === r.naturalHeight
                        ? (__LOG__(
                            4
                          )`[MEDIA_EDITOR] Got zero width or height for the image to scale`,
                          SEND_LOGS("MediaEditor failed"),
                          void s("Image has zero width or height"))
                        : void t({ img: r, objectUri: n });
                    s(new mh.a());
                  }),
                  (r.onerror = () => {
                    (0, Rr.b)(n), s("Image loading error");
                  });
              }))
                .then((e) => {
                  var t = e.img,
                    s = e.objectUri;
                  this.MV && ((this.MW = s), this.setState({ image: t }));
                })
                .catch(
                  (0, bh.a)(mh.a, () => {
                    this.MV && this.props.onSmallImageError();
                  })
                )
                .catch((e) => {
                  this.MV && this.props.onCancel();
                });
          }
          componentWillUnmount() {
            (this.MV = !1), this.MW && (0, Rr.b)(this.MW);
          }
          render() {
            if (!this.state.image) return (0, r.b)(2, wk);
            var e = this.state.image,
              t = this.props,
              s = t.tools,
              n = t.fit;
            return (0, r.b)(
              2,
              Nk,
              {
                image: e,
                onCancel: this.MY,
                onComplete: this.MZ,
                onPush: this.MX,
                tools: s,
                fit: n,
              },
              null,
              this.MU
            );
          }
        },
        Ok = class extends n.b {
          constructor(e) {
            super(e),
              (this.FO = () => {
                (0, oe.a)(this.props.backend),
                  (0, y.e)({ title: 229, text: 694 });
              }),
              (this.FP = () => {
                (0, oe.a)(this.props.backend);
              }),
              (this.state = { media: e.media });
          }
          componentDidMount() {
            (this.FN = !0),
              null == this.state.media &&
                (0, A.j)(this.props.backend, "image/jpeg").then((e) => {
                  this.FN && e
                    ? this.setState({ media: e })
                    : (0, oe.a)(this.props.backend);
                });
          }
          componentWillUnmount() {
            this.FN = !1;
          }
          render() {
            if (null == this.state.media)
              return (0, r.b)(2, sm.b, { title: 788, subtitle: null });
            var e = this.props,
              t = e.fit,
              s = e.tools,
              n = e.onComplete;
            return (0, r.f)(
              1,
              "div",
              "ID NM",
              (0, r.b)(2, Mk, {
                fit: t,
                tools: s,
                onComplete: n,
                onCancel: this.FP,
                media: this.state.media,
                onSmallImageError: this.FO,
              }),
              2
            );
          }
        },
        Tk = (0, i.b)((0, h.e)(Ok, { fullscreen: !0 }), (e, t) =>
          Object.assign({}, t, { backend: e })
        );
      function Pk() {
        return (
          xk || (xk = Promise.all([s.e(17), s.e(45)]).then(s.bind(null, 651))),
          xk
        );
      }
      function Ak(e) {
        return (0, r.b)(2, Cp.a, {
          props: e,
          promise: Pk(),
          fallback: Rk,
          render: (e, t) => {
            var s = t.DeleteAccount;
            return (0, r.i)((0, r.b)(2, s, Object.assign({}, e)));
          },
        });
      }
      function Ek(e) {
        return (0, r.b)(2, Cp.a, {
          props: e,
          promise: Pk(),
          fallback: Rk,
          render: (e, t) => {
            var s = t.DeleteAccountCountrySelector;
            return (0, r.i)((0, r.b)(2, s, Object.assign({}, e)));
          },
        });
      }
      function Rk() {
        return (0, r.b)(2, wp.a);
      }
      var Gk = s(507),
        Uk = class extends h.a {
          addSoftKeys(e) {
            e.setLeftAsBack();
          }
          render() {
            var e = this.props,
              t = e.url,
              s = e.chat;
            return (0, r.b)(2, b.a, {
              title: (0, r.b)(2, pc.d, {
                chat: s,
                children: (0, r.b)(2, o.b, { l10n: 408 }),
              }),
              tallTitle: !0,
              children: (0, r.f)(
                1,
                "div",
                "Ac",
                (0, r.f)(
                  1,
                  "div",
                  "Ad",
                  (0, r.b)(2, Gk.a, { data: t, className: "Ae" }),
                  2
                ),
                2
              ),
            });
          }
        },
        Dk = (0, h.e)(Uk);
      function jk(e) {
        var t = e.id,
          n = e.screen,
          a = e.isActiveScreen;
        switch (n.type) {
          case "NEW_CHAT":
            return (0, r.b)(2, Rv);
          case "ADD_GROUP_PARTICIPANTS":
            return (0, r.i)((0, r.b)(2, Z, Object.assign({}, n.props)));
          case "NEW_GROUP_INITIAL":
            return (0, r.i)(
              (0, r.b)(2, Jv, Object.assign({ screenId: t }, n.props))
            );
          case "NEW_GROUP_EDIT":
            return (0, r.i)((0, r.b)(2, jv, Object.assign({}, n.props)));
          case "SETTINGS":
            return (0, r.b)(2, Yg);
          case "SETTINGS_PROFILE":
            return (0, r.b)(2, Uf);
          case "SETTINGS_ACCOUNT":
            return (0, r.b)(2, I);
          case "SETTINGS_COMPANION_DEVICES":
            return null;
          case "SETTINGS_PRIVACY":
            return (0, r.i)((0, r.b)(2, hf, Object.assign({}, n.props)));
          case "SETTINGS_GROUP_ADD_BLACKLIST":
            return (0, r.i)((0, r.b)(2, jb, Object.assign({}, n.props)));
          case "SETTINGS_CHATS":
            return (0, r.b)(2, nt);
          case "SETTINGS_CHATS_BACKGROUND_COLOR":
            return (0, r.i)((0, r.b)(2, bt, Object.assign({}, n.props)));
          case "SETTINGS_HELP":
            return (0, r.b)(2, Wu);
          case "SETTINGS_LANGUAGE":
          case "SETTINGS_INTERNAL":
            return null;
          case "HELP_LICENSES":
            return (0, r.b)(2, Tp);
          case "HELP_CONTACT_US":
            return (0, r.i)((0, r.b)(2, Es.a, Object.assign({}, n.props)));
          case "MSG_INFO":
            return (0, r.i)((0, r.b)(2, uv, Object.assign({}, n.props)));
          case "ABOUT_CONTENT":
            return (0, r.i)((0, r.b)(2, p, Object.assign({}, n.props)));
          case "CONTACT_INFO":
            return (0, r.i)((0, r.b)(2, $t, Object.assign({}, n.props)));
          case "CONTACT_INFO_GROUPS":
            return (0, r.i)((0, r.b)(2, fs, Object.assign({}, n.props)));
          case "BUSINESS_DETAILS":
            return (0, r.i)((0, r.b)(2, As, Object.assign({}, n.props)));
          case "GALLERY_MEDIA":
            return (0, r.i)((0, r.b)(2, ih, Object.assign({}, n.props)));
          case "GALLERY_MEDIA_FOR_STORAGE_SETTING":
            return (0, r.i)((0, r.b)(2, oh, Object.assign({}, n.props)));
          case "GROUP_INFO":
            return (0, r.i)((0, r.b)(2, Dh, Object.assign({}, n.props)));
          case "GROUP_INFO_CHANGE_SUBJECT":
            return (0, r.i)((0, r.b)(2, uu, Object.assign({}, n.props)));
          case "GROUP_INFO_CHANGE_DESCRIPTION":
            return (0, r.i)((0, r.b)(2, du, Object.assign({}, n.props)));
          case "GROUP_INFO_PARTICIPANTS":
            return (0, r.i)((0, r.b)(2, Su, Object.assign({}, n.props)));
          case "GROUP_INFO_INVITATIONS":
            return (0, r.i)((0, r.b)(2, vu, Object.assign({}, n.props)));
          case "GROUP_INVITE_LINK":
            return (0, r.i)((0, r.b)(2, Op, Object.assign({}, n.props)));
          case "GROUP_INVITE_LINK_QR_SCREEN":
            return (0, r.i)((0, r.b)(2, Dk, Object.assign({}, n.props)));
          case "EPHEMERAL_SETTINGS":
            return (0, r.i)((0, r.b)(2, sp, Object.assign({}, n.props)));
          case "EPHEMERAL_NUX":
            return (0, r.i)(
              (0, r.b)(2, lp, Object.assign({ screenId: t }, n.props))
            );
          case "VIEW_ONCE_NUX":
            return (0, r.i)((0, r.b)(2, hp, Object.assign({}, n.props)));
          case "DISAPPEARING_MSGS_DEFAULT_TIMER_SETTINGS":
            return (0, r.i)((0, r.b)(2, fp, Object.assign({}, n.props)));
          case "GROUP_SETTINGS":
            return (0, r.i)((0, r.b)(2, _u, Object.assign({}, n.props)));
          case "GROUP_SETTINGS_EDIT_INFO":
            return (0, r.i)((0, r.b)(2, Ru, Object.assign({}, n.props)));
          case "ADD_COMPANION_DEVICE":
            return null;
          case "IDENTITY_VERIFICATION_SCREEN":
            return (0, r.i)((0, r.b)(2, xp, Object.assign({}, n.props)));
          case "IDENTITY_VERIFICATION_SCAN_CODE_SCREEN":
            return (0, r.i)((0, r.b)(2, Ip, Object.assign({}, n.props)));
          case "SPINNER_SCREEN":
            return (0, r.i)((0, r.b)(2, sm.b, Object.assign({}, n.props)));
          case "BLOCKED_CONTACTS":
            return (0, r.i)((0, r.b)(2, xe, Object.assign({}, n.props)));
          case "BLOCK_CONTACT":
            return (0, r.b)(2, Se);
          case "FORWARD_SCREEN":
            return (0, r.i)((0, r.b)(2, Md, Object.assign({}, n.props)));
          case "SEND_MEDIA_SELECT_CHAT_SCREEN":
            return (0, r.i)((0, r.b)(2, Qg, Object.assign({}, n.props)));
          case "SHARE_SCREEN":
            return (0, r.i)((0, r.b)(2, $b, Object.assign({}, n.props)));
          case "SHARE_TEXT_SCREEN":
            return (0, r.i)((0, r.b)(2, Zb, Object.assign({}, n.props)));
          case "SHARE_TEXT_MULTIPLE_SCREEN":
            return (0, r.i)((0, r.b)(2, tm, Object.assign({}, n.props)));
          case "DELETE_ACCOUNT":
            return (0, r.i)(
              (0, r.b)(2, Ak, Object.assign({ screenId: t }, n.props))
            );
          case "DELETE_ACCOUNT_COUNTRY_SELECTOR":
            return (0, r.i)((0, r.b)(2, Ek, Object.assign({}, n.props)));
          case "MEDIA_EDITOR":
            return (0, r.i)((0, r.b)(2, Tk, Object.assign({}, n.props)));
          case "IMAGE_VIEW":
            return (0, r.i)((0, r.b)(2, he, Object.assign({}, n.props)));
          case "MSG_IMAGE_VIEW":
            return (0, r.i)((0, r.b)(2, Up, Object.assign({}, n.props)));
          case "MSG_STICKER_VIEW":
            return (0, r.i)((0, r.b)(2, Kp, Object.assign({}, n.props)));
          case "AVATAR_IMAGE_VIEW":
            return (0, r.i)((0, r.b)(2, ge, Object.assign({}, n.props)));
          case "VCARD_CONTACTS":
            return (0, r.i)((0, r.b)(2, _y, Object.assign({}, n.props)));
          case "MEDIA_DRAWER":
            return (0, r.i)((0, r.b)(2, Bd, Object.assign({}, n.props)));
          case "SHARE_CONTACTS":
            return (0, r.i)((0, r.b)(2, Jb, Object.assign({}, n.props)));
          case "OUT_OF_SPACE_RECOVERY":
            return (0, r.b)(2, Zv);
          case "SEND_LOCATION":
            return (0, r.i)((0, r.b)(2, Ug.b, Object.assign({}, n.props)));
          case "MESSAGE_ADMIN":
            return (0, r.i)((0, r.b)(2, Ap, Object.assign({}, n.props)));
          case "SEND_GIF":
            return (0, r.i)(
              (0, r.b)(2, _g, Object.assign({}, n.props, { isActiveScreen: a }))
            );
          case "GIF_SEARCH":
            return (0, r.i)((0, r.b)(2, Pg, Object.assign({}, n.props)));
          case "GIF_RESULTS":
            return (0, r.i)((0, r.b)(2, Gg, Object.assign({}, n.props)));
          case "SEND_MEDIA":
            return (0, r.i)((0, r.b)(2, zg, Object.assign({}, n.props)));
          case "SEND_PLACE":
            return null;
          case "SETTINGS_NOTIFICATIONS":
            return (0, r.b)(2, Rb);
          case "SETTINGS_DATA":
            return (0, r.b)(2, db);
          case "SETTINGS_STORAGE":
            return (0, r.b)(2, Cb);
          case "USER_NOTICE_DEEP_LINK_MODAL":
            return (0, r.i)((0, r.b)(2, kf, Object.assign({}, n.props)));
          case "SETTINGS_STORAGE_CHATS":
            return (0, r.b)(2, Ob);
          case "REQUEST_ACCOUNT_INFO":
            return (0, r.b)(2, Lp);
          case "GEOLOCATION_SETTINGS":
            return (0, r.i)((0, r.b)(2, hh, Object.assign({}, n.props)));
          case "DEBUG":
          case "DEBUG_LOGS":
          case "DEBUG_OVERRIDE_ABPROPS":
          case "DEBUG_USER_NOTICE":
            return null;
          case "TWO_FACTOR_SETUP":
            return (0, r.b)(2, Iy);
          case "STATUS_READ_ME":
            return (0, r.i)(
              (0, r.b)(2, dS, Object.assign({}, n.props, { isActiveScreen: a }))
            );
          case "STATUS_READ_OTHERS":
            return (0, r.i)(
              (0, r.b)(2, hS, Object.assign({}, n.props, { isActiveScreen: a }))
            );
          case "STATUS_REPLY":
            return (0, r.i)(
              (0, r.b)(2, fS, Object.assign({ screenId: t }, n.props))
            );
          case "FEATURED_MESSAGES":
            return (0, r.i)(
              (0, r.b)(2, am, Object.assign({}, n.props, { isActiveScreen: a }))
            );
          case "CALL_LOG_INFO":
            return (0, r.i)(
              (0, r.b)(2, Ee, Object.assign({}, n.props), n.type)
            );
          case "NEW_CALL":
            return (0, r.b)(2, xv, null, n.type);
          case "STATUS_WHITELIST":
            return (0, r.i)((0, r.b)(2, FS, Object.assign({}, n.props)));
          case "STATUS_BLACKLIST":
            return (0, r.i)((0, r.b)(2, BS, Object.assign({}, n.props)));
          case "STATUS_SEND_TEXT":
            return (0, r.b)(2, wS);
          case "STATUS_MUTED_LIST":
            return (0, r.b)(2, bm);
          case "COMMUNITY_HOME":
            if ((0, Tn.a)("parent_group_query_ts")) {
              var i = s(534).default;
              return (0, r.i)((0, r.b)(2, i, Object.assign({}, n.props)));
            }
            return null;
          default:
            return (
              n.type, (0, r.i)((0, r.b)(2, MS, Object.assign({}, n.props)))
            );
        }
      }
    },
  },
]);
